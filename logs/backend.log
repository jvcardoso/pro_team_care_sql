INFO:     Will watch for changes in these directories: ['/home/juliano/Projetos/meu_projeto/backend']
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [3498334] using WatchFiles
INFO:     Started server process [3498337]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
âœ… Image analysis router loaded
==================================================
ðŸš€ Pro Team Care v1.0.0
ðŸ“ DocumentaÃ§Ã£o: http://localhost:8000/docs
ðŸ” Health Check: http://localhost:8000/health
âš ï¸  DATABASE FIRST: Certifique-se de criar as tabelas manualmente!
==================================================
INFO:     192.168.11.83:40532 - "GET /health HTTP/1.1" 200 OK
INFO:     192.168.11.12:50690 - "OPTIONS /kanban/analytics/itil-cards-paginated?skip=0&limit=50&start_date=2025-10-08&end_date=2025-11-07&sort_by=completedDate&sort_order=desc HTTP/1.1" 200 OK
INFO:     192.168.11.12:64979 - "OPTIONS /api/v1/kanban/columns HTTP/1.1" 200 OK
INFO:     192.168.11.12:55328 - "OPTIONS /api/v1/kanban/analytics?start_date=2025-10-08&end_date=2025-11-07 HTTP/1.1" 200 OK
INFO:     192.168.11.12:51063 - "OPTIONS /kanban/analytics/itil-cards-paginated?skip=0&limit=50&start_date=2025-10-08&end_date=2025-11-07&sort_by=completedDate&sort_order=desc HTTP/1.1" 200 OK
INFO:     192.168.11.12:59975 - "OPTIONS /api/v1/kanban/columns HTTP/1.1" 200 OK
INFO:     192.168.11.12:62470 - "OPTIONS /api/v1/kanban/analytics?start_date=2025-10-08&end_date=2025-11-07 HTTP/1.1" 200 OK
2025-11-07 18:37:52,079 INFO sqlalchemy.engine.Engine SELECT CAST(SERVERPROPERTY('ProductVersion') AS VARCHAR)
2025-11-07 18:37:52,080 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-11-07 18:37:52,084 INFO sqlalchemy.engine.Engine SELECT schema_name()
2025-11-07 18:37:52,084 INFO sqlalchemy.engine.Engine [generated in 0.00087s] ()
sys:1: SAWarning: Unrecognized server version info '17.0.925.4'.  Some SQL Server features may not function properly.
2025-11-07 18:37:52,092 INFO sqlalchemy.engine.Engine SELECT CAST('test max support' AS NVARCHAR(max))
2025-11-07 18:37:52,093 INFO sqlalchemy.engine.Engine [generated in 0.00051s] ()
2025-11-07 18:37:52,096 INFO sqlalchemy.engine.Engine SELECT 1 FROM fn_listextendedproperty(default, default, default, default, default, default, default)
2025-11-07 18:37:52,096 INFO sqlalchemy.engine.Engine [generated in 0.00051s] ()
2025-11-07 18:37:52,101 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:37:52,102 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:37:52,103 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:37:52,104 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:37:52,104 INFO sqlalchemy.engine.Engine [generated in 0.00207s] ('1',)
2025-11-07 18:37:52,104 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:37:52,104 INFO sqlalchemy.engine.Engine [cached since 0.002502s ago] ('1',)
2025-11-07 18:37:52,105 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:37:52,105 INFO sqlalchemy.engine.Engine [cached since 0.003586s ago] ('1',)
2025-11-07 18:37:52,106 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:37:52,108 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:37:52,109 INFO sqlalchemy.engine.Engine COMMIT
INFO:     192.168.11.12:50690 - "GET /kanban/analytics/itil-cards-paginated?skip=0&limit=50&start_date=2025-10-08&end_date=2025-11-07&sort_by=completedDate&sort_order=desc HTTP/1.1" 404 Not Found
2025-11-07 18:37:52,122 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:37:52,369 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:37:52,370 INFO sqlalchemy.engine.Engine [generated in 0.00245s] (1,)
2025-11-07 18:37:52,371 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:37:52,372 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:37:52,372 INFO sqlalchemy.engine.Engine [cached since 0.00499s ago] (1,)
2025-11-07 18:37:52,373 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:37:52,374 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:37:52,374 INFO sqlalchemy.engine.Engine [cached since 0.2723s ago] ('1',)
2025-11-07 18:37:52,381 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:37:52,385 INFO sqlalchemy.engine.Engine SELECT core.[CardColumns].[ColumnID], core.[CardColumns].[CompanyID], core.[CardColumns].[ColumnName], core.[CardColumns].[DisplayOrder], core.[CardColumns].[Color], core.[CardColumns].[IsActive], core.[CardColumns].[CreatedAt] 
FROM core.[CardColumns] 
WHERE core.[CardColumns].[CompanyID] = ? AND core.[CardColumns].[IsActive] = 1 ORDER BY core.[CardColumns].[DisplayOrder]
2025-11-07 18:37:52,386 INFO sqlalchemy.engine.Engine [generated in 0.00549s] (1,)
2025-11-07 18:37:52,386 INFO sqlalchemy.engine.Engine 
        SELECT
            CardID,
            CardCreatedAt,
            OldColumnName,
            NewColumnName,
            MovementDate,
            TimeInStageSeconds,
            DueDate
        FROM [analytics].[vw_CardFullHistory]
        WHERE CompanyID = ?
          AND MovementDate BETWEEN ? AND ?
        
2025-11-07 18:37:52,387 INFO sqlalchemy.engine.Engine [generated in 0.00174s] (1, '2025-10-08', '2025-11-07')
INFO:     192.168.11.12:50690 - "GET /kanban/analytics/itil-cards-paginated?skip=0&limit=50&start_date=2025-10-08&end_date=2025-11-07&sort_by=completedDate&sort_order=desc HTTP/1.1" 404 Not Found
2025-11-07 18:37:52,393 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:64979 - "GET /api/v1/kanban/columns HTTP/1.1" 200 OK
2025-11-07 18:37:52,400 INFO sqlalchemy.engine.Engine 
        SELECT COUNT(DISTINCT c.CardID) AS WIPCount
        FROM [core].[Cards] c
        WHERE c.CompanyID = ?
          AND c.IsDeleted = 0
          AND c.CompletedDate IS NULL
          AND c.ColumnID IN (
              SELECT cc.ColumnID
              FROM core.CardColumns cc
              WHERE cc.CompanyID = ?
                AND cc.ColumnName NOT IN ('Backlog', 'ConcluÃ­do')
          )
        
2025-11-07 18:37:52,400 INFO sqlalchemy.engine.Engine [generated in 0.00160s] (1, 1)
2025-11-07 18:37:52,403 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:37:52,404 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:37:52,404 INFO sqlalchemy.engine.Engine [cached since 0.302s ago] ('1',)
2025-11-07 18:37:52,407 INFO sqlalchemy.engine.Engine ROLLBACK
2025-11-07 18:37:52,407 INFO sqlalchemy.engine.Engine COMMIT
INFO:     192.168.11.12:55328 - "GET /api/v1/kanban/analytics?start_date=2025-10-08&end_date=2025-11-07 HTTP/1.1" 200 OK
2025-11-07 18:37:52,416 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:37:52,417 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:37:52,417 INFO sqlalchemy.engine.Engine [cached since 0.05003s ago] (1,)
2025-11-07 18:37:52,418 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:37:52,419 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:37:52,419 INFO sqlalchemy.engine.Engine [cached since 0.3173s ago] ('1',)
2025-11-07 18:37:52,422 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:37:52,423 INFO sqlalchemy.engine.Engine SELECT core.[CardColumns].[ColumnID], core.[CardColumns].[CompanyID], core.[CardColumns].[ColumnName], core.[CardColumns].[DisplayOrder], core.[CardColumns].[Color], core.[CardColumns].[IsActive], core.[CardColumns].[CreatedAt] 
FROM core.[CardColumns] 
WHERE core.[CardColumns].[CompanyID] = ? AND core.[CardColumns].[IsActive] = 1 ORDER BY core.[CardColumns].[DisplayOrder]
2025-11-07 18:37:52,423 INFO sqlalchemy.engine.Engine [cached since 0.04306s ago] (1,)
2025-11-07 18:37:52,429 INFO sqlalchemy.engine.Engine ROLLBACK
2025-11-07 18:37:52,429 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:37:52,430 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:37:52,430 INFO sqlalchemy.engine.Engine [cached since 0.0633s ago] (1,)
INFO:     192.168.11.12:64979 - "GET /api/v1/kanban/columns HTTP/1.1" 200 OK
2025-11-07 18:37:52,435 INFO sqlalchemy.engine.Engine 
        SELECT
            CardID,
            CardCreatedAt,
            OldColumnName,
            NewColumnName,
            MovementDate,
            TimeInStageSeconds,
            DueDate
        FROM [analytics].[vw_CardFullHistory]
        WHERE CompanyID = ?
          AND MovementDate BETWEEN ? AND ?
        
2025-11-07 18:37:52,435 INFO sqlalchemy.engine.Engine [cached since 0.0502s ago] (1, '2025-10-08', '2025-11-07')
2025-11-07 18:37:52,442 INFO sqlalchemy.engine.Engine 
        SELECT COUNT(DISTINCT c.CardID) AS WIPCount
        FROM [core].[Cards] c
        WHERE c.CompanyID = ?
          AND c.IsDeleted = 0
          AND c.CompletedDate IS NULL
          AND c.ColumnID IN (
              SELECT cc.ColumnID
              FROM core.CardColumns cc
              WHERE cc.CompanyID = ?
                AND cc.ColumnName NOT IN ('Backlog', 'ConcluÃ­do')
          )
        
2025-11-07 18:37:52,443 INFO sqlalchemy.engine.Engine [cached since 0.04406s ago] (1, 1)
2025-11-07 18:37:52,447 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:55328 - "GET /api/v1/kanban/analytics?start_date=2025-10-08&end_date=2025-11-07 HTTP/1.1" 200 OK
INFO:     192.168.11.12:55328 - "OPTIONS /api/v1/kanban/analytics/cards-in-period?start_date=2025-10-08&end_date=2025-11-07&column_ids=1,2,3,4,5 HTTP/1.1" 200 OK
INFO:     192.168.11.12:64979 - "OPTIONS /api/v1/kanban/analytics/cards-in-period?start_date=2025-10-08&end_date=2025-11-07&column_ids=1,2,3,4,5 HTTP/1.1" 200 OK
2025-11-07 18:37:52,585 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:37:52,586 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:37:52,586 INFO sqlalchemy.engine.Engine [cached since 0.484s ago] ('1',)
2025-11-07 18:37:52,588 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:37:52,595 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:37:52,596 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:37:52,596 INFO sqlalchemy.engine.Engine [cached since 0.2288s ago] (1,)
2025-11-07 18:37:52,600 INFO sqlalchemy.engine.Engine EXEC [core].[sp_GetAnalyticsCardsDetails] @StartDate = ?, @EndDate = ?, @CompanyID = ?, @UserID = ?
2025-11-07 18:37:52,600 INFO sqlalchemy.engine.Engine [generated in 0.00056s] ('2025-10-08', '2025-11-07', 1, 1)
2025-11-07 18:37:52,614 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:55328 - "GET /api/v1/kanban/analytics/cards-in-period?start_date=2025-10-08&end_date=2025-11-07&column_ids=1,2,3,4,5 HTTP/1.1" 200 OK
2025-11-07 18:37:52,626 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:37:52,626 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:37:52,626 INFO sqlalchemy.engine.Engine [cached since 0.5247s ago] ('1',)
2025-11-07 18:37:52,628 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:37:52,635 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:37:52,636 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:37:52,636 INFO sqlalchemy.engine.Engine [cached since 0.2689s ago] (1,)
2025-11-07 18:37:52,639 INFO sqlalchemy.engine.Engine EXEC [core].[sp_GetAnalyticsCardsDetails] @StartDate = ?, @EndDate = ?, @CompanyID = ?, @UserID = ?
2025-11-07 18:37:52,640 INFO sqlalchemy.engine.Engine [cached since 0.04031s ago] ('2025-10-08', '2025-11-07', 1, 1)
2025-11-07 18:37:52,653 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:55328 - "OPTIONS /api/v1/menus/dynamic HTTP/1.1" 200 OK
INFO:     192.168.11.12:64979 - "GET /api/v1/kanban/analytics/cards-in-period?start_date=2025-10-08&end_date=2025-11-07&column_ids=1,2,3,4,5 HTTP/1.1" 200 OK
2025-11-07 18:37:52,660 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:37:52,660 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:37:52,661 INFO sqlalchemy.engine.Engine [cached since 0.5589s ago] ('1',)
2025-11-07 18:37:52,661 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:37:52,662 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:37:52,662 INFO sqlalchemy.engine.Engine [cached since 0.5606s ago] ('1',)
2025-11-07 18:37:52,663 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:37:52,664 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:37:52,672 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:37:52,673 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:37:52,673 INFO sqlalchemy.engine.Engine [cached since 0.3061s ago] (1,)
2025-11-07 18:37:52,674 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:37:52,675 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:37:52,675 INFO sqlalchemy.engine.Engine [cached since 0.3078s ago] (1,)
2025-11-07 18:37:52,678 INFO sqlalchemy.engine.Engine 
            EXEC [core].[sp_get_dynamic_menus] @user_id_input = ?
        
2025-11-07 18:37:52,678 INFO sqlalchemy.engine.Engine [generated in 0.00080s] (1,)
2025-11-07 18:37:52,680 INFO sqlalchemy.engine.Engine EXEC [core].[sp_GetAnalyticsCardsDetails] @StartDate = ?, @EndDate = ?, @CompanyID = ?, @UserID = ?
2025-11-07 18:37:52,680 INFO sqlalchemy.engine.Engine [cached since 0.08117s ago] ('2025-10-08', '2025-11-07', 1, 1)
2025-11-07 18:37:52,687 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:55328 - "GET /api/v1/menus/dynamic HTTP/1.1" 200 OK
2025-11-07 18:37:52,694 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:50690 - "GET /api/v1/kanban/analytics/cards-in-period?start_date=2025-10-08&end_date=2025-11-07&column_ids=1,2,3,4,5 HTTP/1.1" 200 OK
INFO:     192.168.11.12:64634 - "OPTIONS /api/v1/kanban/analytics/itil-summary?start_date=2025-10-08&end_date=2025-11-07 HTTP/1.1" 200 OK
2025-11-07 18:38:02,088 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:38:02,089 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:38:02,089 INFO sqlalchemy.engine.Engine [cached since 9.988s ago] ('1',)
2025-11-07 18:38:02,091 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:38:02,098 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:38:02,099 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:38:02,099 INFO sqlalchemy.engine.Engine [cached since 9.732s ago] (1,)
2025-11-07 18:38:02,103 INFO sqlalchemy.engine.Engine 
        SELECT 
            ITILCategory,
            COUNT(*) AS TotalCards,
            AVG(CycleTimeSeconds) AS AvgCycleTime,
            SUM(MetSLA) * 100.0 / NULLIF(COUNT(*), 0) AS SLACompliance,
            SUM(CASE WHEN RiskLevel = 'High' THEN 1 ELSE 0 END) AS HighRiskCount,
            SUM(CASE WHEN HasWindow = 1 THEN 1 ELSE 0 END) AS WithWindow,
            SUM(CASE WHEN HasCAB = 1 THEN 1 ELSE 0 END) AS WithCAB,
            SUM(CASE WHEN HasBackout = 1 THEN 1 ELSE 0 END) AS WithBackout
        FROM analytics.vw_ITILReport
        WHERE CompletedDate BETWEEN ? AND ?
        AND CompanyID = ?
        GROUP BY ITILCategory
        ORDER BY TotalCards DESC
    
2025-11-07 18:38:02,103 INFO sqlalchemy.engine.Engine [generated in 0.00054s] ('2025-10-08', '2025-11-07', 1)
2025-11-07 18:38:02,108 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:64634 - "GET /api/v1/kanban/analytics/itil-summary?start_date=2025-10-08&end_date=2025-11-07 HTTP/1.1" 200 OK
INFO:     192.168.11.12:64634 - "OPTIONS /api/v1/kanban/analytics/itil-cards?start_date=2025-10-08&end_date=2025-11-07 HTTP/1.1" 200 OK
2025-11-07 18:38:02,119 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:38:02,120 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:38:02,120 INFO sqlalchemy.engine.Engine [cached since 10.02s ago] ('1',)
2025-11-07 18:38:02,122 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:38:02,128 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:38:02,129 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:38:02,129 INFO sqlalchemy.engine.Engine [cached since 9.762s ago] (1,)
2025-11-07 18:38:02,133 INFO sqlalchemy.engine.Engine 
        SELECT 
            CardID, ExternalCardID, Title, Description, ColumnName,
            ITILCategory, Priority, RiskLevel, HasWindow, HasCAB, HasBackout,
            StartDate, CompletedDate, DueDate, MetSLA, DaysLate
        FROM analytics.vw_ITILReport
        WHERE CompletedDate BETWEEN ? AND ?
        AND CompanyID = ?
     ORDER BY CompletedDate DESC
2025-11-07 18:38:02,133 INFO sqlalchemy.engine.Engine [generated in 0.00076s] ('2025-10-08', '2025-11-07', 1)
2025-11-07 18:38:02,140 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:64634 - "GET /api/v1/kanban/analytics/itil-cards?start_date=2025-10-08&end_date=2025-11-07 HTTP/1.1" 200 OK
INFO:     192.168.11.12:51748 - "OPTIONS /api/v1/kanban/analytics/itil-cards-paginated?skip=0&limit=50&start_date=2025-10-08&end_date=2025-11-07&sort_by=completedDate&sort_order=desc HTTP/1.1" 200 OK
INFO:     192.168.11.12:51208 - "GET /api/v1/kanban/columns HTTP/1.1" 401 Unauthorized
INFO:     192.168.11.12:55797 - "GET /api/v1/kanban/analytics/itil-summary?start_date=2025-10-08&end_date=2025-11-07 HTTP/1.1" 401 Unauthorized
INFO:     192.168.11.12:51748 - "GET /api/v1/kanban/analytics/itil-cards-paginated?skip=0&limit=50&start_date=2025-10-08&end_date=2025-11-07&sort_by=completedDate&sort_order=desc HTTP/1.1" 401 Unauthorized
INFO:     192.168.11.12:54027 - "OPTIONS /api/v1/auth/login HTTP/1.1" 200 OK
2025-11-07 18:39:00,456 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:39:00,457 INFO sqlalchemy.engine.Engine 
            EXEC [core].[sp_get_user_for_auth]
                @email_attempted = ?
        
2025-11-07 18:39:00,458 INFO sqlalchemy.engine.Engine [generated in 0.00067s] ('admin@proteamcare.com.br',)
(trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/home/juliano/Projetos/meu_projeto/backend/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-11-07 18:39:00,838 INFO sqlalchemy.engine.Engine 
            EXEC [core].[sp_log_login_success]
                @user_id = ?,
                @ip_address = ?,
                @user_agent = ?
        
2025-11-07 18:39:00,838 INFO sqlalchemy.engine.Engine [generated in 0.00120s] (1, '192.168.11.12', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36')
2025-11-07 18:39:01,042 INFO sqlalchemy.engine.Engine COMMIT
INFO:     192.168.11.12:54027 - "POST /api/v1/auth/login HTTP/1.1" 200 OK
INFO:     192.168.11.12:54027 - "OPTIONS /api/v1/auth/me HTTP/1.1" 200 OK
2025-11-07 18:39:01,115 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:39:01,115 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:39:01,115 INFO sqlalchemy.engine.Engine [cached since 69.01s ago] ('1',)
2025-11-07 18:39:01,118 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:39:01,125 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:39:01,126 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:39:01,126 INFO sqlalchemy.engine.Engine [cached since 68.76s ago] (1,)
2025-11-07 18:39:01,130 INFO sqlalchemy.engine.Engine EXEC [core].[sp_get_user_me_data] @user_id_input=?
2025-11-07 18:39:01,130 INFO sqlalchemy.engine.Engine [generated in 0.00055s] (1,)
2025-11-07 18:39:01,145 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:54027 - "GET /api/v1/auth/me HTTP/1.1" 200 OK
INFO:     192.168.11.12:54027 - "OPTIONS /api/v1/dashboard/stats HTTP/1.1" 200 OK
INFO:     192.168.11.12:57427 - "OPTIONS /api/v1/dashboard/stats HTTP/1.1" 200 OK
2025-11-07 18:39:01,301 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:39:01,302 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:39:01,302 INFO sqlalchemy.engine.Engine [cached since 69.2s ago] ('1',)
2025-11-07 18:39:01,305 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:39:01,312 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:39:01,313 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:39:01,313 INFO sqlalchemy.engine.Engine [cached since 68.95s ago] (1,)
2025-11-07 18:39:01,320 INFO sqlalchemy.engine.Engine SELECT count(core.users.id) AS count_1 
FROM core.users 
WHERE core.users.deleted_at IS NULL
2025-11-07 18:39:01,320 INFO sqlalchemy.engine.Engine [generated in 0.00067s] ()
2025-11-07 18:39:01,325 INFO sqlalchemy.engine.Engine SELECT count(core.users.id) AS count_1 
FROM core.users 
WHERE core.users.is_active = 1 AND core.users.deleted_at IS NULL
2025-11-07 18:39:01,325 INFO sqlalchemy.engine.Engine [generated in 0.00060s] ()
2025-11-07 18:39:01,330 INFO sqlalchemy.engine.Engine SELECT count(core.companies.id) AS count_1 
FROM core.companies 
WHERE core.companies.deleted_at IS NULL
2025-11-07 18:39:01,330 INFO sqlalchemy.engine.Engine [generated in 0.00062s] ()
2025-11-07 18:39:01,334 INFO sqlalchemy.engine.Engine SELECT count(core.companies.id) AS count_1 
FROM core.companies 
WHERE core.companies.access_status = ? AND core.companies.deleted_at IS NULL
2025-11-07 18:39:01,335 INFO sqlalchemy.engine.Engine [generated in 0.00072s] ('active',)
2025-11-07 18:39:01,339 INFO sqlalchemy.engine.Engine SELECT count(core.establishments.id) AS count_1 
FROM core.establishments 
WHERE core.establishments.deleted_at IS NULL
2025-11-07 18:39:01,339 INFO sqlalchemy.engine.Engine [generated in 0.00055s] ()
2025-11-07 18:39:01,344 INFO sqlalchemy.engine.Engine SELECT count(core.establishments.id) AS count_1 
FROM core.establishments 
WHERE core.establishments.is_active = 1 AND core.establishments.deleted_at IS NULL
2025-11-07 18:39:01,344 INFO sqlalchemy.engine.Engine [generated in 0.00079s] ()
2025-11-07 18:39:01,348 INFO sqlalchemy.engine.Engine SELECT count(core.roles.id) AS count_1 
FROM core.roles 
WHERE core.roles.deleted_at IS NULL
2025-11-07 18:39:01,348 INFO sqlalchemy.engine.Engine [generated in 0.00069s] ()
2025-11-07 18:39:01,352 INFO sqlalchemy.engine.Engine SELECT count(core.roles.id) AS count_1 
FROM core.roles 
WHERE core.roles.is_active = 1 AND core.roles.deleted_at IS NULL
2025-11-07 18:39:01,352 INFO sqlalchemy.engine.Engine [generated in 0.00065s] ()
2025-11-07 18:39:01,357 INFO sqlalchemy.engine.Engine SELECT count(core.notifications.id) AS count_1 
FROM core.notifications 
WHERE core.notifications.user_id = ? AND core.notifications.deleted_at IS NULL
2025-11-07 18:39:01,357 INFO sqlalchemy.engine.Engine [generated in 0.00067s] (1,)
2025-11-07 18:39:01,362 INFO sqlalchemy.engine.Engine SELECT count(core.notifications.id) AS count_1 
FROM core.notifications 
WHERE core.notifications.user_id = ? AND core.notifications.is_read = 0 AND core.notifications.deleted_at IS NULL
2025-11-07 18:39:01,362 INFO sqlalchemy.engine.Engine [generated in 0.00069s] (1,)
2025-11-07 18:39:01,367 INFO sqlalchemy.engine.Engine SELECT count(core.user_sessions.id) AS count_1 
FROM core.user_sessions 
WHERE core.user_sessions.expires_at > ?
2025-11-07 18:39:01,367 INFO sqlalchemy.engine.Engine [generated in 0.00071s] (datetime.datetime(2025, 11, 7, 21, 39, 1, 365883),)
2025-11-07 18:39:01,371 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:54027 - "GET /api/v1/dashboard/stats HTTP/1.1" 200 OK
2025-11-07 18:39:01,379 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:39:01,380 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:39:01,380 INFO sqlalchemy.engine.Engine [cached since 69.28s ago] ('1',)
2025-11-07 18:39:01,382 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:39:01,389 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:39:01,390 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:39:01,390 INFO sqlalchemy.engine.Engine [cached since 69.02s ago] (1,)
2025-11-07 18:39:01,395 INFO sqlalchemy.engine.Engine SELECT count(core.users.id) AS count_1 
FROM core.users 
WHERE core.users.deleted_at IS NULL
2025-11-07 18:39:01,395 INFO sqlalchemy.engine.Engine [cached since 0.07556s ago] ()
2025-11-07 18:39:01,398 INFO sqlalchemy.engine.Engine SELECT count(core.users.id) AS count_1 
FROM core.users 
WHERE core.users.is_active = 1 AND core.users.deleted_at IS NULL
2025-11-07 18:39:01,398 INFO sqlalchemy.engine.Engine [cached since 0.07402s ago] ()
2025-11-07 18:39:01,402 INFO sqlalchemy.engine.Engine SELECT count(core.companies.id) AS count_1 
FROM core.companies 
WHERE core.companies.deleted_at IS NULL
2025-11-07 18:39:01,402 INFO sqlalchemy.engine.Engine [cached since 0.07219s ago] ()
2025-11-07 18:39:01,405 INFO sqlalchemy.engine.Engine SELECT count(core.companies.id) AS count_1 
FROM core.companies 
WHERE core.companies.access_status = ? AND core.companies.deleted_at IS NULL
2025-11-07 18:39:01,405 INFO sqlalchemy.engine.Engine [cached since 0.07136s ago] ('active',)
2025-11-07 18:39:01,409 INFO sqlalchemy.engine.Engine SELECT count(core.establishments.id) AS count_1 
FROM core.establishments 
WHERE core.establishments.deleted_at IS NULL
2025-11-07 18:39:01,409 INFO sqlalchemy.engine.Engine [cached since 0.07007s ago] ()
2025-11-07 18:39:01,412 INFO sqlalchemy.engine.Engine SELECT count(core.establishments.id) AS count_1 
FROM core.establishments 
WHERE core.establishments.is_active = 1 AND core.establishments.deleted_at IS NULL
2025-11-07 18:39:01,412 INFO sqlalchemy.engine.Engine [cached since 0.06871s ago] ()
2025-11-07 18:39:01,415 INFO sqlalchemy.engine.Engine SELECT count(core.roles.id) AS count_1 
FROM core.roles 
WHERE core.roles.deleted_at IS NULL
2025-11-07 18:39:01,416 INFO sqlalchemy.engine.Engine [cached since 0.06787s ago] ()
2025-11-07 18:39:01,420 INFO sqlalchemy.engine.Engine SELECT count(core.roles.id) AS count_1 
FROM core.roles 
WHERE core.roles.is_active = 1 AND core.roles.deleted_at IS NULL
2025-11-07 18:39:01,420 INFO sqlalchemy.engine.Engine [cached since 0.06871s ago] ()
2025-11-07 18:39:01,424 INFO sqlalchemy.engine.Engine SELECT count(core.notifications.id) AS count_1 
FROM core.notifications 
WHERE core.notifications.user_id = ? AND core.notifications.deleted_at IS NULL
2025-11-07 18:39:01,424 INFO sqlalchemy.engine.Engine [cached since 0.06786s ago] (1,)
2025-11-07 18:39:01,429 INFO sqlalchemy.engine.Engine SELECT count(core.notifications.id) AS count_1 
FROM core.notifications 
WHERE core.notifications.user_id = ? AND core.notifications.is_read = 0 AND core.notifications.deleted_at IS NULL
2025-11-07 18:39:01,429 INFO sqlalchemy.engine.Engine [cached since 0.06721s ago] (1,)
2025-11-07 18:39:01,433 INFO sqlalchemy.engine.Engine SELECT count(core.user_sessions.id) AS count_1 
FROM core.user_sessions 
WHERE core.user_sessions.expires_at > ?
2025-11-07 18:39:01,433 INFO sqlalchemy.engine.Engine [cached since 0.0662s ago] (datetime.datetime(2025, 11, 7, 21, 39, 1, 432246),)
2025-11-07 18:39:01,436 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:54027 - "GET /api/v1/dashboard/stats HTTP/1.1" 200 OK
2025-11-07 18:39:02,100 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:39:02,101 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:39:02,101 INFO sqlalchemy.engine.Engine [cached since 70s ago] ('1',)
2025-11-07 18:39:02,104 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:39:02,112 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:39:02,113 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:39:02,113 INFO sqlalchemy.engine.Engine [cached since 69.75s ago] (1,)
2025-11-07 18:39:02,116 INFO sqlalchemy.engine.Engine 
            EXEC [core].[sp_get_dynamic_menus] @user_id_input = ?
        
2025-11-07 18:39:02,116 INFO sqlalchemy.engine.Engine [cached since 69.44s ago] (1,)
2025-11-07 18:39:02,125 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:54027 - "GET /api/v1/menus/dynamic HTTP/1.1" 200 OK
INFO:     192.168.11.12:54027 - "OPTIONS /api/v1/kanban/board HTTP/1.1" 200 OK
INFO:     192.168.11.12:57427 - "OPTIONS /api/v1/kanban/board HTTP/1.1" 200 OK
2025-11-07 18:39:04,625 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:39:04,626 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:39:04,627 INFO sqlalchemy.engine.Engine [cached since 72.52s ago] ('1',)
2025-11-07 18:39:04,629 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:39:04,638 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:39:04,639 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:39:04,640 INFO sqlalchemy.engine.Engine [cached since 72.27s ago] (1,)
2025-11-07 18:39:04,643 INFO sqlalchemy.engine.Engine SELECT core.[CardColumns].[ColumnID], core.[CardColumns].[CompanyID], core.[CardColumns].[ColumnName], core.[CardColumns].[DisplayOrder], core.[CardColumns].[Color], core.[CardColumns].[IsActive], core.[CardColumns].[CreatedAt] 
FROM core.[CardColumns] 
WHERE core.[CardColumns].[CompanyID] = ? AND core.[CardColumns].[IsActive] = 1 ORDER BY core.[CardColumns].[DisplayOrder]
2025-11-07 18:39:04,644 INFO sqlalchemy.engine.Engine [cached since 72.26s ago] (1,)
2025-11-07 18:39:04,653 INFO sqlalchemy.engine.Engine SELECT core.[Cards].[CardID], core.[Cards].[CompanyID], core.[Cards].[UserID], core.[Cards].[ColumnID], core.[Cards].[DisplayOrder], core.[Cards].[Title], core.[Cards].[Description], core.[Cards].[OriginalText], core.[Cards].[SubStatus], core.[Cards].[Priority], core.[Cards].[StartDate], core.[Cards].[DueDate], core.[Cards].[CompletedDate], core.[Cards].[CreatedAt], core.[Cards].[IsDeleted], core.[Cards].[DeletedAt], core.[Cards].[ExternalCardID] 
FROM core.[Cards] 
WHERE core.[Cards].[CompanyID] = ? AND core.[Cards].[IsDeleted] = 0 AND core.[Cards].[ColumnID] = ? ORDER BY core.[Cards].[DisplayOrder] ASC, core.[Cards].[CreatedAt] DESC
 OFFSET ? ROWS
 FETCH FIRST ? ROWS ONLY
2025-11-07 18:39:04,653 INFO sqlalchemy.engine.Engine [generated in 0.00086s] (1, 1, 0, 100)
2025-11-07 18:39:04,659 INFO sqlalchemy.engine.Engine SELECT core.[Cards].[CardID], core.[Cards].[CompanyID], core.[Cards].[UserID], core.[Cards].[ColumnID], core.[Cards].[DisplayOrder], core.[Cards].[Title], core.[Cards].[Description], core.[Cards].[OriginalText], core.[Cards].[SubStatus], core.[Cards].[Priority], core.[Cards].[StartDate], core.[Cards].[DueDate], core.[Cards].[CompletedDate], core.[Cards].[CreatedAt], core.[Cards].[IsDeleted], core.[Cards].[DeletedAt], core.[Cards].[ExternalCardID] 
FROM core.[Cards] 
WHERE core.[Cards].[CompanyID] = ? AND core.[Cards].[IsDeleted] = 0 AND core.[Cards].[ColumnID] = ? ORDER BY core.[Cards].[DisplayOrder] ASC, core.[Cards].[CreatedAt] DESC
 OFFSET ? ROWS
 FETCH FIRST ? ROWS ONLY
2025-11-07 18:39:04,660 INFO sqlalchemy.engine.Engine [cached since 0.007093s ago] (1, 2, 0, 100)
2025-11-07 18:39:04,664 INFO sqlalchemy.engine.Engine SELECT core.[Cards].[CardID], core.[Cards].[CompanyID], core.[Cards].[UserID], core.[Cards].[ColumnID], core.[Cards].[DisplayOrder], core.[Cards].[Title], core.[Cards].[Description], core.[Cards].[OriginalText], core.[Cards].[SubStatus], core.[Cards].[Priority], core.[Cards].[StartDate], core.[Cards].[DueDate], core.[Cards].[CompletedDate], core.[Cards].[CreatedAt], core.[Cards].[IsDeleted], core.[Cards].[DeletedAt], core.[Cards].[ExternalCardID] 
FROM core.[Cards] 
WHERE core.[Cards].[CompanyID] = ? AND core.[Cards].[IsDeleted] = 0 AND core.[Cards].[ColumnID] = ? ORDER BY core.[Cards].[DisplayOrder] ASC, core.[Cards].[CreatedAt] DESC
 OFFSET ? ROWS
 FETCH FIRST ? ROWS ONLY
2025-11-07 18:39:04,664 INFO sqlalchemy.engine.Engine [cached since 0.01165s ago] (1, 3, 0, 100)
2025-11-07 18:39:04,669 INFO sqlalchemy.engine.Engine SELECT core.[Cards].[CardID], core.[Cards].[CompanyID], core.[Cards].[UserID], core.[Cards].[ColumnID], core.[Cards].[DisplayOrder], core.[Cards].[Title], core.[Cards].[Description], core.[Cards].[OriginalText], core.[Cards].[SubStatus], core.[Cards].[Priority], core.[Cards].[StartDate], core.[Cards].[DueDate], core.[Cards].[CompletedDate], core.[Cards].[CreatedAt], core.[Cards].[IsDeleted], core.[Cards].[DeletedAt], core.[Cards].[ExternalCardID] 
FROM core.[Cards] 
WHERE core.[Cards].[CompanyID] = ? AND core.[Cards].[IsDeleted] = 0 AND core.[Cards].[ColumnID] = ? ORDER BY core.[Cards].[DisplayOrder] ASC, core.[Cards].[CreatedAt] DESC
 OFFSET ? ROWS
 FETCH FIRST ? ROWS ONLY
2025-11-07 18:39:04,669 INFO sqlalchemy.engine.Engine [cached since 0.0167s ago] (1, 4, 0, 100)
2025-11-07 18:39:04,674 INFO sqlalchemy.engine.Engine SELECT core.[Cards].[CardID], core.[Cards].[CompanyID], core.[Cards].[UserID], core.[Cards].[ColumnID], core.[Cards].[DisplayOrder], core.[Cards].[Title], core.[Cards].[Description], core.[Cards].[OriginalText], core.[Cards].[SubStatus], core.[Cards].[Priority], core.[Cards].[StartDate], core.[Cards].[DueDate], core.[Cards].[CompletedDate], core.[Cards].[CreatedAt], core.[Cards].[IsDeleted], core.[Cards].[DeletedAt], core.[Cards].[ExternalCardID] 
FROM core.[Cards] 
WHERE core.[Cards].[CompanyID] = ? AND core.[Cards].[IsDeleted] = 0 AND core.[Cards].[ColumnID] = ? ORDER BY core.[Cards].[DisplayOrder] ASC, core.[Cards].[CreatedAt] DESC
 OFFSET ? ROWS
 FETCH FIRST ? ROWS ONLY
2025-11-07 18:39:04,674 INFO sqlalchemy.engine.Engine [cached since 0.02144s ago] (1, 5, 0, 100)
2025-11-07 18:39:04,701 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:54027 - "GET /api/v1/kanban/board HTTP/1.1" 200 OK
2025-11-07 18:39:04,712 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:39:04,713 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:39:04,713 INFO sqlalchemy.engine.Engine [cached since 72.61s ago] ('1',)
2025-11-07 18:39:04,715 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:39:04,725 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:39:04,726 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:39:04,727 INFO sqlalchemy.engine.Engine [cached since 72.36s ago] (1,)
2025-11-07 18:39:04,731 INFO sqlalchemy.engine.Engine SELECT core.[CardColumns].[ColumnID], core.[CardColumns].[CompanyID], core.[CardColumns].[ColumnName], core.[CardColumns].[DisplayOrder], core.[CardColumns].[Color], core.[CardColumns].[IsActive], core.[CardColumns].[CreatedAt] 
FROM core.[CardColumns] 
WHERE core.[CardColumns].[CompanyID] = ? AND core.[CardColumns].[IsActive] = 1 ORDER BY core.[CardColumns].[DisplayOrder]
2025-11-07 18:39:04,731 INFO sqlalchemy.engine.Engine [cached since 72.35s ago] (1,)
2025-11-07 18:39:04,736 INFO sqlalchemy.engine.Engine SELECT core.[Cards].[CardID], core.[Cards].[CompanyID], core.[Cards].[UserID], core.[Cards].[ColumnID], core.[Cards].[DisplayOrder], core.[Cards].[Title], core.[Cards].[Description], core.[Cards].[OriginalText], core.[Cards].[SubStatus], core.[Cards].[Priority], core.[Cards].[StartDate], core.[Cards].[DueDate], core.[Cards].[CompletedDate], core.[Cards].[CreatedAt], core.[Cards].[IsDeleted], core.[Cards].[DeletedAt], core.[Cards].[ExternalCardID] 
FROM core.[Cards] 
WHERE core.[Cards].[CompanyID] = ? AND core.[Cards].[IsDeleted] = 0 AND core.[Cards].[ColumnID] = ? ORDER BY core.[Cards].[DisplayOrder] ASC, core.[Cards].[CreatedAt] DESC
 OFFSET ? ROWS
 FETCH FIRST ? ROWS ONLY
2025-11-07 18:39:04,736 INFO sqlalchemy.engine.Engine [cached since 0.08355s ago] (1, 1, 0, 100)
2025-11-07 18:39:04,742 INFO sqlalchemy.engine.Engine SELECT core.[Cards].[CardID], core.[Cards].[CompanyID], core.[Cards].[UserID], core.[Cards].[ColumnID], core.[Cards].[DisplayOrder], core.[Cards].[Title], core.[Cards].[Description], core.[Cards].[OriginalText], core.[Cards].[SubStatus], core.[Cards].[Priority], core.[Cards].[StartDate], core.[Cards].[DueDate], core.[Cards].[CompletedDate], core.[Cards].[CreatedAt], core.[Cards].[IsDeleted], core.[Cards].[DeletedAt], core.[Cards].[ExternalCardID] 
FROM core.[Cards] 
WHERE core.[Cards].[CompanyID] = ? AND core.[Cards].[IsDeleted] = 0 AND core.[Cards].[ColumnID] = ? ORDER BY core.[Cards].[DisplayOrder] ASC, core.[Cards].[CreatedAt] DESC
 OFFSET ? ROWS
 FETCH FIRST ? ROWS ONLY
2025-11-07 18:39:04,742 INFO sqlalchemy.engine.Engine [cached since 0.08946s ago] (1, 2, 0, 100)
2025-11-07 18:39:04,747 INFO sqlalchemy.engine.Engine SELECT core.[Cards].[CardID], core.[Cards].[CompanyID], core.[Cards].[UserID], core.[Cards].[ColumnID], core.[Cards].[DisplayOrder], core.[Cards].[Title], core.[Cards].[Description], core.[Cards].[OriginalText], core.[Cards].[SubStatus], core.[Cards].[Priority], core.[Cards].[StartDate], core.[Cards].[DueDate], core.[Cards].[CompletedDate], core.[Cards].[CreatedAt], core.[Cards].[IsDeleted], core.[Cards].[DeletedAt], core.[Cards].[ExternalCardID] 
FROM core.[Cards] 
WHERE core.[Cards].[CompanyID] = ? AND core.[Cards].[IsDeleted] = 0 AND core.[Cards].[ColumnID] = ? ORDER BY core.[Cards].[DisplayOrder] ASC, core.[Cards].[CreatedAt] DESC
 OFFSET ? ROWS
 FETCH FIRST ? ROWS ONLY
2025-11-07 18:39:04,747 INFO sqlalchemy.engine.Engine [cached since 0.09443s ago] (1, 3, 0, 100)
2025-11-07 18:39:04,752 INFO sqlalchemy.engine.Engine SELECT core.[Cards].[CardID], core.[Cards].[CompanyID], core.[Cards].[UserID], core.[Cards].[ColumnID], core.[Cards].[DisplayOrder], core.[Cards].[Title], core.[Cards].[Description], core.[Cards].[OriginalText], core.[Cards].[SubStatus], core.[Cards].[Priority], core.[Cards].[StartDate], core.[Cards].[DueDate], core.[Cards].[CompletedDate], core.[Cards].[CreatedAt], core.[Cards].[IsDeleted], core.[Cards].[DeletedAt], core.[Cards].[ExternalCardID] 
FROM core.[Cards] 
WHERE core.[Cards].[CompanyID] = ? AND core.[Cards].[IsDeleted] = 0 AND core.[Cards].[ColumnID] = ? ORDER BY core.[Cards].[DisplayOrder] ASC, core.[Cards].[CreatedAt] DESC
 OFFSET ? ROWS
 FETCH FIRST ? ROWS ONLY
2025-11-07 18:39:04,752 INFO sqlalchemy.engine.Engine [cached since 0.09978s ago] (1, 4, 0, 100)
2025-11-07 18:39:04,756 INFO sqlalchemy.engine.Engine SELECT core.[Cards].[CardID], core.[Cards].[CompanyID], core.[Cards].[UserID], core.[Cards].[ColumnID], core.[Cards].[DisplayOrder], core.[Cards].[Title], core.[Cards].[Description], core.[Cards].[OriginalText], core.[Cards].[SubStatus], core.[Cards].[Priority], core.[Cards].[StartDate], core.[Cards].[DueDate], core.[Cards].[CompletedDate], core.[Cards].[CreatedAt], core.[Cards].[IsDeleted], core.[Cards].[DeletedAt], core.[Cards].[ExternalCardID] 
FROM core.[Cards] 
WHERE core.[Cards].[CompanyID] = ? AND core.[Cards].[IsDeleted] = 0 AND core.[Cards].[ColumnID] = ? ORDER BY core.[Cards].[DisplayOrder] ASC, core.[Cards].[CreatedAt] DESC
 OFFSET ? ROWS
 FETCH FIRST ? ROWS ONLY
2025-11-07 18:39:04,757 INFO sqlalchemy.engine.Engine [cached since 0.1041s ago] (1, 5, 0, 100)
2025-11-07 18:39:04,779 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:57427 - "GET /api/v1/kanban/board HTTP/1.1" 200 OK
2025-11-07 18:39:05,412 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:39:05,413 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:39:05,414 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:39:05,415 INFO sqlalchemy.engine.Engine [cached since 73.31s ago] ('1',)
2025-11-07 18:39:05,416 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:39:05,416 INFO sqlalchemy.engine.Engine [cached since 73.31s ago] ('1',)
2025-11-07 18:39:05,417 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:39:05,418 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:39:05,419 INFO sqlalchemy.engine.Engine [cached since 73.32s ago] ('1',)
2025-11-07 18:39:05,420 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:39:05,421 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:39:05,423 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:39:05,441 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:39:05,442 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:39:05,443 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:39:05,443 INFO sqlalchemy.engine.Engine [cached since 73.08s ago] (1,)
2025-11-07 18:39:05,444 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:39:05,445 INFO sqlalchemy.engine.Engine [cached since 73.08s ago] (1,)
2025-11-07 18:39:05,446 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:39:05,447 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:39:05,447 INFO sqlalchemy.engine.Engine [cached since 73.08s ago] (1,)
2025-11-07 18:39:05,455 INFO sqlalchemy.engine.Engine 
            SELECT COUNT(*) as total
            FROM analytics.vw_ITILReport
            WHERE CompletedDate BETWEEN ? AND ?
            AND CompanyID = ?
        
2025-11-07 18:39:05,455 INFO sqlalchemy.engine.Engine [generated in 0.00375s] ('2025-10-08', '2025-11-07', 1)
2025-11-07 18:39:05,457 INFO sqlalchemy.engine.Engine SELECT core.[CardColumns].[ColumnID], core.[CardColumns].[CompanyID], core.[CardColumns].[ColumnName], core.[CardColumns].[DisplayOrder], core.[CardColumns].[Color], core.[CardColumns].[IsActive], core.[CardColumns].[CreatedAt] 
FROM core.[CardColumns] 
WHERE core.[CardColumns].[CompanyID] = ? AND core.[CardColumns].[IsActive] = 1 ORDER BY core.[CardColumns].[DisplayOrder]
2025-11-07 18:39:05,457 INFO sqlalchemy.engine.Engine [cached since 73.08s ago] (1,)
2025-11-07 18:39:05,462 INFO sqlalchemy.engine.Engine 
        SELECT
            CardID,
            CardCreatedAt,
            OldColumnName,
            NewColumnName,
            MovementDate,
            TimeInStageSeconds,
            DueDate
        FROM [analytics].[vw_CardFullHistory]
        WHERE CompanyID = ?
          AND MovementDate BETWEEN ? AND ?
        
2025-11-07 18:39:05,463 INFO sqlalchemy.engine.Engine [cached since 73.08s ago] (1, '2025-10-08', '2025-11-07')
2025-11-07 18:39:05,463 INFO sqlalchemy.engine.Engine 
            SELECT
                CardID, ExternalCardID, Title, ColumnName,
                ITILCategory, RiskLevel, HasWindow, HasCAB, HasBackout,
                CompletedDate, MetSLA, DaysLate
            FROM analytics.vw_ITILReport
            WHERE CompletedDate BETWEEN ? AND ?
            AND CompanyID = ?
            ORDER BY CompletedDate DESC
            OFFSET ? ROWS
            FETCH NEXT ? ROWS ONLY
        
2025-11-07 18:39:05,464 INFO sqlalchemy.engine.Engine [generated in 0.00193s] ('2025-10-08', '2025-11-07', 1, 0, 50)
2025-11-07 18:39:05,469 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:54027 - "GET /api/v1/kanban/columns HTTP/1.1" 200 OK
2025-11-07 18:39:05,482 INFO sqlalchemy.engine.Engine ROLLBACK
2025-11-07 18:39:05,485 INFO sqlalchemy.engine.Engine 
        SELECT COUNT(DISTINCT c.CardID) AS WIPCount
        FROM [core].[Cards] c
        WHERE c.CompanyID = ?
          AND c.IsDeleted = 0
          AND c.CompletedDate IS NULL
          AND c.ColumnID IN (
              SELECT cc.ColumnID
              FROM core.CardColumns cc
              WHERE cc.CompanyID = ?
                AND cc.ColumnName NOT IN ('Backlog', 'ConcluÃ­do')
          )
        
2025-11-07 18:39:05,485 INFO sqlalchemy.engine.Engine [cached since 73.09s ago] (1, 1)
2025-11-07 18:39:05,486 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:     192.168.11.12:57427 - "GET /api/v1/kanban/analytics/itil-cards-paginated?skip=0&limit=50&start_date=2025-10-08&end_date=2025-11-07&sort_by=completedDate&sort_order=desc HTTP/1.1" 200 OK
2025-11-07 18:39:05,489 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:39:05,489 INFO sqlalchemy.engine.Engine [cached since 73.39s ago] ('1',)
2025-11-07 18:39:05,492 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:39:05,498 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:39:05,502 INFO sqlalchemy.engine.Engine ROLLBACK
2025-11-07 18:39:05,502 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:39:05,503 INFO sqlalchemy.engine.Engine [cached since 73.4s ago] ('1',)
INFO:     192.168.11.12:60728 - "GET /api/v1/kanban/analytics?start_date=2025-10-08&end_date=2025-11-07 HTTP/1.1" 200 OK
2025-11-07 18:39:05,507 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:39:05,509 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:39:05,511 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:39:05,511 INFO sqlalchemy.engine.Engine [cached since 73.14s ago] (1,)
2025-11-07 18:39:05,514 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:39:05,516 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:39:05,516 INFO sqlalchemy.engine.Engine [cached since 73.41s ago] ('1',)
2025-11-07 18:39:05,520 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:39:05,522 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:39:05,523 INFO sqlalchemy.engine.Engine SELECT core.[CardColumns].[ColumnID], core.[CardColumns].[CompanyID], core.[CardColumns].[ColumnName], core.[CardColumns].[DisplayOrder], core.[CardColumns].[Color], core.[CardColumns].[IsActive], core.[CardColumns].[CreatedAt] 
FROM core.[CardColumns] 
WHERE core.[CardColumns].[CompanyID] = ? AND core.[CardColumns].[IsActive] = 1 ORDER BY core.[CardColumns].[DisplayOrder]
2025-11-07 18:39:05,523 INFO sqlalchemy.engine.Engine [cached since 73.14s ago] (1,)
2025-11-07 18:39:05,524 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:39:05,524 INFO sqlalchemy.engine.Engine [cached since 73.16s ago] (1,)
2025-11-07 18:39:05,533 INFO sqlalchemy.engine.Engine ROLLBACK
2025-11-07 18:39:05,534 INFO sqlalchemy.engine.Engine 
            SELECT COUNT(*) as total
            FROM analytics.vw_ITILReport
            WHERE CompletedDate BETWEEN ? AND ?
            AND CompanyID = ?
        
2025-11-07 18:39:05,534 INFO sqlalchemy.engine.Engine [cached since 0.08226s ago] ('2025-10-08', '2025-11-07', 1)
2025-11-07 18:39:05,534 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:39:05,536 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:39:05,536 INFO sqlalchemy.engine.Engine [cached since 73.17s ago] (1,)
INFO:     192.168.11.12:54027 - "GET /api/v1/kanban/columns HTTP/1.1" 200 OK
2025-11-07 18:39:05,541 INFO sqlalchemy.engine.Engine 
            SELECT
                CardID, ExternalCardID, Title, ColumnName,
                ITILCategory, RiskLevel, HasWindow, HasCAB, HasBackout,
                CompletedDate, MetSLA, DaysLate
            FROM analytics.vw_ITILReport
            WHERE CompletedDate BETWEEN ? AND ?
            AND CompanyID = ?
            ORDER BY CompletedDate DESC
            OFFSET ? ROWS
            FETCH NEXT ? ROWS ONLY
        
2025-11-07 18:39:05,541 INFO sqlalchemy.engine.Engine [cached since 0.07897s ago] ('2025-10-08', '2025-11-07', 1, 0, 50)
2025-11-07 18:39:05,543 INFO sqlalchemy.engine.Engine 
        SELECT
            CardID,
            CardCreatedAt,
            OldColumnName,
            NewColumnName,
            MovementDate,
            TimeInStageSeconds,
            DueDate
        FROM [analytics].[vw_CardFullHistory]
        WHERE CompanyID = ?
          AND MovementDate BETWEEN ? AND ?
        
2025-11-07 18:39:05,543 INFO sqlalchemy.engine.Engine [cached since 73.16s ago] (1, '2025-10-08', '2025-11-07')
2025-11-07 18:39:05,547 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:57427 - "GET /api/v1/kanban/analytics/itil-cards-paginated?skip=0&limit=50&start_date=2025-10-08&end_date=2025-11-07&sort_by=completedDate&sort_order=desc HTTP/1.1" 200 OK
2025-11-07 18:39:05,552 INFO sqlalchemy.engine.Engine 
        SELECT COUNT(DISTINCT c.CardID) AS WIPCount
        FROM [core].[Cards] c
        WHERE c.CompanyID = ?
          AND c.IsDeleted = 0
          AND c.CompletedDate IS NULL
          AND c.ColumnID IN (
              SELECT cc.ColumnID
              FROM core.CardColumns cc
              WHERE cc.CompanyID = ?
                AND cc.ColumnName NOT IN ('Backlog', 'ConcluÃ­do')
          )
        
2025-11-07 18:39:05,552 INFO sqlalchemy.engine.Engine [cached since 73.15s ago] (1, 1)
2025-11-07 18:39:05,556 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:60728 - "GET /api/v1/kanban/analytics?start_date=2025-10-08&end_date=2025-11-07 HTTP/1.1" 200 OK
2025-11-07 18:39:05,634 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:39:05,635 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:39:05,635 INFO sqlalchemy.engine.Engine [cached since 73.53s ago] ('1',)
2025-11-07 18:39:05,638 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:39:05,645 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:39:05,646 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:39:05,646 INFO sqlalchemy.engine.Engine [cached since 73.28s ago] (1,)
2025-11-07 18:39:05,650 INFO sqlalchemy.engine.Engine EXEC [core].[sp_GetAnalyticsCardsDetails] @StartDate = ?, @EndDate = ?, @CompanyID = ?, @UserID = ?
2025-11-07 18:39:05,650 INFO sqlalchemy.engine.Engine [cached since 73.05s ago] ('2025-10-08', '2025-11-07', 1, 1)
2025-11-07 18:39:05,665 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:60728 - "GET /api/v1/kanban/analytics/cards-in-period?start_date=2025-10-08&end_date=2025-11-07&column_ids=1,2,3,4,5 HTTP/1.1" 200 OK
2025-11-07 18:39:05,674 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:39:05,675 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:39:05,675 INFO sqlalchemy.engine.Engine [cached since 73.57s ago] ('1',)
2025-11-07 18:39:05,677 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:39:05,685 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:39:05,686 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:39:05,686 INFO sqlalchemy.engine.Engine [cached since 73.32s ago] (1,)
2025-11-07 18:39:05,690 INFO sqlalchemy.engine.Engine EXEC [core].[sp_GetAnalyticsCardsDetails] @StartDate = ?, @EndDate = ?, @CompanyID = ?, @UserID = ?
2025-11-07 18:39:05,691 INFO sqlalchemy.engine.Engine [cached since 73.09s ago] ('2025-10-08', '2025-11-07', 1, 1)
2025-11-07 18:39:05,707 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:60728 - "GET /api/v1/kanban/analytics/cards-in-period?start_date=2025-10-08&end_date=2025-11-07&column_ids=1,2,3,4,5 HTTP/1.1" 200 OK
2025-11-07 18:39:05,716 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:39:05,717 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:39:05,717 INFO sqlalchemy.engine.Engine [cached since 73.62s ago] ('1',)
2025-11-07 18:39:05,719 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:39:05,727 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:39:05,728 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:39:05,728 INFO sqlalchemy.engine.Engine [cached since 73.36s ago] (1,)
2025-11-07 18:39:05,732 INFO sqlalchemy.engine.Engine EXEC [core].[sp_GetAnalyticsCardsDetails] @StartDate = ?, @EndDate = ?, @CompanyID = ?, @UserID = ?
2025-11-07 18:39:05,732 INFO sqlalchemy.engine.Engine [cached since 73.13s ago] ('2025-10-08', '2025-11-07', 1, 1)
2025-11-07 18:39:05,747 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:60728 - "GET /api/v1/kanban/analytics/cards-in-period?start_date=2025-10-08&end_date=2025-11-07&column_ids=1,2,3,4,5 HTTP/1.1" 200 OK
2025-11-07 18:39:07,203 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:39:07,204 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:39:07,204 INFO sqlalchemy.engine.Engine [cached since 75.1s ago] ('1',)
2025-11-07 18:39:07,207 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:39:07,214 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:39:07,215 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:39:07,216 INFO sqlalchemy.engine.Engine [cached since 74.85s ago] (1,)
2025-11-07 18:39:07,220 INFO sqlalchemy.engine.Engine 
        SELECT 
            ITILCategory,
            COUNT(*) AS TotalCards,
            AVG(CycleTimeSeconds) AS AvgCycleTime,
            SUM(MetSLA) * 100.0 / NULLIF(COUNT(*), 0) AS SLACompliance,
            SUM(CASE WHEN RiskLevel = 'High' THEN 1 ELSE 0 END) AS HighRiskCount,
            SUM(CASE WHEN HasWindow = 1 THEN 1 ELSE 0 END) AS WithWindow,
            SUM(CASE WHEN HasCAB = 1 THEN 1 ELSE 0 END) AS WithCAB,
            SUM(CASE WHEN HasBackout = 1 THEN 1 ELSE 0 END) AS WithBackout
        FROM analytics.vw_ITILReport
        WHERE CompletedDate BETWEEN ? AND ?
        AND CompanyID = ?
        GROUP BY ITILCategory
        ORDER BY TotalCards DESC
    
2025-11-07 18:39:07,220 INFO sqlalchemy.engine.Engine [cached since 65.12s ago] ('2025-10-08', '2025-11-07', 1)
2025-11-07 18:39:07,225 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:60728 - "GET /api/v1/kanban/analytics/itil-summary?start_date=2025-10-08&end_date=2025-11-07 HTTP/1.1" 200 OK
2025-11-07 18:39:25,566 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:39:25,567 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:39:25,567 INFO sqlalchemy.engine.Engine [cached since 93.47s ago] ('1',)
2025-11-07 18:39:25,568 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:39:25,569 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:39:25,569 INFO sqlalchemy.engine.Engine [cached since 93.47s ago] ('1',)
2025-11-07 18:39:25,570 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:39:25,571 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:39:25,582 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:39:25,583 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:39:25,583 INFO sqlalchemy.engine.Engine [cached since 93.22s ago] (1,)
2025-11-07 18:39:25,584 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:39:25,585 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:39:25,585 INFO sqlalchemy.engine.Engine [cached since 93.22s ago] (1,)
2025-11-07 18:39:25,590 INFO sqlalchemy.engine.Engine EXEC [core].[sp_GetAnalyticsCardsDetails] @StartDate = ?, @EndDate = ?, @CompanyID = ?, @UserID = ?
2025-11-07 18:39:25,590 INFO sqlalchemy.engine.Engine [cached since 92.99s ago] ('2025-10-08', '2025-11-07', 1, 1)
2025-11-07 18:39:25,592 INFO sqlalchemy.engine.Engine 
        SELECT
            CardID,
            CardCreatedAt,
            OldColumnName,
            NewColumnName,
            MovementDate,
            TimeInStageSeconds,
            DueDate
        FROM [analytics].[vw_CardFullHistory]
        WHERE CompanyID = ?
          AND MovementDate BETWEEN ? AND ?
        
2025-11-07 18:39:25,592 INFO sqlalchemy.engine.Engine [cached since 93.21s ago] (1, '2025-10-08', '2025-11-07')
2025-11-07 18:39:25,601 INFO sqlalchemy.engine.Engine 
        SELECT COUNT(DISTINCT c.CardID) AS WIPCount
        FROM [core].[Cards] c
        WHERE c.CompanyID = ?
          AND c.IsDeleted = 0
          AND c.CompletedDate IS NULL
          AND c.ColumnID IN (
              SELECT cc.ColumnID
              FROM core.CardColumns cc
              WHERE cc.CompanyID = ?
                AND cc.ColumnName NOT IN ('Backlog', 'ConcluÃ­do')
          )
        
2025-11-07 18:39:25,601 INFO sqlalchemy.engine.Engine [cached since 93.2s ago] (1, 1)
2025-11-07 18:39:25,606 INFO sqlalchemy.engine.Engine ROLLBACK
2025-11-07 18:39:25,609 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:55508 - "GET /api/v1/kanban/analytics/cards-in-period?start_date=2025-10-08&end_date=2025-11-07&column_ids=1,2,3,4,5 HTTP/1.1" 200 OK
INFO:     192.168.11.12:58463 - "GET /api/v1/kanban/analytics?start_date=2025-10-08&end_date=2025-11-07 HTTP/1.1" 200 OK
2025-11-07 18:39:25,617 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:39:25,618 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:39:25,618 INFO sqlalchemy.engine.Engine [cached since 93.52s ago] ('1',)
2025-11-07 18:39:25,620 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:39:25,627 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:39:25,628 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:39:25,628 INFO sqlalchemy.engine.Engine [cached since 93.26s ago] (1,)
2025-11-07 18:39:25,632 INFO sqlalchemy.engine.Engine EXEC [core].[sp_GetAnalyticsCardsDetails] @StartDate = ?, @EndDate = ?, @CompanyID = ?, @UserID = ?
2025-11-07 18:39:25,632 INFO sqlalchemy.engine.Engine [cached since 93.03s ago] ('2025-10-08', '2025-11-07', 1, 1)
2025-11-07 18:39:25,646 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:55508 - "GET /api/v1/kanban/analytics/cards-in-period?start_date=2025-10-08&end_date=2025-11-07&column_ids=1,2,3,4,5 HTTP/1.1" 200 OK
2025-11-07 18:39:25,725 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:39:25,725 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:39:25,725 INFO sqlalchemy.engine.Engine [cached since 93.62s ago] ('1',)
2025-11-07 18:39:25,728 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:39:25,735 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:39:25,736 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:39:25,736 INFO sqlalchemy.engine.Engine [cached since 93.37s ago] (1,)
2025-11-07 18:39:25,740 INFO sqlalchemy.engine.Engine EXEC [core].[sp_GetAnalyticsCardsDetails] @StartDate = ?, @EndDate = ?, @CompanyID = ?, @UserID = ?
2025-11-07 18:39:25,740 INFO sqlalchemy.engine.Engine [cached since 93.14s ago] ('2025-10-08', '2025-11-07', 1, 1)
2025-11-07 18:39:25,755 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:55508 - "GET /api/v1/kanban/analytics/cards-in-period?start_date=2025-10-08&end_date=2025-11-07&column_ids=1,2,3,4,5 HTTP/1.1" 200 OK
2025-11-07 18:39:25,764 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:39:25,765 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:39:25,765 INFO sqlalchemy.engine.Engine [cached since 93.66s ago] ('1',)
2025-11-07 18:39:25,767 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:39:25,775 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:39:25,776 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:39:25,776 INFO sqlalchemy.engine.Engine [cached since 93.41s ago] (1,)
2025-11-07 18:39:25,781 INFO sqlalchemy.engine.Engine EXEC [core].[sp_GetAnalyticsCardsDetails] @StartDate = ?, @EndDate = ?, @CompanyID = ?, @UserID = ?
2025-11-07 18:39:25,781 INFO sqlalchemy.engine.Engine [cached since 93.18s ago] ('2025-10-08', '2025-11-07', 1, 1)
2025-11-07 18:39:25,798 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:55508 - "GET /api/v1/kanban/analytics/cards-in-period?start_date=2025-10-08&end_date=2025-11-07&column_ids=1,2,3,4,5 HTTP/1.1" 200 OK
2025-11-07 18:39:26,131 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:39:26,132 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:39:26,132 INFO sqlalchemy.engine.Engine [cached since 94.03s ago] ('1',)
2025-11-07 18:39:26,134 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:39:26,142 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:39:26,143 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:39:26,143 INFO sqlalchemy.engine.Engine [cached since 93.78s ago] (1,)
2025-11-07 18:39:26,147 INFO sqlalchemy.engine.Engine 
            SELECT COUNT(*) as total
            FROM analytics.vw_ITILReport
            WHERE CompletedDate BETWEEN ? AND ?
            AND CompanyID = ?
        
2025-11-07 18:39:26,147 INFO sqlalchemy.engine.Engine [cached since 20.7s ago] ('2025-10-01', '2025-11-07', 1)
2025-11-07 18:39:26,150 INFO sqlalchemy.engine.Engine 
            SELECT
                CardID, ExternalCardID, Title, ColumnName,
                ITILCategory, RiskLevel, HasWindow, HasCAB, HasBackout,
                CompletedDate, MetSLA, DaysLate
            FROM analytics.vw_ITILReport
            WHERE CompletedDate BETWEEN ? AND ?
            AND CompanyID = ?
            ORDER BY CompletedDate DESC
            OFFSET ? ROWS
            FETCH NEXT ? ROWS ONLY
        
2025-11-07 18:39:26,150 INFO sqlalchemy.engine.Engine [cached since 20.69s ago] ('2025-10-01', '2025-11-07', 1, 0, 50)
2025-11-07 18:39:26,156 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.83:46104 - "GET /api/v1/kanban/analytics/itil-cards-paginated?start_date=2025-10-01&end_date=2025-11-07 HTTP/1.1" 200 OK
2025-11-07 18:39:33,101 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:39:33,102 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:39:33,102 INFO sqlalchemy.engine.Engine [cached since 101s ago] ('1',)
2025-11-07 18:39:33,104 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:39:33,112 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:39:33,113 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:39:33,113 INFO sqlalchemy.engine.Engine [cached since 100.7s ago] (1,)
2025-11-07 18:39:33,118 INFO sqlalchemy.engine.Engine 
        SELECT 
            ITILCategory,
            COUNT(*) AS TotalCards,
            AVG(CycleTimeSeconds) AS AvgCycleTime,
            SUM(MetSLA) * 100.0 / NULLIF(COUNT(*), 0) AS SLACompliance,
            SUM(CASE WHEN RiskLevel = 'High' THEN 1 ELSE 0 END) AS HighRiskCount,
            SUM(CASE WHEN HasWindow = 1 THEN 1 ELSE 0 END) AS WithWindow,
            SUM(CASE WHEN HasCAB = 1 THEN 1 ELSE 0 END) AS WithCAB,
            SUM(CASE WHEN HasBackout = 1 THEN 1 ELSE 0 END) AS WithBackout
        FROM analytics.vw_ITILReport
        WHERE CompletedDate BETWEEN ? AND ?
        AND CompanyID = ?
        GROUP BY ITILCategory
        ORDER BY TotalCards DESC
    
2025-11-07 18:39:33,118 INFO sqlalchemy.engine.Engine [cached since 91.02s ago] ('2025-10-08', '2025-11-07', 1)
2025-11-07 18:39:33,124 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:56664 - "GET /api/v1/kanban/analytics/itil-summary?start_date=2025-10-08&end_date=2025-11-07 HTTP/1.1" 200 OK
INFO:     192.168.11.12:53057 - "OPTIONS /api/v1/kanban/analytics/itil-cards-paginated?skip=0&limit=25&start_date=2025-10-08&end_date=2025-11-07&sort_by=completedDate&sort_order=desc HTTP/1.1" 200 OK
2025-11-07 18:40:23,939 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:40:23,940 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:40:23,940 INFO sqlalchemy.engine.Engine [cached since 151.8s ago] ('1',)
2025-11-07 18:40:23,942 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:40:23,949 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:40:23,950 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:40:23,951 INFO sqlalchemy.engine.Engine [cached since 151.6s ago] (1,)
2025-11-07 18:40:23,954 INFO sqlalchemy.engine.Engine 
            SELECT COUNT(*) as total
            FROM analytics.vw_ITILReport
            WHERE CompletedDate BETWEEN ? AND ?
            AND CompanyID = ?
        
2025-11-07 18:40:23,954 INFO sqlalchemy.engine.Engine [cached since 78.5s ago] ('2025-10-08', '2025-11-07', 1)
2025-11-07 18:40:23,957 INFO sqlalchemy.engine.Engine 
            SELECT
                CardID, ExternalCardID, Title, ColumnName,
                ITILCategory, RiskLevel, HasWindow, HasCAB, HasBackout,
                CompletedDate, MetSLA, DaysLate
            FROM analytics.vw_ITILReport
            WHERE CompletedDate BETWEEN ? AND ?
            AND CompanyID = ?
            ORDER BY CompletedDate DESC
            OFFSET ? ROWS
            FETCH NEXT ? ROWS ONLY
        
2025-11-07 18:40:23,957 INFO sqlalchemy.engine.Engine [cached since 78.5s ago] ('2025-10-08', '2025-11-07', 1, 0, 25)
2025-11-07 18:40:23,963 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:53057 - "GET /api/v1/kanban/analytics/itil-cards-paginated?skip=0&limit=25&start_date=2025-10-08&end_date=2025-11-07&sort_by=completedDate&sort_order=desc HTTP/1.1" 200 OK
2025-11-07 18:40:47,338 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:40:47,339 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:40:47,339 INFO sqlalchemy.engine.Engine [cached since 175.2s ago] ('1',)
2025-11-07 18:40:47,340 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:40:47,341 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:40:47,341 INFO sqlalchemy.engine.Engine [cached since 175.2s ago] ('1',)
2025-11-07 18:40:47,342 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:40:47,342 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:40:47,343 INFO sqlalchemy.engine.Engine [cached since 175.2s ago] ('1',)
2025-11-07 18:40:47,343 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:40:47,345 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:40:47,346 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:40:47,357 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:40:47,358 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:40:47,358 INFO sqlalchemy.engine.Engine [cached since 175s ago] (1,)
2025-11-07 18:40:47,359 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:40:47,360 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:40:47,360 INFO sqlalchemy.engine.Engine [cached since 175s ago] (1,)
2025-11-07 18:40:47,362 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:40:47,363 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:40:47,363 INFO sqlalchemy.engine.Engine [cached since 175s ago] (1,)
2025-11-07 18:40:47,367 INFO sqlalchemy.engine.Engine 
            SELECT COUNT(*) as total
            FROM analytics.vw_ITILReport
            WHERE CompletedDate BETWEEN ? AND ?
            AND CompanyID = ?
        
2025-11-07 18:40:47,368 INFO sqlalchemy.engine.Engine [cached since 101.9s ago] ('2025-10-08', '2025-11-07', 1)
2025-11-07 18:40:47,368 INFO sqlalchemy.engine.Engine 
        SELECT 
            ITILCategory,
            COUNT(*) AS TotalCards,
            AVG(CycleTimeSeconds) AS AvgCycleTime,
            SUM(MetSLA) * 100.0 / NULLIF(COUNT(*), 0) AS SLACompliance,
            SUM(CASE WHEN RiskLevel = 'High' THEN 1 ELSE 0 END) AS HighRiskCount,
            SUM(CASE WHEN HasWindow = 1 THEN 1 ELSE 0 END) AS WithWindow,
            SUM(CASE WHEN HasCAB = 1 THEN 1 ELSE 0 END) AS WithCAB,
            SUM(CASE WHEN HasBackout = 1 THEN 1 ELSE 0 END) AS WithBackout
        FROM analytics.vw_ITILReport
        WHERE CompletedDate BETWEEN ? AND ?
        AND CompanyID = ?
        GROUP BY ITILCategory
        ORDER BY TotalCards DESC
    
2025-11-07 18:40:47,369 INFO sqlalchemy.engine.Engine [cached since 165.3s ago] ('2025-10-08', '2025-11-07', 1)
2025-11-07 18:40:47,372 INFO sqlalchemy.engine.Engine SELECT core.[CardColumns].[ColumnID], core.[CardColumns].[CompanyID], core.[CardColumns].[ColumnName], core.[CardColumns].[DisplayOrder], core.[CardColumns].[Color], core.[CardColumns].[IsActive], core.[CardColumns].[CreatedAt] 
FROM core.[CardColumns] 
WHERE core.[CardColumns].[CompanyID] = ? AND core.[CardColumns].[IsActive] = 1 ORDER BY core.[CardColumns].[DisplayOrder]
2025-11-07 18:40:47,372 INFO sqlalchemy.engine.Engine [cached since 175s ago] (1,)
2025-11-07 18:40:47,373 INFO sqlalchemy.engine.Engine 
            SELECT
                CardID, ExternalCardID, Title, ColumnName,
                ITILCategory, RiskLevel, HasWindow, HasCAB, HasBackout,
                CompletedDate, MetSLA, DaysLate
            FROM analytics.vw_ITILReport
            WHERE CompletedDate BETWEEN ? AND ?
            AND CompanyID = ?
            ORDER BY CompletedDate DESC
            OFFSET ? ROWS
            FETCH NEXT ? ROWS ONLY
        
2025-11-07 18:40:47,374 INFO sqlalchemy.engine.Engine [cached since 101.9s ago] ('2025-10-08', '2025-11-07', 1, 0, 25)
2025-11-07 18:40:47,378 INFO sqlalchemy.engine.Engine ROLLBACK
2025-11-07 18:40:47,381 INFO sqlalchemy.engine.Engine ROLLBACK
2025-11-07 18:40:47,384 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:55594 - "GET /api/v1/kanban/analytics/itil-summary?start_date=2025-10-08&end_date=2025-11-07 HTTP/1.1" 200 OK
INFO:     192.168.11.12:59100 - "GET /api/v1/kanban/columns HTTP/1.1" 200 OK
INFO:     192.168.11.12:61398 - "GET /api/v1/kanban/analytics/itil-cards-paginated?skip=0&limit=25&start_date=2025-10-08&end_date=2025-11-07&sort_by=completedDate&sort_order=desc HTTP/1.1" 200 OK
2025-11-07 18:40:50,527 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:40:50,528 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:40:50,529 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:40:50,529 INFO sqlalchemy.engine.Engine [cached since 178.4s ago] ('1',)
2025-11-07 18:40:50,530 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:40:50,530 INFO sqlalchemy.engine.Engine [cached since 178.4s ago] ('1',)
2025-11-07 18:40:50,531 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:40:50,532 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:40:50,532 INFO sqlalchemy.engine.Engine [cached since 178.4s ago] ('1',)
2025-11-07 18:40:50,534 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:40:50,535 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:40:50,536 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:40:50,551 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:40:50,552 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:40:50,552 INFO sqlalchemy.engine.Engine [cached since 178.2s ago] (1,)
2025-11-07 18:40:50,553 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:40:50,554 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:40:50,555 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:40:50,555 INFO sqlalchemy.engine.Engine [cached since 178.2s ago] (1,)
2025-11-07 18:40:50,556 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:40:50,557 INFO sqlalchemy.engine.Engine [cached since 178.2s ago] (1,)
2025-11-07 18:40:50,564 INFO sqlalchemy.engine.Engine SELECT core.[CardColumns].[ColumnID], core.[CardColumns].[CompanyID], core.[CardColumns].[ColumnName], core.[CardColumns].[DisplayOrder], core.[CardColumns].[Color], core.[CardColumns].[IsActive], core.[CardColumns].[CreatedAt] 
FROM core.[CardColumns] 
WHERE core.[CardColumns].[CompanyID] = ? AND core.[CardColumns].[IsActive] = 1 ORDER BY core.[CardColumns].[DisplayOrder]
2025-11-07 18:40:50,565 INFO sqlalchemy.engine.Engine [cached since 178.2s ago] (1,)
2025-11-07 18:40:50,566 INFO sqlalchemy.engine.Engine 
        SELECT 
            ITILCategory,
            COUNT(*) AS TotalCards,
            AVG(CycleTimeSeconds) AS AvgCycleTime,
            SUM(MetSLA) * 100.0 / NULLIF(COUNT(*), 0) AS SLACompliance,
            SUM(CASE WHEN RiskLevel = 'High' THEN 1 ELSE 0 END) AS HighRiskCount,
            SUM(CASE WHEN HasWindow = 1 THEN 1 ELSE 0 END) AS WithWindow,
            SUM(CASE WHEN HasCAB = 1 THEN 1 ELSE 0 END) AS WithCAB,
            SUM(CASE WHEN HasBackout = 1 THEN 1 ELSE 0 END) AS WithBackout
        FROM analytics.vw_ITILReport
        WHERE CompletedDate BETWEEN ? AND ?
        AND CompanyID = ?
        GROUP BY ITILCategory
        ORDER BY TotalCards DESC
    
2025-11-07 18:40:50,566 INFO sqlalchemy.engine.Engine [cached since 168.5s ago] ('2025-10-08', '2025-11-07', 1)
2025-11-07 18:40:50,570 INFO sqlalchemy.engine.Engine 
            SELECT COUNT(*) as total
            FROM analytics.vw_ITILReport
            WHERE CompletedDate BETWEEN ? AND ?
            AND CompanyID = ?
        
2025-11-07 18:40:50,570 INFO sqlalchemy.engine.Engine [cached since 105.1s ago] ('2025-10-08', '2025-11-07', 1)
2025-11-07 18:40:50,573 INFO sqlalchemy.engine.Engine ROLLBACK
2025-11-07 18:40:50,575 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:55594 - "GET /api/v1/kanban/analytics/itil-summary?start_date=2025-10-08&end_date=2025-11-07 HTTP/1.1" 200 OK
2025-11-07 18:40:50,579 INFO sqlalchemy.engine.Engine 
            SELECT
                CardID, ExternalCardID, Title, ColumnName,
                ITILCategory, RiskLevel, HasWindow, HasCAB, HasBackout,
                CompletedDate, MetSLA, DaysLate
            FROM analytics.vw_ITILReport
            WHERE CompletedDate BETWEEN ? AND ?
            AND CompanyID = ?
            ORDER BY CompletedDate DESC
            OFFSET ? ROWS
            FETCH NEXT ? ROWS ONLY
        
2025-11-07 18:40:50,579 INFO sqlalchemy.engine.Engine [cached since 105.1s ago] ('2025-10-08', '2025-11-07', 1, 0, 25)
INFO:     192.168.11.12:59100 - "GET /api/v1/kanban/columns HTTP/1.1" 200 OK
2025-11-07 18:40:50,588 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:61398 - "GET /api/v1/kanban/analytics/itil-cards-paginated?skip=0&limit=25&start_date=2025-10-08&end_date=2025-11-07&sort_by=completedDate&sort_order=desc HTTP/1.1" 200 OK
2025-11-07 18:40:53,541 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:40:53,542 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:40:53,543 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:40:53,543 INFO sqlalchemy.engine.Engine [cached since 181.4s ago] ('1',)
2025-11-07 18:40:53,544 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:40:53,544 INFO sqlalchemy.engine.Engine [cached since 181.4s ago] ('1',)
2025-11-07 18:40:53,545 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:40:53,546 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:40:53,547 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:40:53,548 INFO sqlalchemy.engine.Engine [cached since 181.4s ago] ('1',)
2025-11-07 18:40:53,548 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:40:53,556 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:40:53,567 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:40:53,569 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:40:53,569 INFO sqlalchemy.engine.Engine [cached since 181.2s ago] (1,)
2025-11-07 18:40:53,570 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:40:53,571 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:40:53,572 INFO sqlalchemy.engine.Engine [cached since 181.2s ago] (1,)
2025-11-07 18:40:53,573 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:40:53,574 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:40:53,574 INFO sqlalchemy.engine.Engine [cached since 181.2s ago] (1,)
2025-11-07 18:40:53,581 INFO sqlalchemy.engine.Engine 
            SELECT COUNT(*) as total
            FROM analytics.vw_ITILReport
            WHERE CompletedDate BETWEEN ? AND ?
            AND CompanyID = ?
        
2025-11-07 18:40:53,581 INFO sqlalchemy.engine.Engine [cached since 108.1s ago] ('2025-10-08', '2025-11-07', 1)
2025-11-07 18:40:53,584 INFO sqlalchemy.engine.Engine SELECT core.[CardColumns].[ColumnID], core.[CardColumns].[CompanyID], core.[CardColumns].[ColumnName], core.[CardColumns].[DisplayOrder], core.[CardColumns].[Color], core.[CardColumns].[IsActive], core.[CardColumns].[CreatedAt] 
FROM core.[CardColumns] 
WHERE core.[CardColumns].[CompanyID] = ? AND core.[CardColumns].[IsActive] = 1 ORDER BY core.[CardColumns].[DisplayOrder]
2025-11-07 18:40:53,585 INFO sqlalchemy.engine.Engine [cached since 181.2s ago] (1,)
2025-11-07 18:40:53,585 INFO sqlalchemy.engine.Engine 
        SELECT 
            ITILCategory,
            COUNT(*) AS TotalCards,
            AVG(CycleTimeSeconds) AS AvgCycleTime,
            SUM(MetSLA) * 100.0 / NULLIF(COUNT(*), 0) AS SLACompliance,
            SUM(CASE WHEN RiskLevel = 'High' THEN 1 ELSE 0 END) AS HighRiskCount,
            SUM(CASE WHEN HasWindow = 1 THEN 1 ELSE 0 END) AS WithWindow,
            SUM(CASE WHEN HasCAB = 1 THEN 1 ELSE 0 END) AS WithCAB,
            SUM(CASE WHEN HasBackout = 1 THEN 1 ELSE 0 END) AS WithBackout
        FROM analytics.vw_ITILReport
        WHERE CompletedDate BETWEEN ? AND ?
        AND CompanyID = ?
        GROUP BY ITILCategory
        ORDER BY TotalCards DESC
    
2025-11-07 18:40:53,585 INFO sqlalchemy.engine.Engine [cached since 171.5s ago] ('2025-10-08', '2025-11-07', 1)
2025-11-07 18:40:53,587 INFO sqlalchemy.engine.Engine 
            SELECT
                CardID, ExternalCardID, Title, ColumnName,
                ITILCategory, RiskLevel, HasWindow, HasCAB, HasBackout,
                CompletedDate, MetSLA, DaysLate
            FROM analytics.vw_ITILReport
            WHERE CompletedDate BETWEEN ? AND ?
            AND CompanyID = ?
            ORDER BY CompletedDate DESC
            OFFSET ? ROWS
            FETCH NEXT ? ROWS ONLY
        
2025-11-07 18:40:53,587 INFO sqlalchemy.engine.Engine [cached since 108.1s ago] ('2025-10-08', '2025-11-07', 1, 0, 25)
2025-11-07 18:40:53,590 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:59100 - "GET /api/v1/kanban/columns HTTP/1.1" 200 OK
2025-11-07 18:40:53,597 INFO sqlalchemy.engine.Engine ROLLBACK
2025-11-07 18:40:53,600 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:55594 - "GET /api/v1/kanban/analytics/itil-summary?start_date=2025-10-08&end_date=2025-11-07 HTTP/1.1" 200 OK
INFO:     192.168.11.12:61398 - "GET /api/v1/kanban/analytics/itil-cards-paginated?skip=0&limit=25&start_date=2025-10-08&end_date=2025-11-07&sort_by=completedDate&sort_order=desc HTTP/1.1" 200 OK
2025-11-07 18:40:57,444 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:40:57,445 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:40:57,446 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:40:57,446 INFO sqlalchemy.engine.Engine [cached since 185.3s ago] ('1',)
2025-11-07 18:40:57,447 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:40:57,447 INFO sqlalchemy.engine.Engine [cached since 185.3s ago] ('1',)
2025-11-07 18:40:57,448 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:40:57,448 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:40:57,449 INFO sqlalchemy.engine.Engine [cached since 185.3s ago] ('1',)
2025-11-07 18:40:57,450 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:40:57,451 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:40:57,452 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:40:57,464 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:40:57,465 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:40:57,465 INFO sqlalchemy.engine.Engine [cached since 185.1s ago] (1,)
2025-11-07 18:40:57,466 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:40:57,468 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:40:57,468 INFO sqlalchemy.engine.Engine [cached since 185.1s ago] (1,)
2025-11-07 18:40:57,469 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:40:57,472 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:40:57,472 INFO sqlalchemy.engine.Engine [cached since 185.1s ago] (1,)
2025-11-07 18:40:57,472 INFO sqlalchemy.engine.Engine 
            SELECT COUNT(*) as total
            FROM analytics.vw_ITILReport
            WHERE CompletedDate BETWEEN ? AND ?
            AND CompanyID = ?
        
2025-11-07 18:40:57,473 INFO sqlalchemy.engine.Engine [cached since 112s ago] ('2025-10-08', '2025-11-07', 1)
2025-11-07 18:40:57,476 INFO sqlalchemy.engine.Engine 
        SELECT 
            ITILCategory,
            COUNT(*) AS TotalCards,
            AVG(CycleTimeSeconds) AS AvgCycleTime,
            SUM(MetSLA) * 100.0 / NULLIF(COUNT(*), 0) AS SLACompliance,
            SUM(CASE WHEN RiskLevel = 'High' THEN 1 ELSE 0 END) AS HighRiskCount,
            SUM(CASE WHEN HasWindow = 1 THEN 1 ELSE 0 END) AS WithWindow,
            SUM(CASE WHEN HasCAB = 1 THEN 1 ELSE 0 END) AS WithCAB,
            SUM(CASE WHEN HasBackout = 1 THEN 1 ELSE 0 END) AS WithBackout
        FROM analytics.vw_ITILReport
        WHERE CompletedDate BETWEEN ? AND ?
        AND CompanyID = ?
        GROUP BY ITILCategory
        ORDER BY TotalCards DESC
    
2025-11-07 18:40:57,476 INFO sqlalchemy.engine.Engine [cached since 175.4s ago] ('2025-10-08', '2025-11-07', 1)
2025-11-07 18:40:57,478 INFO sqlalchemy.engine.Engine 
            SELECT
                CardID, ExternalCardID, Title, ColumnName,
                ITILCategory, RiskLevel, HasWindow, HasCAB, HasBackout,
                CompletedDate, MetSLA, DaysLate
            FROM analytics.vw_ITILReport
            WHERE CompletedDate BETWEEN ? AND ?
            AND CompanyID = ?
            ORDER BY CompletedDate DESC
            OFFSET ? ROWS
            FETCH NEXT ? ROWS ONLY
        
2025-11-07 18:40:57,478 INFO sqlalchemy.engine.Engine [cached since 112s ago] ('2025-10-08', '2025-11-07', 1, 0, 25)
2025-11-07 18:40:57,483 INFO sqlalchemy.engine.Engine SELECT core.[CardColumns].[ColumnID], core.[CardColumns].[CompanyID], core.[CardColumns].[ColumnName], core.[CardColumns].[DisplayOrder], core.[CardColumns].[Color], core.[CardColumns].[IsActive], core.[CardColumns].[CreatedAt] 
FROM core.[CardColumns] 
WHERE core.[CardColumns].[CompanyID] = ? AND core.[CardColumns].[IsActive] = 1 ORDER BY core.[CardColumns].[DisplayOrder]
2025-11-07 18:40:57,483 INFO sqlalchemy.engine.Engine [cached since 185.1s ago] (1,)
2025-11-07 18:40:57,487 INFO sqlalchemy.engine.Engine ROLLBACK
2025-11-07 18:40:57,490 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:59100 - "GET /api/v1/kanban/analytics/itil-summary?start_date=2025-10-08&end_date=2025-11-07 HTTP/1.1" 200 OK
2025-11-07 18:40:57,496 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:61398 - "GET /api/v1/kanban/analytics/itil-cards-paginated?skip=0&limit=25&start_date=2025-10-08&end_date=2025-11-07&sort_by=completedDate&sort_order=desc HTTP/1.1" 200 OK
INFO:     192.168.11.12:55594 - "GET /api/v1/kanban/columns HTTP/1.1" 200 OK
2025-11-07 18:41:01,172 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:41:01,174 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:41:01,174 INFO sqlalchemy.engine.Engine [cached since 189.1s ago] ('1',)
2025-11-07 18:41:01,175 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:41:01,176 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:41:01,176 INFO sqlalchemy.engine.Engine [cached since 189.1s ago] ('1',)
2025-11-07 18:41:01,177 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:41:01,178 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:41:01,179 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:41:01,179 INFO sqlalchemy.engine.Engine [cached since 189.1s ago] ('1',)
2025-11-07 18:41:01,180 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:41:01,182 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:41:01,193 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:41:01,194 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:41:01,195 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:41:01,195 INFO sqlalchemy.engine.Engine [cached since 188.8s ago] (1,)
2025-11-07 18:41:01,196 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:41:01,196 INFO sqlalchemy.engine.Engine [cached since 188.8s ago] (1,)
2025-11-07 18:41:01,197 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:41:01,199 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:41:01,199 INFO sqlalchemy.engine.Engine [cached since 188.8s ago] (1,)
2025-11-07 18:41:01,202 INFO sqlalchemy.engine.Engine 
            SELECT COUNT(*) as total
            FROM analytics.vw_ITILReport
            WHERE CompletedDate BETWEEN ? AND ?
            AND CompanyID = ?
        
2025-11-07 18:41:01,202 INFO sqlalchemy.engine.Engine [cached since 115.8s ago] ('2025-10-08', '2025-11-07', 1)
2025-11-07 18:41:01,205 INFO sqlalchemy.engine.Engine SELECT core.[CardColumns].[ColumnID], core.[CardColumns].[CompanyID], core.[CardColumns].[ColumnName], core.[CardColumns].[DisplayOrder], core.[CardColumns].[Color], core.[CardColumns].[IsActive], core.[CardColumns].[CreatedAt] 
FROM core.[CardColumns] 
WHERE core.[CardColumns].[CompanyID] = ? AND core.[CardColumns].[IsActive] = 1 ORDER BY core.[CardColumns].[DisplayOrder]
2025-11-07 18:41:01,205 INFO sqlalchemy.engine.Engine [cached since 188.8s ago] (1,)
2025-11-07 18:41:01,209 INFO sqlalchemy.engine.Engine 
        SELECT 
            ITILCategory,
            COUNT(*) AS TotalCards,
            AVG(CycleTimeSeconds) AS AvgCycleTime,
            SUM(MetSLA) * 100.0 / NULLIF(COUNT(*), 0) AS SLACompliance,
            SUM(CASE WHEN RiskLevel = 'High' THEN 1 ELSE 0 END) AS HighRiskCount,
            SUM(CASE WHEN HasWindow = 1 THEN 1 ELSE 0 END) AS WithWindow,
            SUM(CASE WHEN HasCAB = 1 THEN 1 ELSE 0 END) AS WithCAB,
            SUM(CASE WHEN HasBackout = 1 THEN 1 ELSE 0 END) AS WithBackout
        FROM analytics.vw_ITILReport
        WHERE CompletedDate BETWEEN ? AND ?
        AND CompanyID = ?
        GROUP BY ITILCategory
        ORDER BY TotalCards DESC
    
2025-11-07 18:41:01,209 INFO sqlalchemy.engine.Engine [cached since 179.1s ago] ('2025-10-08', '2025-11-07', 1)
2025-11-07 18:41:01,210 INFO sqlalchemy.engine.Engine 
            SELECT
                CardID, ExternalCardID, Title, ColumnName,
                ITILCategory, RiskLevel, HasWindow, HasCAB, HasBackout,
                CompletedDate, MetSLA, DaysLate
            FROM analytics.vw_ITILReport
            WHERE CompletedDate BETWEEN ? AND ?
            AND CompanyID = ?
            ORDER BY CompletedDate DESC
            OFFSET ? ROWS
            FETCH NEXT ? ROWS ONLY
        
2025-11-07 18:41:01,210 INFO sqlalchemy.engine.Engine [cached since 115.7s ago] ('2025-10-08', '2025-11-07', 1, 0, 25)
2025-11-07 18:41:01,213 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:61398 - "GET /api/v1/kanban/columns HTTP/1.1" 200 OK
2025-11-07 18:41:01,220 INFO sqlalchemy.engine.Engine ROLLBACK
2025-11-07 18:41:01,221 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:55594 - "GET /api/v1/kanban/analytics/itil-cards-paginated?skip=0&limit=25&start_date=2025-10-08&end_date=2025-11-07&sort_by=completedDate&sort_order=desc HTTP/1.1" 200 OK
INFO:     192.168.11.12:59100 - "GET /api/v1/kanban/analytics/itil-summary?start_date=2025-10-08&end_date=2025-11-07 HTTP/1.1" 200 OK
2025-11-07 18:42:15,898 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:42:15,899 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:42:15,900 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:42:15,900 INFO sqlalchemy.engine.Engine [cached since 263.8s ago] ('1',)
2025-11-07 18:42:15,901 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:42:15,901 INFO sqlalchemy.engine.Engine [cached since 263.8s ago] ('1',)
2025-11-07 18:42:15,901 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:42:15,902 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:42:15,903 INFO sqlalchemy.engine.Engine [cached since 263.8s ago] ('1',)
2025-11-07 18:42:15,904 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:42:15,905 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:42:15,907 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:42:15,918 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:42:15,919 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:42:15,919 INFO sqlalchemy.engine.Engine [cached since 263.6s ago] (1,)
2025-11-07 18:42:15,920 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:42:15,921 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:42:15,921 INFO sqlalchemy.engine.Engine [cached since 263.6s ago] (1,)
2025-11-07 18:42:15,922 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:42:15,924 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:42:15,924 INFO sqlalchemy.engine.Engine [cached since 263.6s ago] (1,)
2025-11-07 18:42:15,927 INFO sqlalchemy.engine.Engine SELECT core.[CardColumns].[ColumnID], core.[CardColumns].[CompanyID], core.[CardColumns].[ColumnName], core.[CardColumns].[DisplayOrder], core.[CardColumns].[Color], core.[CardColumns].[IsActive], core.[CardColumns].[CreatedAt] 
FROM core.[CardColumns] 
WHERE core.[CardColumns].[CompanyID] = ? AND core.[CardColumns].[IsActive] = 1 ORDER BY core.[CardColumns].[DisplayOrder]
2025-11-07 18:42:15,928 INFO sqlalchemy.engine.Engine [cached since 263.5s ago] (1,)
2025-11-07 18:42:15,931 INFO sqlalchemy.engine.Engine 
        SELECT 
            ITILCategory,
            COUNT(*) AS TotalCards,
            AVG(CycleTimeSeconds) AS AvgCycleTime,
            SUM(MetSLA) * 100.0 / NULLIF(COUNT(*), 0) AS SLACompliance,
            SUM(CASE WHEN RiskLevel = 'High' THEN 1 ELSE 0 END) AS HighRiskCount,
            SUM(CASE WHEN HasWindow = 1 THEN 1 ELSE 0 END) AS WithWindow,
            SUM(CASE WHEN HasCAB = 1 THEN 1 ELSE 0 END) AS WithCAB,
            SUM(CASE WHEN HasBackout = 1 THEN 1 ELSE 0 END) AS WithBackout
        FROM analytics.vw_ITILReport
        WHERE CompletedDate BETWEEN ? AND ?
        AND CompanyID = ?
        GROUP BY ITILCategory
        ORDER BY TotalCards DESC
    
2025-11-07 18:42:15,932 INFO sqlalchemy.engine.Engine [cached since 253.8s ago] ('2025-10-08', '2025-11-07', 1)
2025-11-07 18:42:15,932 INFO sqlalchemy.engine.Engine 
            SELECT COUNT(*) as total
            FROM analytics.vw_ITILReport
            WHERE CompletedDate BETWEEN ? AND ?
            AND CompanyID = ?
        
2025-11-07 18:42:15,932 INFO sqlalchemy.engine.Engine [cached since 190.5s ago] ('2025-10-08', '2025-11-07', 1)
2025-11-07 18:42:15,935 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:60559 - "GET /api/v1/kanban/columns HTTP/1.1" 200 OK
2025-11-07 18:42:15,938 INFO sqlalchemy.engine.Engine 
            SELECT
                CardID, ExternalCardID, Title, ColumnName,
                ITILCategory, RiskLevel, HasWindow, HasCAB, HasBackout,
                CompletedDate, MetSLA, DaysLate
            FROM analytics.vw_ITILReport
            WHERE CompletedDate BETWEEN ? AND ?
            AND CompanyID = ?
            ORDER BY CompletedDate DESC
            OFFSET ? ROWS
            FETCH NEXT ? ROWS ONLY
        
2025-11-07 18:42:15,938 INFO sqlalchemy.engine.Engine [cached since 190.5s ago] ('2025-10-08', '2025-11-07', 1, 0, 25)
2025-11-07 18:42:15,943 INFO sqlalchemy.engine.Engine ROLLBACK
2025-11-07 18:42:15,946 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:50560 - "GET /api/v1/kanban/analytics/itil-summary?start_date=2025-10-08&end_date=2025-11-07 HTTP/1.1" 200 OK
INFO:     192.168.11.12:58143 - "GET /api/v1/kanban/analytics/itil-cards-paginated?skip=0&limit=25&start_date=2025-10-08&end_date=2025-11-07&sort_by=completedDate&sort_order=desc HTTP/1.1" 200 OK
2025-11-07 18:42:18,965 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:42:18,967 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:42:18,967 INFO sqlalchemy.engine.Engine [cached since 266.9s ago] ('1',)
2025-11-07 18:42:18,967 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:42:18,968 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:42:18,969 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:42:18,969 INFO sqlalchemy.engine.Engine [cached since 266.9s ago] ('1',)
2025-11-07 18:42:18,970 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:42:18,970 INFO sqlalchemy.engine.Engine [cached since 266.9s ago] ('1',)
2025-11-07 18:42:18,972 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:42:18,973 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:42:18,975 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:42:18,990 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:42:18,991 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:42:18,993 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:42:18,993 INFO sqlalchemy.engine.Engine [cached since 266.6s ago] (1,)
2025-11-07 18:42:18,994 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:42:18,994 INFO sqlalchemy.engine.Engine [cached since 266.6s ago] (1,)
2025-11-07 18:42:18,995 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:42:18,996 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:42:18,996 INFO sqlalchemy.engine.Engine [cached since 266.6s ago] (1,)
2025-11-07 18:42:19,001 INFO sqlalchemy.engine.Engine SELECT core.[CardColumns].[ColumnID], core.[CardColumns].[CompanyID], core.[CardColumns].[ColumnName], core.[CardColumns].[DisplayOrder], core.[CardColumns].[Color], core.[CardColumns].[IsActive], core.[CardColumns].[CreatedAt] 
FROM core.[CardColumns] 
WHERE core.[CardColumns].[CompanyID] = ? AND core.[CardColumns].[IsActive] = 1 ORDER BY core.[CardColumns].[DisplayOrder]
2025-11-07 18:42:19,001 INFO sqlalchemy.engine.Engine [cached since 266.6s ago] (1,)
2025-11-07 18:42:19,006 INFO sqlalchemy.engine.Engine 
            SELECT COUNT(*) as total
            FROM analytics.vw_ITILReport
            WHERE CompletedDate BETWEEN ? AND ?
            AND CompanyID = ?
        
2025-11-07 18:42:19,006 INFO sqlalchemy.engine.Engine [cached since 193.6s ago] ('2025-10-08', '2025-11-07', 1)
2025-11-07 18:42:19,006 INFO sqlalchemy.engine.Engine 
        SELECT 
            ITILCategory,
            COUNT(*) AS TotalCards,
            AVG(CycleTimeSeconds) AS AvgCycleTime,
            SUM(MetSLA) * 100.0 / NULLIF(COUNT(*), 0) AS SLACompliance,
            SUM(CASE WHEN RiskLevel = 'High' THEN 1 ELSE 0 END) AS HighRiskCount,
            SUM(CASE WHEN HasWindow = 1 THEN 1 ELSE 0 END) AS WithWindow,
            SUM(CASE WHEN HasCAB = 1 THEN 1 ELSE 0 END) AS WithCAB,
            SUM(CASE WHEN HasBackout = 1 THEN 1 ELSE 0 END) AS WithBackout
        FROM analytics.vw_ITILReport
        WHERE CompletedDate BETWEEN ? AND ?
        AND CompanyID = ?
        GROUP BY ITILCategory
        ORDER BY TotalCards DESC
    
2025-11-07 18:42:19,006 INFO sqlalchemy.engine.Engine [cached since 256.9s ago] ('2025-10-08', '2025-11-07', 1)
2025-11-07 18:42:19,009 INFO sqlalchemy.engine.Engine ROLLBACK
2025-11-07 18:42:19,011 INFO sqlalchemy.engine.Engine 
            SELECT
                CardID, ExternalCardID, Title, ColumnName,
                ITILCategory, RiskLevel, HasWindow, HasCAB, HasBackout,
                CompletedDate, MetSLA, DaysLate
            FROM analytics.vw_ITILReport
            WHERE CompletedDate BETWEEN ? AND ?
            AND CompanyID = ?
            ORDER BY CompletedDate DESC
            OFFSET ? ROWS
            FETCH NEXT ? ROWS ONLY
        
2025-11-07 18:42:19,011 INFO sqlalchemy.engine.Engine [cached since 193.5s ago] ('2025-10-08', '2025-11-07', 1, 0, 25)
INFO:     192.168.11.12:50560 - "GET /api/v1/kanban/columns HTTP/1.1" 200 OK
2025-11-07 18:42:19,018 INFO sqlalchemy.engine.Engine ROLLBACK
2025-11-07 18:42:19,021 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:60559 - "GET /api/v1/kanban/analytics/itil-summary?start_date=2025-10-08&end_date=2025-11-07 HTTP/1.1" 200 OK
INFO:     192.168.11.12:58143 - "GET /api/v1/kanban/analytics/itil-cards-paginated?skip=0&limit=25&start_date=2025-10-08&end_date=2025-11-07&sort_by=completedDate&sort_order=desc HTTP/1.1" 200 OK
INFO:     192.168.11.12:57329 - "OPTIONS /api/v1/kanban/analytics/itil-cards-paginated?skip=0&limit=50&start_date=2025-10-08&end_date=2025-11-07&sort_by=completedDate&sort_order=desc HTTP/1.1" 200 OK
INFO:     192.168.11.12:56747 - "OPTIONS /api/v1/kanban/columns HTTP/1.1" 200 OK
INFO:     192.168.11.12:61175 - "OPTIONS /api/v1/kanban/analytics?start_date=2025-10-08&end_date=2025-11-07 HTTP/1.1" 200 OK
INFO:     192.168.11.12:50676 - "OPTIONS /api/v1/kanban/analytics/itil-cards-paginated?skip=0&limit=50&start_date=2025-10-08&end_date=2025-11-07&sort_by=completedDate&sort_order=desc HTTP/1.1" 200 OK
INFO:     192.168.11.12:57329 - "OPTIONS /api/v1/kanban/columns HTTP/1.1" 200 OK
INFO:     192.168.11.12:56747 - "OPTIONS /api/v1/kanban/analytics?start_date=2025-10-08&end_date=2025-11-07 HTTP/1.1" 200 OK
2025-11-07 18:49:29,594 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:49:29,595 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:49:29,596 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:49:29,596 INFO sqlalchemy.engine.Engine [cached since 697.5s ago] ('1',)
2025-11-07 18:49:29,597 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:49:29,597 INFO sqlalchemy.engine.Engine [cached since 697.5s ago] ('1',)
2025-11-07 18:49:29,598 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:49:29,598 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:49:29,599 INFO sqlalchemy.engine.Engine [cached since 697.5s ago] ('1',)
2025-11-07 18:49:29,600 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:49:29,601 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:49:29,602 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:49:29,612 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:49:29,613 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:49:29,614 INFO sqlalchemy.engine.Engine [cached since 697.2s ago] (1,)
2025-11-07 18:49:29,614 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:49:29,615 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:49:29,616 INFO sqlalchemy.engine.Engine [cached since 697.2s ago] (1,)
2025-11-07 18:49:29,616 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:49:29,617 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:49:29,618 INFO sqlalchemy.engine.Engine [cached since 697.3s ago] (1,)
2025-11-07 18:49:29,623 INFO sqlalchemy.engine.Engine 
        SELECT
            CardID,
            CardCreatedAt,
            OldColumnName,
            NewColumnName,
            MovementDate,
            TimeInStageSeconds,
            DueDate
        FROM [analytics].[vw_CardFullHistory]
        WHERE CompanyID = ?
          AND MovementDate BETWEEN ? AND ?
        
2025-11-07 18:49:29,624 INFO sqlalchemy.engine.Engine [cached since 697.2s ago] (1, '2025-10-08', '2025-11-07')
2025-11-07 18:49:29,624 INFO sqlalchemy.engine.Engine SELECT core.[CardColumns].[ColumnID], core.[CardColumns].[CompanyID], core.[CardColumns].[ColumnName], core.[CardColumns].[DisplayOrder], core.[CardColumns].[Color], core.[CardColumns].[IsActive], core.[CardColumns].[CreatedAt] 
FROM core.[CardColumns] 
WHERE core.[CardColumns].[CompanyID] = ? AND core.[CardColumns].[IsActive] = 1 ORDER BY core.[CardColumns].[DisplayOrder]
2025-11-07 18:49:29,624 INFO sqlalchemy.engine.Engine [cached since 697.2s ago] (1,)
2025-11-07 18:49:29,628 INFO sqlalchemy.engine.Engine 
            SELECT COUNT(*) as total
            FROM analytics.vw_ITILReport
            WHERE CompletedDate BETWEEN ? AND ?
            AND CompanyID = ?
        
2025-11-07 18:49:29,628 INFO sqlalchemy.engine.Engine [cached since 624.2s ago] ('2025-10-08', '2025-11-07', 1)
2025-11-07 18:49:29,631 INFO sqlalchemy.engine.Engine ROLLBACK
2025-11-07 18:49:29,633 INFO sqlalchemy.engine.Engine 
            SELECT
                CardID, ExternalCardID, Title, ColumnName,
                ITILCategory, RiskLevel, HasWindow, HasCAB, HasBackout,
                CompletedDate, MetSLA, DaysLate
            FROM analytics.vw_ITILReport
            WHERE CompletedDate BETWEEN ? AND ?
            AND CompanyID = ?
            ORDER BY CompletedDate DESC
            OFFSET ? ROWS
            FETCH NEXT ? ROWS ONLY
        
2025-11-07 18:49:29,633 INFO sqlalchemy.engine.Engine [cached since 624.2s ago] ('2025-10-08', '2025-11-07', 1, 0, 50)
INFO:     192.168.11.12:50676 - "GET /api/v1/kanban/columns HTTP/1.1" 200 OK
2025-11-07 18:49:29,642 INFO sqlalchemy.engine.Engine 
        SELECT COUNT(DISTINCT c.CardID) AS WIPCount
        FROM [core].[Cards] c
        WHERE c.CompanyID = ?
          AND c.IsDeleted = 0
          AND c.CompletedDate IS NULL
          AND c.ColumnID IN (
              SELECT cc.ColumnID
              FROM core.CardColumns cc
              WHERE cc.CompanyID = ?
                AND cc.ColumnName NOT IN ('Backlog', 'ConcluÃ­do')
          )
        
2025-11-07 18:49:29,643 INFO sqlalchemy.engine.Engine [cached since 697.2s ago] (1, 1)
2025-11-07 18:49:29,646 INFO sqlalchemy.engine.Engine ROLLBACK
2025-11-07 18:49:29,649 INFO sqlalchemy.engine.Engine ROLLBACK
2025-11-07 18:49:29,650 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:     192.168.11.12:61175 - "GET /api/v1/kanban/analytics/itil-cards-paginated?skip=0&limit=50&start_date=2025-10-08&end_date=2025-11-07&sort_by=completedDate&sort_order=desc HTTP/1.1" 200 OK
2025-11-07 18:49:29,653 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:49:29,653 INFO sqlalchemy.engine.Engine [cached since 697.6s ago] ('1',)
INFO:     192.168.11.12:64411 - "GET /api/v1/kanban/analytics?start_date=2025-10-08&end_date=2025-11-07 HTTP/1.1" 200 OK
2025-11-07 18:49:29,657 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:49:29,659 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:49:29,664 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:49:29,664 INFO sqlalchemy.engine.Engine [cached since 697.6s ago] ('1',)
2025-11-07 18:49:29,665 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:49:29,666 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:49:29,667 INFO sqlalchemy.engine.Engine [cached since 697.6s ago] ('1',)
2025-11-07 18:49:29,667 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:49:29,669 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:49:29,670 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:49:29,670 INFO sqlalchemy.engine.Engine [cached since 697.3s ago] (1,)
2025-11-07 18:49:29,671 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:49:29,676 INFO sqlalchemy.engine.Engine SELECT core.[CardColumns].[ColumnID], core.[CardColumns].[CompanyID], core.[CardColumns].[ColumnName], core.[CardColumns].[DisplayOrder], core.[CardColumns].[Color], core.[CardColumns].[IsActive], core.[CardColumns].[CreatedAt] 
FROM core.[CardColumns] 
WHERE core.[CardColumns].[CompanyID] = ? AND core.[CardColumns].[IsActive] = 1 ORDER BY core.[CardColumns].[DisplayOrder]
2025-11-07 18:49:29,677 INFO sqlalchemy.engine.Engine [cached since 697.3s ago] (1,)
2025-11-07 18:49:29,680 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:49:29,681 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:49:29,682 INFO sqlalchemy.engine.Engine [cached since 697.3s ago] (1,)
2025-11-07 18:49:29,683 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:49:29,685 INFO sqlalchemy.engine.Engine ROLLBACK
2025-11-07 18:49:29,686 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:49:29,686 INFO sqlalchemy.engine.Engine [cached since 697.3s ago] (1,)
2025-11-07 18:49:29,689 INFO sqlalchemy.engine.Engine 
            SELECT COUNT(*) as total
            FROM analytics.vw_ITILReport
            WHERE CompletedDate BETWEEN ? AND ?
            AND CompanyID = ?
        
2025-11-07 18:49:29,690 INFO sqlalchemy.engine.Engine [cached since 624.2s ago] ('2025-10-08', '2025-11-07', 1)
INFO:     192.168.11.12:50676 - "GET /api/v1/kanban/columns HTTP/1.1" 200 OK
2025-11-07 18:49:29,694 INFO sqlalchemy.engine.Engine 
        SELECT
            CardID,
            CardCreatedAt,
            OldColumnName,
            NewColumnName,
            MovementDate,
            TimeInStageSeconds,
            DueDate
        FROM [analytics].[vw_CardFullHistory]
        WHERE CompanyID = ?
          AND MovementDate BETWEEN ? AND ?
        
2025-11-07 18:49:29,695 INFO sqlalchemy.engine.Engine [cached since 697.3s ago] (1, '2025-10-08', '2025-11-07')
2025-11-07 18:49:29,696 INFO sqlalchemy.engine.Engine 
            SELECT
                CardID, ExternalCardID, Title, ColumnName,
                ITILCategory, RiskLevel, HasWindow, HasCAB, HasBackout,
                CompletedDate, MetSLA, DaysLate
            FROM analytics.vw_ITILReport
            WHERE CompletedDate BETWEEN ? AND ?
            AND CompanyID = ?
            ORDER BY CompletedDate DESC
            OFFSET ? ROWS
            FETCH NEXT ? ROWS ONLY
        
2025-11-07 18:49:29,696 INFO sqlalchemy.engine.Engine [cached since 624.2s ago] ('2025-10-08', '2025-11-07', 1, 0, 50)
2025-11-07 18:49:29,706 INFO sqlalchemy.engine.Engine ROLLBACK
2025-11-07 18:49:29,707 INFO sqlalchemy.engine.Engine 
        SELECT COUNT(DISTINCT c.CardID) AS WIPCount
        FROM [core].[Cards] c
        WHERE c.CompanyID = ?
          AND c.IsDeleted = 0
          AND c.CompletedDate IS NULL
          AND c.ColumnID IN (
              SELECT cc.ColumnID
              FROM core.CardColumns cc
              WHERE cc.CompanyID = ?
                AND cc.ColumnName NOT IN ('Backlog', 'ConcluÃ­do')
          )
        
2025-11-07 18:49:29,708 INFO sqlalchemy.engine.Engine [cached since 697.3s ago] (1, 1)
INFO:     192.168.11.12:61175 - "GET /api/v1/kanban/analytics/itil-cards-paginated?skip=0&limit=50&start_date=2025-10-08&end_date=2025-11-07&sort_by=completedDate&sort_order=desc HTTP/1.1" 200 OK
2025-11-07 18:49:29,714 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:64411 - "GET /api/v1/kanban/analytics?start_date=2025-10-08&end_date=2025-11-07 HTTP/1.1" 200 OK
INFO:     192.168.11.12:64411 - "OPTIONS /api/v1/kanban/analytics/cards-in-period?start_date=2025-10-08&end_date=2025-11-07&column_ids=1,2,3,4,5 HTTP/1.1" 200 OK
INFO:     192.168.11.12:61175 - "OPTIONS /api/v1/kanban/analytics/cards-in-period?start_date=2025-10-08&end_date=2025-11-07&column_ids=1,2,3,4,5 HTTP/1.1" 200 OK
INFO:     192.168.11.12:50676 - "OPTIONS /api/v1/kanban/analytics/cards-in-period?start_date=2025-10-08&end_date=2025-11-07&column_ids=1,2,3,4,5 HTTP/1.1" 200 OK
2025-11-07 18:49:29,885 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:49:29,885 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:49:29,886 INFO sqlalchemy.engine.Engine [cached since 697.8s ago] ('1',)
2025-11-07 18:49:29,888 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:49:29,895 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:49:29,896 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:49:29,896 INFO sqlalchemy.engine.Engine [cached since 697.5s ago] (1,)
2025-11-07 18:49:29,900 INFO sqlalchemy.engine.Engine EXEC [core].[sp_GetAnalyticsCardsDetails] @StartDate = ?, @EndDate = ?, @CompanyID = ?, @UserID = ?
2025-11-07 18:49:29,900 INFO sqlalchemy.engine.Engine [cached since 697.3s ago] ('2025-10-08', '2025-11-07', 1, 1)
2025-11-07 18:49:29,914 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:61175 - "GET /api/v1/kanban/analytics/cards-in-period?start_date=2025-10-08&end_date=2025-11-07&column_ids=1,2,3,4,5 HTTP/1.1" 200 OK
2025-11-07 18:49:29,921 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:49:29,921 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:49:29,921 INFO sqlalchemy.engine.Engine [cached since 697.8s ago] ('1',)
2025-11-07 18:49:29,923 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:49:29,930 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:49:29,931 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:49:29,931 INFO sqlalchemy.engine.Engine [cached since 697.6s ago] (1,)
2025-11-07 18:49:29,934 INFO sqlalchemy.engine.Engine EXEC [core].[sp_GetAnalyticsCardsDetails] @StartDate = ?, @EndDate = ?, @CompanyID = ?, @UserID = ?
2025-11-07 18:49:29,934 INFO sqlalchemy.engine.Engine [cached since 697.3s ago] ('2025-10-08', '2025-11-07', 1, 1)
2025-11-07 18:49:29,947 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:50676 - "GET /api/v1/kanban/analytics/cards-in-period?start_date=2025-10-08&end_date=2025-11-07&column_ids=1,2,3,4,5 HTTP/1.1" 200 OK
2025-11-07 18:49:29,959 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:49:29,959 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:49:29,960 INFO sqlalchemy.engine.Engine [cached since 697.9s ago] ('1',)
2025-11-07 18:49:29,961 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:49:29,968 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:49:29,968 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:49:29,969 INFO sqlalchemy.engine.Engine [cached since 697.6s ago] (1,)
2025-11-07 18:49:29,972 INFO sqlalchemy.engine.Engine EXEC [core].[sp_GetAnalyticsCardsDetails] @StartDate = ?, @EndDate = ?, @CompanyID = ?, @UserID = ?
2025-11-07 18:49:29,972 INFO sqlalchemy.engine.Engine [cached since 697.4s ago] ('2025-10-08', '2025-11-07', 1, 1)
2025-11-07 18:49:29,987 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:61175 - "GET /api/v1/kanban/analytics/cards-in-period?start_date=2025-10-08&end_date=2025-11-07&column_ids=1,2,3,4,5 HTTP/1.1" 200 OK
INFO:     192.168.11.12:61175 - "OPTIONS /api/v1/menus/dynamic HTTP/1.1" 200 OK
2025-11-07 18:49:30,393 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:49:30,394 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:49:30,394 INFO sqlalchemy.engine.Engine [cached since 698.3s ago] ('1',)
2025-11-07 18:49:30,396 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:49:30,403 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:49:30,403 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:49:30,404 INFO sqlalchemy.engine.Engine [cached since 698s ago] (1,)
2025-11-07 18:49:30,407 INFO sqlalchemy.engine.Engine 
            EXEC [core].[sp_get_dynamic_menus] @user_id_input = ?
        
2025-11-07 18:49:30,407 INFO sqlalchemy.engine.Engine [cached since 697.7s ago] (1,)
2025-11-07 18:49:30,418 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:61175 - "GET /api/v1/menus/dynamic HTTP/1.1" 200 OK
INFO:     192.168.11.12:61175 - "OPTIONS /api/v1/kanban/analytics/itil-summary?start_date=2025-10-08&end_date=2025-11-07 HTTP/1.1" 200 OK
2025-11-07 18:49:34,426 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:49:34,427 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:49:34,427 INFO sqlalchemy.engine.Engine [cached since 702.3s ago] ('1',)
2025-11-07 18:49:34,429 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:49:34,436 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:49:34,437 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:49:34,437 INFO sqlalchemy.engine.Engine [cached since 702.1s ago] (1,)
2025-11-07 18:49:34,440 INFO sqlalchemy.engine.Engine 
        SELECT 
            ITILCategory,
            COUNT(*) AS TotalCards,
            AVG(CycleTimeSeconds) AS AvgCycleTime,
            SUM(MetSLA) * 100.0 / NULLIF(COUNT(*), 0) AS SLACompliance,
            SUM(CASE WHEN RiskLevel = 'High' THEN 1 ELSE 0 END) AS HighRiskCount,
            SUM(CASE WHEN HasWindow = 1 THEN 1 ELSE 0 END) AS WithWindow,
            SUM(CASE WHEN HasCAB = 1 THEN 1 ELSE 0 END) AS WithCAB,
            SUM(CASE WHEN HasBackout = 1 THEN 1 ELSE 0 END) AS WithBackout
        FROM analytics.vw_ITILReport
        WHERE CompletedDate BETWEEN ? AND ?
        AND CompanyID = ?
        GROUP BY ITILCategory
        ORDER BY TotalCards DESC
    
2025-11-07 18:49:34,441 INFO sqlalchemy.engine.Engine [cached since 692.3s ago] ('2025-10-08', '2025-11-07', 1)
2025-11-07 18:49:34,445 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:61175 - "GET /api/v1/kanban/analytics/itil-summary?start_date=2025-10-08&end_date=2025-11-07 HTTP/1.1" 200 OK
2025-11-07 18:50:20,820 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:50:20,821 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:50:20,822 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:50:20,823 INFO sqlalchemy.engine.Engine [cached since 748.7s ago] ('1',)
2025-11-07 18:50:20,823 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:50:20,823 INFO sqlalchemy.engine.Engine [cached since 748.7s ago] ('1',)
2025-11-07 18:50:20,824 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:50:20,825 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:50:20,825 INFO sqlalchemy.engine.Engine [cached since 748.7s ago] ('1',)
2025-11-07 18:50:20,826 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:50:20,827 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:50:20,829 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:50:20,841 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:50:20,842 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:50:20,842 INFO sqlalchemy.engine.Engine [cached since 748.5s ago] (1,)
2025-11-07 18:50:20,844 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:50:20,845 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:50:20,845 INFO sqlalchemy.engine.Engine [cached since 748.5s ago] (1,)
2025-11-07 18:50:20,846 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:50:20,847 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:50:20,847 INFO sqlalchemy.engine.Engine [cached since 748.5s ago] (1,)
2025-11-07 18:50:20,850 INFO sqlalchemy.engine.Engine 
            SELECT COUNT(*) as total
            FROM analytics.vw_ITILReport
            WHERE CompletedDate BETWEEN ? AND ?
            AND CompanyID = ?
        
2025-11-07 18:50:20,851 INFO sqlalchemy.engine.Engine [cached since 675.4s ago] ('2025-10-08', '2025-11-07', 1)
2025-11-07 18:50:20,855 INFO sqlalchemy.engine.Engine SELECT core.[CardColumns].[ColumnID], core.[CardColumns].[CompanyID], core.[CardColumns].[ColumnName], core.[CardColumns].[DisplayOrder], core.[CardColumns].[Color], core.[CardColumns].[IsActive], core.[CardColumns].[CreatedAt] 
FROM core.[CardColumns] 
WHERE core.[CardColumns].[CompanyID] = ? AND core.[CardColumns].[IsActive] = 1 ORDER BY core.[CardColumns].[DisplayOrder]
2025-11-07 18:50:20,856 INFO sqlalchemy.engine.Engine [cached since 748.5s ago] (1,)
2025-11-07 18:50:20,856 INFO sqlalchemy.engine.Engine 
        SELECT 
            ITILCategory,
            COUNT(*) AS TotalCards,
            AVG(CycleTimeSeconds) AS AvgCycleTime,
            SUM(MetSLA) * 100.0 / NULLIF(COUNT(*), 0) AS SLACompliance,
            SUM(CASE WHEN RiskLevel = 'High' THEN 1 ELSE 0 END) AS HighRiskCount,
            SUM(CASE WHEN HasWindow = 1 THEN 1 ELSE 0 END) AS WithWindow,
            SUM(CASE WHEN HasCAB = 1 THEN 1 ELSE 0 END) AS WithCAB,
            SUM(CASE WHEN HasBackout = 1 THEN 1 ELSE 0 END) AS WithBackout
        FROM analytics.vw_ITILReport
        WHERE CompletedDate BETWEEN ? AND ?
        AND CompanyID = ?
        GROUP BY ITILCategory
        ORDER BY TotalCards DESC
    
2025-11-07 18:50:20,856 INFO sqlalchemy.engine.Engine [cached since 738.8s ago] ('2025-10-08', '2025-11-07', 1)
2025-11-07 18:50:20,858 INFO sqlalchemy.engine.Engine 
            SELECT
                CardID, ExternalCardID, Title, ColumnName,
                ITILCategory, RiskLevel, HasWindow, HasCAB, HasBackout,
                CompletedDate, MetSLA, DaysLate
            FROM analytics.vw_ITILReport
            WHERE CompletedDate BETWEEN ? AND ?
            AND CompanyID = ?
            ORDER BY CompletedDate DESC
            OFFSET ? ROWS
            FETCH NEXT ? ROWS ONLY
        
2025-11-07 18:50:20,858 INFO sqlalchemy.engine.Engine [cached since 675.4s ago] ('2025-10-08', '2025-11-07', 1, 0, 50)
2025-11-07 18:50:20,868 INFO sqlalchemy.engine.Engine ROLLBACK
2025-11-07 18:50:20,870 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:61643 - "GET /api/v1/kanban/columns HTTP/1.1" 200 OK
INFO:     192.168.11.12:59930 - "GET /api/v1/kanban/analytics/itil-summary?start_date=2025-10-08&end_date=2025-11-07 HTTP/1.1" 200 OK
2025-11-07 18:50:20,892 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:55972 - "GET /api/v1/kanban/analytics/itil-cards-paginated?skip=0&limit=50&start_date=2025-10-08&end_date=2025-11-07&sort_by=completedDate&sort_order=desc HTTP/1.1" 200 OK
2025-11-07 18:50:23,471 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:50:23,472 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:50:23,473 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:50:23,473 INFO sqlalchemy.engine.Engine [cached since 751.4s ago] ('1',)
2025-11-07 18:50:23,474 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:50:23,474 INFO sqlalchemy.engine.Engine [cached since 751.4s ago] ('1',)
2025-11-07 18:50:23,475 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:50:23,476 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:50:23,476 INFO sqlalchemy.engine.Engine [cached since 751.4s ago] ('1',)
2025-11-07 18:50:23,478 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:50:23,479 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:50:23,480 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:50:23,493 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:50:23,494 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:50:23,494 INFO sqlalchemy.engine.Engine [cached since 751.1s ago] (1,)
2025-11-07 18:50:23,495 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:50:23,496 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:50:23,496 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:50:23,497 INFO sqlalchemy.engine.Engine [cached since 751.1s ago] (1,)
2025-11-07 18:50:23,498 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:50:23,498 INFO sqlalchemy.engine.Engine [cached since 751.1s ago] (1,)
2025-11-07 18:50:23,506 INFO sqlalchemy.engine.Engine 
            SELECT COUNT(*) as total
            FROM analytics.vw_ITILReport
            WHERE CompletedDate BETWEEN ? AND ?
            AND CompanyID = ?
        
2025-11-07 18:50:23,506 INFO sqlalchemy.engine.Engine [cached since 678.1s ago] ('2025-10-08', '2025-11-07', 1)
2025-11-07 18:50:23,507 INFO sqlalchemy.engine.Engine SELECT core.[CardColumns].[ColumnID], core.[CardColumns].[CompanyID], core.[CardColumns].[ColumnName], core.[CardColumns].[DisplayOrder], core.[CardColumns].[Color], core.[CardColumns].[IsActive], core.[CardColumns].[CreatedAt] 
FROM core.[CardColumns] 
WHERE core.[CardColumns].[CompanyID] = ? AND core.[CardColumns].[IsActive] = 1 ORDER BY core.[CardColumns].[DisplayOrder]
2025-11-07 18:50:23,507 INFO sqlalchemy.engine.Engine [cached since 751.1s ago] (1,)
2025-11-07 18:50:23,511 INFO sqlalchemy.engine.Engine 
        SELECT 
            ITILCategory,
            COUNT(*) AS TotalCards,
            AVG(CycleTimeSeconds) AS AvgCycleTime,
            SUM(MetSLA) * 100.0 / NULLIF(COUNT(*), 0) AS SLACompliance,
            SUM(CASE WHEN RiskLevel = 'High' THEN 1 ELSE 0 END) AS HighRiskCount,
            SUM(CASE WHEN HasWindow = 1 THEN 1 ELSE 0 END) AS WithWindow,
            SUM(CASE WHEN HasCAB = 1 THEN 1 ELSE 0 END) AS WithCAB,
            SUM(CASE WHEN HasBackout = 1 THEN 1 ELSE 0 END) AS WithBackout
        FROM analytics.vw_ITILReport
        WHERE CompletedDate BETWEEN ? AND ?
        AND CompanyID = ?
        GROUP BY ITILCategory
        ORDER BY TotalCards DESC
    
2025-11-07 18:50:23,512 INFO sqlalchemy.engine.Engine [cached since 741.4s ago] ('2025-10-08', '2025-11-07', 1)
2025-11-07 18:50:23,516 INFO sqlalchemy.engine.Engine ROLLBACK
2025-11-07 18:50:23,516 INFO sqlalchemy.engine.Engine 
            SELECT
                CardID, ExternalCardID, Title, ColumnName,
                ITILCategory, RiskLevel, HasWindow, HasCAB, HasBackout,
                CompletedDate, MetSLA, DaysLate
            FROM analytics.vw_ITILReport
            WHERE CompletedDate BETWEEN ? AND ?
            AND CompanyID = ?
            ORDER BY CompletedDate DESC
            OFFSET ? ROWS
            FETCH NEXT ? ROWS ONLY
        
2025-11-07 18:50:23,517 INFO sqlalchemy.engine.Engine [cached since 678.1s ago] ('2025-10-08', '2025-11-07', 1, 0, 50)
2025-11-07 18:50:23,519 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:59930 - "GET /api/v1/kanban/columns HTTP/1.1" 200 OK
INFO:     192.168.11.12:61643 - "GET /api/v1/kanban/analytics/itil-summary?start_date=2025-10-08&end_date=2025-11-07 HTTP/1.1" 200 OK
2025-11-07 18:50:23,530 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:55972 - "GET /api/v1/kanban/analytics/itil-cards-paginated?skip=0&limit=50&start_date=2025-10-08&end_date=2025-11-07&sort_by=completedDate&sort_order=desc HTTP/1.1" 200 OK
2025-11-07 18:50:26,394 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:50:26,395 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:50:26,395 INFO sqlalchemy.engine.Engine [cached since 754.3s ago] ('1',)
2025-11-07 18:50:26,395 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:50:26,396 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:50:26,396 INFO sqlalchemy.engine.Engine [cached since 754.3s ago] ('1',)
2025-11-07 18:50:26,397 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:50:26,398 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:50:26,398 INFO sqlalchemy.engine.Engine [cached since 754.3s ago] ('1',)
2025-11-07 18:50:26,399 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:50:26,400 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:50:26,401 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:50:26,413 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:50:26,415 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:50:26,415 INFO sqlalchemy.engine.Engine [cached since 754s ago] (1,)
2025-11-07 18:50:26,416 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:50:26,417 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:50:26,417 INFO sqlalchemy.engine.Engine [cached since 754.1s ago] (1,)
2025-11-07 18:50:26,418 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:50:26,419 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:50:26,420 INFO sqlalchemy.engine.Engine [cached since 754.1s ago] (1,)
2025-11-07 18:50:26,422 INFO sqlalchemy.engine.Engine 
            SELECT COUNT(*) as total
            FROM analytics.vw_ITILReport
            WHERE CompletedDate BETWEEN ? AND ?
            AND CompanyID = ?
        
2025-11-07 18:50:26,423 INFO sqlalchemy.engine.Engine [cached since 681s ago] ('2025-10-08', '2025-11-07', 1)
2025-11-07 18:50:26,428 INFO sqlalchemy.engine.Engine 
        SELECT 
            ITILCategory,
            COUNT(*) AS TotalCards,
            AVG(CycleTimeSeconds) AS AvgCycleTime,
            SUM(MetSLA) * 100.0 / NULLIF(COUNT(*), 0) AS SLACompliance,
            SUM(CASE WHEN RiskLevel = 'High' THEN 1 ELSE 0 END) AS HighRiskCount,
            SUM(CASE WHEN HasWindow = 1 THEN 1 ELSE 0 END) AS WithWindow,
            SUM(CASE WHEN HasCAB = 1 THEN 1 ELSE 0 END) AS WithCAB,
            SUM(CASE WHEN HasBackout = 1 THEN 1 ELSE 0 END) AS WithBackout
        FROM analytics.vw_ITILReport
        WHERE CompletedDate BETWEEN ? AND ?
        AND CompanyID = ?
        GROUP BY ITILCategory
        ORDER BY TotalCards DESC
    
2025-11-07 18:50:26,429 INFO sqlalchemy.engine.Engine [cached since 744.3s ago] ('2025-10-08', '2025-11-07', 1)
2025-11-07 18:50:26,429 INFO sqlalchemy.engine.Engine SELECT core.[CardColumns].[ColumnID], core.[CardColumns].[CompanyID], core.[CardColumns].[ColumnName], core.[CardColumns].[DisplayOrder], core.[CardColumns].[Color], core.[CardColumns].[IsActive], core.[CardColumns].[CreatedAt] 
FROM core.[CardColumns] 
WHERE core.[CardColumns].[CompanyID] = ? AND core.[CardColumns].[IsActive] = 1 ORDER BY core.[CardColumns].[DisplayOrder]
2025-11-07 18:50:26,430 INFO sqlalchemy.engine.Engine [cached since 754s ago] (1,)
2025-11-07 18:50:26,431 INFO sqlalchemy.engine.Engine 
            SELECT
                CardID, ExternalCardID, Title, ColumnName,
                ITILCategory, RiskLevel, HasWindow, HasCAB, HasBackout,
                CompletedDate, MetSLA, DaysLate
            FROM analytics.vw_ITILReport
            WHERE CompletedDate BETWEEN ? AND ?
            AND CompanyID = ?
            ORDER BY CompletedDate DESC
            OFFSET ? ROWS
            FETCH NEXT ? ROWS ONLY
        
2025-11-07 18:50:26,431 INFO sqlalchemy.engine.Engine [cached since 681s ago] ('2025-10-08', '2025-11-07', 1, 0, 50)
2025-11-07 18:50:26,434 INFO sqlalchemy.engine.Engine ROLLBACK
2025-11-07 18:50:26,438 INFO sqlalchemy.engine.Engine ROLLBACK
2025-11-07 18:50:26,441 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:59930 - "GET /api/v1/kanban/analytics/itil-summary?start_date=2025-10-08&end_date=2025-11-07 HTTP/1.1" 200 OK
INFO:     192.168.11.12:61643 - "GET /api/v1/kanban/columns HTTP/1.1" 200 OK
INFO:     192.168.11.12:55972 - "GET /api/v1/kanban/analytics/itil-cards-paginated?skip=0&limit=50&start_date=2025-10-08&end_date=2025-11-07&sort_by=completedDate&sort_order=desc HTTP/1.1" 200 OK
2025-11-07 18:50:29,327 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:50:29,327 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:50:29,328 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:50:29,329 INFO sqlalchemy.engine.Engine [cached since 757.2s ago] ('1',)
2025-11-07 18:50:29,329 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:50:29,330 INFO sqlalchemy.engine.Engine [cached since 757.2s ago] ('1',)
2025-11-07 18:50:29,330 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:50:29,331 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:50:29,331 INFO sqlalchemy.engine.Engine [cached since 757.2s ago] ('1',)
2025-11-07 18:50:29,332 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:50:29,334 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:50:29,335 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:50:29,347 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:50:29,349 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:50:29,350 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:50:29,350 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:50:29,350 INFO sqlalchemy.engine.Engine [cached since 757s ago] (1,)
2025-11-07 18:50:29,351 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:50:29,351 INFO sqlalchemy.engine.Engine [cached since 757s ago] (1,)
2025-11-07 18:50:29,351 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:50:29,352 INFO sqlalchemy.engine.Engine [cached since 757s ago] (1,)
2025-11-07 18:50:29,355 INFO sqlalchemy.engine.Engine 
            SELECT COUNT(*) as total
            FROM analytics.vw_ITILReport
            WHERE CompletedDate BETWEEN ? AND ?
            AND CompanyID = ?
        
2025-11-07 18:50:29,355 INFO sqlalchemy.engine.Engine [cached since 683.9s ago] ('2025-10-08', '2025-11-07', 1)
2025-11-07 18:50:29,361 INFO sqlalchemy.engine.Engine SELECT core.[CardColumns].[ColumnID], core.[CardColumns].[CompanyID], core.[CardColumns].[ColumnName], core.[CardColumns].[DisplayOrder], core.[CardColumns].[Color], core.[CardColumns].[IsActive], core.[CardColumns].[CreatedAt] 
FROM core.[CardColumns] 
WHERE core.[CardColumns].[CompanyID] = ? AND core.[CardColumns].[IsActive] = 1 ORDER BY core.[CardColumns].[DisplayOrder]
2025-11-07 18:50:29,361 INFO sqlalchemy.engine.Engine [cached since 757s ago] (1,)
2025-11-07 18:50:29,361 INFO sqlalchemy.engine.Engine 
        SELECT 
            ITILCategory,
            COUNT(*) AS TotalCards,
            AVG(CycleTimeSeconds) AS AvgCycleTime,
            SUM(MetSLA) * 100.0 / NULLIF(COUNT(*), 0) AS SLACompliance,
            SUM(CASE WHEN RiskLevel = 'High' THEN 1 ELSE 0 END) AS HighRiskCount,
            SUM(CASE WHEN HasWindow = 1 THEN 1 ELSE 0 END) AS WithWindow,
            SUM(CASE WHEN HasCAB = 1 THEN 1 ELSE 0 END) AS WithCAB,
            SUM(CASE WHEN HasBackout = 1 THEN 1 ELSE 0 END) AS WithBackout
        FROM analytics.vw_ITILReport
        WHERE CompletedDate BETWEEN ? AND ?
        AND CompanyID = ?
        GROUP BY ITILCategory
        ORDER BY TotalCards DESC
    
2025-11-07 18:50:29,361 INFO sqlalchemy.engine.Engine [cached since 747.3s ago] ('2025-10-08', '2025-11-07', 1)
2025-11-07 18:50:29,363 INFO sqlalchemy.engine.Engine 
            SELECT
                CardID, ExternalCardID, Title, ColumnName,
                ITILCategory, RiskLevel, HasWindow, HasCAB, HasBackout,
                CompletedDate, MetSLA, DaysLate
            FROM analytics.vw_ITILReport
            WHERE CompletedDate BETWEEN ? AND ?
            AND CompanyID = ?
            ORDER BY CompletedDate DESC
            OFFSET ? ROWS
            FETCH NEXT ? ROWS ONLY
        
2025-11-07 18:50:29,363 INFO sqlalchemy.engine.Engine [cached since 683.9s ago] ('2025-10-08', '2025-11-07', 1, 0, 50)
2025-11-07 18:50:29,368 INFO sqlalchemy.engine.Engine ROLLBACK
2025-11-07 18:50:29,372 INFO sqlalchemy.engine.Engine ROLLBACK
2025-11-07 18:50:29,376 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:61643 - "GET /api/v1/kanban/columns HTTP/1.1" 200 OK
INFO:     192.168.11.12:59930 - "GET /api/v1/kanban/analytics/itil-summary?start_date=2025-10-08&end_date=2025-11-07 HTTP/1.1" 200 OK
INFO:     192.168.11.12:55972 - "GET /api/v1/kanban/analytics/itil-cards-paginated?skip=0&limit=50&start_date=2025-10-08&end_date=2025-11-07&sort_by=completedDate&sort_order=desc HTTP/1.1" 200 OK
2025-11-07 18:50:32,431 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:50:32,432 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:50:32,432 INFO sqlalchemy.engine.Engine [cached since 760.3s ago] ('1',)
2025-11-07 18:50:32,433 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:50:32,433 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:50:32,434 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:50:32,435 INFO sqlalchemy.engine.Engine [cached since 760.3s ago] ('1',)
2025-11-07 18:50:32,435 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:50:32,435 INFO sqlalchemy.engine.Engine [cached since 760.3s ago] ('1',)
2025-11-07 18:50:32,436 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:50:32,438 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:50:32,439 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:50:32,454 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:50:32,455 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:50:32,455 INFO sqlalchemy.engine.Engine [cached since 760.1s ago] (1,)
2025-11-07 18:50:32,456 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:50:32,457 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:50:32,457 INFO sqlalchemy.engine.Engine [cached since 760.1s ago] (1,)
2025-11-07 18:50:32,458 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:50:32,459 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:50:32,459 INFO sqlalchemy.engine.Engine [cached since 760.1s ago] (1,)
2025-11-07 18:50:32,463 INFO sqlalchemy.engine.Engine SELECT core.[CardColumns].[ColumnID], core.[CardColumns].[CompanyID], core.[CardColumns].[ColumnName], core.[CardColumns].[DisplayOrder], core.[CardColumns].[Color], core.[CardColumns].[IsActive], core.[CardColumns].[CreatedAt] 
FROM core.[CardColumns] 
WHERE core.[CardColumns].[CompanyID] = ? AND core.[CardColumns].[IsActive] = 1 ORDER BY core.[CardColumns].[DisplayOrder]
2025-11-07 18:50:32,464 INFO sqlalchemy.engine.Engine [cached since 760.1s ago] (1,)
2025-11-07 18:50:32,468 INFO sqlalchemy.engine.Engine 
        SELECT 
            ITILCategory,
            COUNT(*) AS TotalCards,
            AVG(CycleTimeSeconds) AS AvgCycleTime,
            SUM(MetSLA) * 100.0 / NULLIF(COUNT(*), 0) AS SLACompliance,
            SUM(CASE WHEN RiskLevel = 'High' THEN 1 ELSE 0 END) AS HighRiskCount,
            SUM(CASE WHEN HasWindow = 1 THEN 1 ELSE 0 END) AS WithWindow,
            SUM(CASE WHEN HasCAB = 1 THEN 1 ELSE 0 END) AS WithCAB,
            SUM(CASE WHEN HasBackout = 1 THEN 1 ELSE 0 END) AS WithBackout
        FROM analytics.vw_ITILReport
        WHERE CompletedDate BETWEEN ? AND ?
        AND CompanyID = ?
        GROUP BY ITILCategory
        ORDER BY TotalCards DESC
    
2025-11-07 18:50:32,468 INFO sqlalchemy.engine.Engine [cached since 750.4s ago] ('2025-10-08', '2025-11-07', 1)
2025-11-07 18:50:32,469 INFO sqlalchemy.engine.Engine 
            SELECT COUNT(*) as total
            FROM analytics.vw_ITILReport
            WHERE CompletedDate BETWEEN ? AND ?
            AND CompanyID = ?
        
2025-11-07 18:50:32,470 INFO sqlalchemy.engine.Engine [cached since 687s ago] ('2025-10-08', '2025-11-07', 1)
2025-11-07 18:50:32,472 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:59930 - "GET /api/v1/kanban/columns HTTP/1.1" 200 OK
2025-11-07 18:50:32,480 INFO sqlalchemy.engine.Engine ROLLBACK
2025-11-07 18:50:32,481 INFO sqlalchemy.engine.Engine 
            SELECT
                CardID, ExternalCardID, Title, ColumnName,
                ITILCategory, RiskLevel, HasWindow, HasCAB, HasBackout,
                CompletedDate, MetSLA, DaysLate
            FROM analytics.vw_ITILReport
            WHERE CompletedDate BETWEEN ? AND ?
            AND CompanyID = ?
            ORDER BY CompletedDate DESC
            OFFSET ? ROWS
            FETCH NEXT ? ROWS ONLY
        
2025-11-07 18:50:32,481 INFO sqlalchemy.engine.Engine [cached since 687s ago] ('2025-10-08', '2025-11-07', 1, 0, 50)
INFO:     192.168.11.12:61643 - "GET /api/v1/kanban/analytics/itil-summary?start_date=2025-10-08&end_date=2025-11-07 HTTP/1.1" 200 OK
2025-11-07 18:50:32,489 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:55972 - "GET /api/v1/kanban/analytics/itil-cards-paginated?skip=0&limit=50&start_date=2025-10-08&end_date=2025-11-07&sort_by=completedDate&sort_order=desc HTTP/1.1" 200 OK
2025-11-07 18:50:36,160 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:50:36,162 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:50:36,162 INFO sqlalchemy.engine.Engine [cached since 764.1s ago] ('1',)
2025-11-07 18:50:36,163 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:50:36,164 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:50:36,165 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:50:36,165 INFO sqlalchemy.engine.Engine [cached since 764.1s ago] ('1',)
2025-11-07 18:50:36,166 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:50:36,166 INFO sqlalchemy.engine.Engine [cached since 764.1s ago] ('1',)
2025-11-07 18:50:36,167 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:50:36,168 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:50:36,169 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:50:36,186 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:50:36,187 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:50:36,188 INFO sqlalchemy.engine.Engine [cached since 763.8s ago] (1,)
2025-11-07 18:50:36,188 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:50:36,189 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:50:36,190 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:50:36,190 INFO sqlalchemy.engine.Engine [cached since 763.8s ago] (1,)
2025-11-07 18:50:36,191 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:50:36,191 INFO sqlalchemy.engine.Engine [cached since 763.8s ago] (1,)
2025-11-07 18:50:36,195 INFO sqlalchemy.engine.Engine 
        SELECT 
            ITILCategory,
            COUNT(*) AS TotalCards,
            AVG(CycleTimeSeconds) AS AvgCycleTime,
            SUM(MetSLA) * 100.0 / NULLIF(COUNT(*), 0) AS SLACompliance,
            SUM(CASE WHEN RiskLevel = 'High' THEN 1 ELSE 0 END) AS HighRiskCount,
            SUM(CASE WHEN HasWindow = 1 THEN 1 ELSE 0 END) AS WithWindow,
            SUM(CASE WHEN HasCAB = 1 THEN 1 ELSE 0 END) AS WithCAB,
            SUM(CASE WHEN HasBackout = 1 THEN 1 ELSE 0 END) AS WithBackout
        FROM analytics.vw_ITILReport
        WHERE CompletedDate BETWEEN ? AND ?
        AND CompanyID = ?
        GROUP BY ITILCategory
        ORDER BY TotalCards DESC
    
2025-11-07 18:50:36,196 INFO sqlalchemy.engine.Engine [cached since 754.1s ago] ('2025-10-08', '2025-11-07', 1)
2025-11-07 18:50:36,201 INFO sqlalchemy.engine.Engine SELECT core.[CardColumns].[ColumnID], core.[CardColumns].[CompanyID], core.[CardColumns].[ColumnName], core.[CardColumns].[DisplayOrder], core.[CardColumns].[Color], core.[CardColumns].[IsActive], core.[CardColumns].[CreatedAt] 
FROM core.[CardColumns] 
WHERE core.[CardColumns].[CompanyID] = ? AND core.[CardColumns].[IsActive] = 1 ORDER BY core.[CardColumns].[DisplayOrder]
2025-11-07 18:50:36,201 INFO sqlalchemy.engine.Engine [cached since 763.8s ago] (1,)
2025-11-07 18:50:36,201 INFO sqlalchemy.engine.Engine 
            SELECT COUNT(*) as total
            FROM analytics.vw_ITILReport
            WHERE CompletedDate BETWEEN ? AND ?
            AND CompanyID = ?
        
2025-11-07 18:50:36,201 INFO sqlalchemy.engine.Engine [cached since 690.7s ago] ('2025-10-08', '2025-11-07', 1)
2025-11-07 18:50:36,205 INFO sqlalchemy.engine.Engine ROLLBACK
2025-11-07 18:50:36,207 INFO sqlalchemy.engine.Engine 
            SELECT
                CardID, ExternalCardID, Title, ColumnName,
                ITILCategory, RiskLevel, HasWindow, HasCAB, HasBackout,
                CompletedDate, MetSLA, DaysLate
            FROM analytics.vw_ITILReport
            WHERE CompletedDate BETWEEN ? AND ?
            AND CompanyID = ?
            ORDER BY CompletedDate DESC
            OFFSET ? ROWS
            FETCH NEXT ? ROWS ONLY
        
2025-11-07 18:50:36,207 INFO sqlalchemy.engine.Engine [cached since 690.7s ago] ('2025-10-08', '2025-11-07', 1, 0, 50)
2025-11-07 18:50:36,210 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:59930 - "GET /api/v1/kanban/analytics/itil-summary?start_date=2025-10-08&end_date=2025-11-07 HTTP/1.1" 200 OK
2025-11-07 18:50:36,216 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:61643 - "GET /api/v1/kanban/columns HTTP/1.1" 200 OK
INFO:     192.168.11.12:55972 - "GET /api/v1/kanban/analytics/itil-cards-paginated?skip=0&limit=50&start_date=2025-10-08&end_date=2025-11-07&sort_by=completedDate&sort_order=desc HTTP/1.1" 200 OK
2025-11-07 18:50:41,612 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:50:41,613 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:50:41,613 INFO sqlalchemy.engine.Engine [cached since 769.5s ago] ('1',)
2025-11-07 18:50:41,615 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:50:41,626 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:50:41,627 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:50:41,628 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:50:41,629 INFO sqlalchemy.engine.Engine [cached since 769.5s ago] ('1',)
2025-11-07 18:50:41,629 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:50:41,629 INFO sqlalchemy.engine.Engine [cached since 769.5s ago] ('1',)
2025-11-07 18:50:41,630 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:50:41,631 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:50:41,631 INFO sqlalchemy.engine.Engine [cached since 769.3s ago] (1,)
2025-11-07 18:50:41,632 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:50:41,634 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:50:41,644 INFO sqlalchemy.engine.Engine 
            SELECT COUNT(*) as total
            FROM analytics.vw_ITILReport
            WHERE CompletedDate BETWEEN ? AND ?
            AND CompanyID = ?
        
2025-11-07 18:50:41,644 INFO sqlalchemy.engine.Engine [cached since 696.2s ago] ('2025-10-08', '2025-11-07', 1)
2025-11-07 18:50:41,646 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:50:41,647 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:50:41,647 INFO sqlalchemy.engine.Engine [cached since 769.3s ago] (1,)
2025-11-07 18:50:41,648 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:50:41,650 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:50:41,650 INFO sqlalchemy.engine.Engine [cached since 769.3s ago] (1,)
2025-11-07 18:50:41,652 INFO sqlalchemy.engine.Engine 
            SELECT
                CardID, ExternalCardID, Title, ColumnName,
                ITILCategory, RiskLevel, HasWindow, HasCAB, HasBackout,
                CompletedDate, MetSLA, DaysLate
            FROM analytics.vw_ITILReport
            WHERE CompletedDate BETWEEN ? AND ?
            AND CompanyID = ?
            ORDER BY CompletedDate DESC
            OFFSET ? ROWS
            FETCH NEXT ? ROWS ONLY
        
2025-11-07 18:50:41,653 INFO sqlalchemy.engine.Engine [cached since 696.2s ago] ('2025-10-08', '2025-11-07', 1, 0, 50)
2025-11-07 18:50:41,655 INFO sqlalchemy.engine.Engine SELECT core.[CardColumns].[ColumnID], core.[CardColumns].[CompanyID], core.[CardColumns].[ColumnName], core.[CardColumns].[DisplayOrder], core.[CardColumns].[Color], core.[CardColumns].[IsActive], core.[CardColumns].[CreatedAt] 
FROM core.[CardColumns] 
WHERE core.[CardColumns].[CompanyID] = ? AND core.[CardColumns].[IsActive] = 1 ORDER BY core.[CardColumns].[DisplayOrder]
2025-11-07 18:50:41,655 INFO sqlalchemy.engine.Engine [cached since 769.3s ago] (1,)
2025-11-07 18:50:41,659 INFO sqlalchemy.engine.Engine 
        SELECT 
            ITILCategory,
            COUNT(*) AS TotalCards,
            AVG(CycleTimeSeconds) AS AvgCycleTime,
            SUM(MetSLA) * 100.0 / NULLIF(COUNT(*), 0) AS SLACompliance,
            SUM(CASE WHEN RiskLevel = 'High' THEN 1 ELSE 0 END) AS HighRiskCount,
            SUM(CASE WHEN HasWindow = 1 THEN 1 ELSE 0 END) AS WithWindow,
            SUM(CASE WHEN HasCAB = 1 THEN 1 ELSE 0 END) AS WithCAB,
            SUM(CASE WHEN HasBackout = 1 THEN 1 ELSE 0 END) AS WithBackout
        FROM analytics.vw_ITILReport
        WHERE CompletedDate BETWEEN ? AND ?
        AND CompanyID = ?
        GROUP BY ITILCategory
        ORDER BY TotalCards DESC
    
2025-11-07 18:50:41,660 INFO sqlalchemy.engine.Engine [cached since 759.6s ago] ('2025-10-08', '2025-11-07', 1)
2025-11-07 18:50:41,662 INFO sqlalchemy.engine.Engine ROLLBACK
2025-11-07 18:50:41,666 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:50676 - "GET /api/v1/kanban/columns HTTP/1.1" 200 OK
INFO:     192.168.11.12:63718 - "GET /api/v1/kanban/analytics/itil-cards-paginated?skip=0&limit=50&start_date=2025-10-08&end_date=2025-11-07&sort_by=completedDate&sort_order=desc HTTP/1.1" 200 OK
2025-11-07 18:50:41,673 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:62800 - "GET /api/v1/kanban/analytics/itil-summary?start_date=2025-10-08&end_date=2025-11-07 HTTP/1.1" 200 OK
2025-11-07 18:50:44,954 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:50:44,955 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:50:44,955 INFO sqlalchemy.engine.Engine [cached since 772.9s ago] ('1',)
2025-11-07 18:50:44,956 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:50:44,957 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:50:44,957 INFO sqlalchemy.engine.Engine [cached since 772.9s ago] ('1',)
2025-11-07 18:50:44,958 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:50:44,959 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:50:44,960 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:50:44,960 INFO sqlalchemy.engine.Engine [cached since 772.9s ago] ('1',)
2025-11-07 18:50:44,961 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:50:44,963 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:50:44,980 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:50:44,982 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:50:44,982 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:50:44,982 INFO sqlalchemy.engine.Engine [cached since 772.6s ago] (1,)
2025-11-07 18:50:44,983 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:50:44,988 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:50:44,988 INFO sqlalchemy.engine.Engine [cached since 772.6s ago] (1,)
2025-11-07 18:50:44,990 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:50:44,990 INFO sqlalchemy.engine.Engine [cached since 772.6s ago] (1,)
2025-11-07 18:50:44,994 INFO sqlalchemy.engine.Engine 
        SELECT 
            ITILCategory,
            COUNT(*) AS TotalCards,
            AVG(CycleTimeSeconds) AS AvgCycleTime,
            SUM(MetSLA) * 100.0 / NULLIF(COUNT(*), 0) AS SLACompliance,
            SUM(CASE WHEN RiskLevel = 'High' THEN 1 ELSE 0 END) AS HighRiskCount,
            SUM(CASE WHEN HasWindow = 1 THEN 1 ELSE 0 END) AS WithWindow,
            SUM(CASE WHEN HasCAB = 1 THEN 1 ELSE 0 END) AS WithCAB,
            SUM(CASE WHEN HasBackout = 1 THEN 1 ELSE 0 END) AS WithBackout
        FROM analytics.vw_ITILReport
        WHERE CompletedDate BETWEEN ? AND ?
        AND CompanyID = ?
        GROUP BY ITILCategory
        ORDER BY TotalCards DESC
    
2025-11-07 18:50:44,998 INFO sqlalchemy.engine.Engine [cached since 762.9s ago] ('2025-10-08', '2025-11-07', 1)
2025-11-07 18:50:45,010 INFO sqlalchemy.engine.Engine 
            SELECT COUNT(*) as total
            FROM analytics.vw_ITILReport
            WHERE CompletedDate BETWEEN ? AND ?
            AND CompanyID = ?
        
2025-11-07 18:50:45,010 INFO sqlalchemy.engine.Engine [cached since 699.6s ago] ('2025-10-08', '2025-11-07', 1)
2025-11-07 18:50:45,011 INFO sqlalchemy.engine.Engine SELECT core.[CardColumns].[ColumnID], core.[CardColumns].[CompanyID], core.[CardColumns].[ColumnName], core.[CardColumns].[DisplayOrder], core.[CardColumns].[Color], core.[CardColumns].[IsActive], core.[CardColumns].[CreatedAt] 
FROM core.[CardColumns] 
WHERE core.[CardColumns].[CompanyID] = ? AND core.[CardColumns].[IsActive] = 1 ORDER BY core.[CardColumns].[DisplayOrder]
2025-11-07 18:50:45,011 INFO sqlalchemy.engine.Engine [cached since 772.6s ago] (1,)
2025-11-07 18:50:45,015 INFO sqlalchemy.engine.Engine 
            SELECT
                CardID, ExternalCardID, Title, ColumnName,
                ITILCategory, RiskLevel, HasWindow, HasCAB, HasBackout,
                CompletedDate, MetSLA, DaysLate
            FROM analytics.vw_ITILReport
            WHERE CompletedDate BETWEEN ? AND ?
            AND CompanyID = ?
            ORDER BY CompletedDate DESC
            OFFSET ? ROWS
            FETCH NEXT ? ROWS ONLY
        
2025-11-07 18:50:45,015 INFO sqlalchemy.engine.Engine [cached since 699.6s ago] ('2025-10-08', '2025-11-07', 1, 0, 50)
2025-11-07 18:50:45,022 INFO sqlalchemy.engine.Engine ROLLBACK
2025-11-07 18:50:45,024 INFO sqlalchemy.engine.Engine ROLLBACK
2025-11-07 18:50:45,027 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:63718 - "GET /api/v1/kanban/columns HTTP/1.1" 200 OK
INFO:     192.168.11.12:50676 - "GET /api/v1/kanban/analytics/itil-summary?start_date=2025-10-08&end_date=2025-11-07 HTTP/1.1" 200 OK
INFO:     192.168.11.12:62800 - "GET /api/v1/kanban/analytics/itil-cards-paginated?skip=0&limit=50&start_date=2025-10-08&end_date=2025-11-07&sort_by=completedDate&sort_order=desc HTTP/1.1" 200 OK
2025-11-07 18:53:07,932 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:53:07,933 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:53:07,934 INFO sqlalchemy.engine.Engine [cached since 915.8s ago] ('1',)
2025-11-07 18:53:07,934 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:53:07,935 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:53:07,935 INFO sqlalchemy.engine.Engine [cached since 915.8s ago] ('1',)
2025-11-07 18:53:07,936 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:53:07,937 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:53:07,938 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:53:07,938 INFO sqlalchemy.engine.Engine [cached since 915.8s ago] ('1',)
2025-11-07 18:53:07,939 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:53:07,946 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:53:07,948 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:53:07,949 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:53:07,950 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:53:07,950 INFO sqlalchemy.engine.Engine [cached since 915.6s ago] (1,)
2025-11-07 18:53:07,951 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:53:07,951 INFO sqlalchemy.engine.Engine [cached since 915.6s ago] (1,)
2025-11-07 18:53:07,957 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:53:07,958 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:53:07,958 INFO sqlalchemy.engine.Engine [cached since 915.6s ago] (1,)
2025-11-07 18:53:07,959 INFO sqlalchemy.engine.Engine 
        SELECT
            CardID,
            CardCreatedAt,
            OldColumnName,
            NewColumnName,
            MovementDate,
            TimeInStageSeconds,
            DueDate
        FROM [analytics].[vw_CardFullHistory]
        WHERE CompanyID = ?
          AND MovementDate BETWEEN ? AND ?
        
2025-11-07 18:53:07,959 INFO sqlalchemy.engine.Engine [cached since 915.6s ago] (1, '2025-10-08', '2025-11-07')
2025-11-07 18:53:07,962 INFO sqlalchemy.engine.Engine 
            SELECT COUNT(*) as total
            FROM analytics.vw_ITILReport
            WHERE CompletedDate BETWEEN ? AND ?
            AND CompanyID = ?
        
2025-11-07 18:53:07,962 INFO sqlalchemy.engine.Engine [cached since 842.5s ago] ('2025-10-08', '2025-11-07', 1)
2025-11-07 18:53:07,965 INFO sqlalchemy.engine.Engine SELECT core.[CardColumns].[ColumnID], core.[CardColumns].[CompanyID], core.[CardColumns].[ColumnName], core.[CardColumns].[DisplayOrder], core.[CardColumns].[Color], core.[CardColumns].[IsActive], core.[CardColumns].[CreatedAt] 
FROM core.[CardColumns] 
WHERE core.[CardColumns].[CompanyID] = ? AND core.[CardColumns].[IsActive] = 1 ORDER BY core.[CardColumns].[DisplayOrder]
2025-11-07 18:53:07,965 INFO sqlalchemy.engine.Engine [cached since 915.6s ago] (1,)
2025-11-07 18:53:07,967 INFO sqlalchemy.engine.Engine 
            SELECT
                CardID, ExternalCardID, Title, ColumnName,
                ITILCategory, RiskLevel, HasWindow, HasCAB, HasBackout,
                CompletedDate, MetSLA, DaysLate
            FROM analytics.vw_ITILReport
            WHERE CompletedDate BETWEEN ? AND ?
            AND CompanyID = ?
            ORDER BY CompletedDate DESC
            OFFSET ? ROWS
            FETCH NEXT ? ROWS ONLY
        
2025-11-07 18:53:07,967 INFO sqlalchemy.engine.Engine [cached since 842.5s ago] ('2025-10-08', '2025-11-07', 1, 0, 50)
2025-11-07 18:53:07,972 INFO sqlalchemy.engine.Engine ROLLBACK
2025-11-07 18:53:07,974 INFO sqlalchemy.engine.Engine 
        SELECT COUNT(DISTINCT c.CardID) AS WIPCount
        FROM [core].[Cards] c
        WHERE c.CompanyID = ?
          AND c.IsDeleted = 0
          AND c.CompletedDate IS NULL
          AND c.ColumnID IN (
              SELECT cc.ColumnID
              FROM core.CardColumns cc
              WHERE cc.CompanyID = ?
                AND cc.ColumnName NOT IN ('Backlog', 'ConcluÃ­do')
          )
        
2025-11-07 18:53:07,974 INFO sqlalchemy.engine.Engine [cached since 915.6s ago] (1, 1)
INFO:     192.168.11.12:59750 - "GET /api/v1/kanban/columns HTTP/1.1" 200 OK
2025-11-07 18:53:07,981 INFO sqlalchemy.engine.Engine ROLLBACK
2025-11-07 18:53:07,984 INFO sqlalchemy.engine.Engine ROLLBACK
2025-11-07 18:53:07,984 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:53:07,985 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:53:07,985 INFO sqlalchemy.engine.Engine [cached since 915.9s ago] ('1',)
INFO:     192.168.11.12:59748 - "GET /api/v1/kanban/analytics/itil-cards-paginated?skip=0&limit=50&start_date=2025-10-08&end_date=2025-11-07&sort_by=completedDate&sort_order=desc HTTP/1.1" 200 OK
INFO:     192.168.11.12:59469 - "GET /api/v1/kanban/analytics?start_date=2025-10-08&end_date=2025-11-07 HTTP/1.1" 200 OK
2025-11-07 18:53:07,991 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:53:07,994 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:53:07,995 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:53:07,995 INFO sqlalchemy.engine.Engine [cached since 915.9s ago] ('1',)
2025-11-07 18:53:07,998 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:53:07,998 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:53:07,999 INFO sqlalchemy.engine.Engine [cached since 915.9s ago] ('1',)
2025-11-07 18:53:07,999 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:53:08,001 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:53:08,002 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:53:08,002 INFO sqlalchemy.engine.Engine [cached since 915.6s ago] (1,)
2025-11-07 18:53:08,003 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:53:08,012 INFO sqlalchemy.engine.Engine SELECT core.[CardColumns].[ColumnID], core.[CardColumns].[CompanyID], core.[CardColumns].[ColumnName], core.[CardColumns].[DisplayOrder], core.[CardColumns].[Color], core.[CardColumns].[IsActive], core.[CardColumns].[CreatedAt] 
FROM core.[CardColumns] 
WHERE core.[CardColumns].[CompanyID] = ? AND core.[CardColumns].[IsActive] = 1 ORDER BY core.[CardColumns].[DisplayOrder]
2025-11-07 18:53:08,012 INFO sqlalchemy.engine.Engine [cached since 915.6s ago] (1,)
2025-11-07 18:53:08,013 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:53:08,014 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:53:08,014 INFO sqlalchemy.engine.Engine [cached since 915.6s ago] (1,)
2025-11-07 18:53:08,018 INFO sqlalchemy.engine.Engine ROLLBACK
2025-11-07 18:53:08,018 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:53:08,019 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:53:08,019 INFO sqlalchemy.engine.Engine [cached since 915.7s ago] (1,)
2025-11-07 18:53:08,022 INFO sqlalchemy.engine.Engine 
            SELECT COUNT(*) as total
            FROM analytics.vw_ITILReport
            WHERE CompletedDate BETWEEN ? AND ?
            AND CompanyID = ?
        
2025-11-07 18:53:08,022 INFO sqlalchemy.engine.Engine [cached since 842.6s ago] ('2025-10-08', '2025-11-07', 1)
INFO:     192.168.11.12:59750 - "GET /api/v1/kanban/columns HTTP/1.1" 200 OK
2025-11-07 18:53:08,027 INFO sqlalchemy.engine.Engine 
        SELECT
            CardID,
            CardCreatedAt,
            OldColumnName,
            NewColumnName,
            MovementDate,
            TimeInStageSeconds,
            DueDate
        FROM [analytics].[vw_CardFullHistory]
        WHERE CompanyID = ?
          AND MovementDate BETWEEN ? AND ?
        
2025-11-07 18:53:08,027 INFO sqlalchemy.engine.Engine [cached since 915.6s ago] (1, '2025-10-08', '2025-11-07')
2025-11-07 18:53:08,028 INFO sqlalchemy.engine.Engine 
            SELECT
                CardID, ExternalCardID, Title, ColumnName,
                ITILCategory, RiskLevel, HasWindow, HasCAB, HasBackout,
                CompletedDate, MetSLA, DaysLate
            FROM analytics.vw_ITILReport
            WHERE CompletedDate BETWEEN ? AND ?
            AND CompanyID = ?
            ORDER BY CompletedDate DESC
            OFFSET ? ROWS
            FETCH NEXT ? ROWS ONLY
        
2025-11-07 18:53:08,028 INFO sqlalchemy.engine.Engine [cached since 842.6s ago] ('2025-10-08', '2025-11-07', 1, 0, 50)
2025-11-07 18:53:08,034 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:59748 - "GET /api/v1/kanban/analytics/itil-cards-paginated?skip=0&limit=50&start_date=2025-10-08&end_date=2025-11-07&sort_by=completedDate&sort_order=desc HTTP/1.1" 200 OK
2025-11-07 18:53:08,038 INFO sqlalchemy.engine.Engine 
        SELECT COUNT(DISTINCT c.CardID) AS WIPCount
        FROM [core].[Cards] c
        WHERE c.CompanyID = ?
          AND c.IsDeleted = 0
          AND c.CompletedDate IS NULL
          AND c.ColumnID IN (
              SELECT cc.ColumnID
              FROM core.CardColumns cc
              WHERE cc.CompanyID = ?
                AND cc.ColumnName NOT IN ('Backlog', 'ConcluÃ­do')
          )
        
2025-11-07 18:53:08,038 INFO sqlalchemy.engine.Engine [cached since 915.6s ago] (1, 1)
2025-11-07 18:53:08,042 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:59469 - "GET /api/v1/kanban/analytics?start_date=2025-10-08&end_date=2025-11-07 HTTP/1.1" 200 OK
2025-11-07 18:53:08,213 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:53:08,213 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:53:08,214 INFO sqlalchemy.engine.Engine [cached since 916.1s ago] ('1',)
2025-11-07 18:53:08,216 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:53:08,223 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:53:08,223 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:53:08,224 INFO sqlalchemy.engine.Engine [cached since 915.9s ago] (1,)
2025-11-07 18:53:08,227 INFO sqlalchemy.engine.Engine EXEC [core].[sp_GetAnalyticsCardsDetails] @StartDate = ?, @EndDate = ?, @CompanyID = ?, @UserID = ?
2025-11-07 18:53:08,227 INFO sqlalchemy.engine.Engine [cached since 915.6s ago] ('2025-10-08', '2025-11-07', 1, 1)
2025-11-07 18:53:08,241 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:59469 - "GET /api/v1/kanban/analytics/cards-in-period?start_date=2025-10-08&end_date=2025-11-07&column_ids=1,2,3,4,5 HTTP/1.1" 200 OK
2025-11-07 18:53:08,248 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:53:08,249 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:53:08,249 INFO sqlalchemy.engine.Engine [cached since 916.1s ago] ('1',)
2025-11-07 18:53:08,251 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:53:08,258 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:53:08,258 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:53:08,259 INFO sqlalchemy.engine.Engine [cached since 915.9s ago] (1,)
2025-11-07 18:53:08,262 INFO sqlalchemy.engine.Engine EXEC [core].[sp_GetAnalyticsCardsDetails] @StartDate = ?, @EndDate = ?, @CompanyID = ?, @UserID = ?
2025-11-07 18:53:08,262 INFO sqlalchemy.engine.Engine [cached since 915.7s ago] ('2025-10-08', '2025-11-07', 1, 1)
2025-11-07 18:53:08,276 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:59469 - "GET /api/v1/kanban/analytics/cards-in-period?start_date=2025-10-08&end_date=2025-11-07&column_ids=1,2,3,4,5 HTTP/1.1" 200 OK
2025-11-07 18:53:08,283 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:53:08,283 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:53:08,284 INFO sqlalchemy.engine.Engine [cached since 916.2s ago] ('1',)
2025-11-07 18:53:08,285 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:53:08,292 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:53:08,293 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:53:08,293 INFO sqlalchemy.engine.Engine [cached since 915.9s ago] (1,)
2025-11-07 18:53:08,296 INFO sqlalchemy.engine.Engine EXEC [core].[sp_GetAnalyticsCardsDetails] @StartDate = ?, @EndDate = ?, @CompanyID = ?, @UserID = ?
2025-11-07 18:53:08,296 INFO sqlalchemy.engine.Engine [cached since 915.7s ago] ('2025-10-08', '2025-11-07', 1, 1)
2025-11-07 18:53:08,310 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:59469 - "GET /api/v1/kanban/analytics/cards-in-period?start_date=2025-10-08&end_date=2025-11-07&column_ids=1,2,3,4,5 HTTP/1.1" 200 OK
2025-11-07 18:53:08,730 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:53:08,731 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:53:08,731 INFO sqlalchemy.engine.Engine [cached since 916.6s ago] ('1',)
2025-11-07 18:53:08,734 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:53:08,741 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:53:08,741 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:53:08,742 INFO sqlalchemy.engine.Engine [cached since 916.4s ago] (1,)
2025-11-07 18:53:08,745 INFO sqlalchemy.engine.Engine 
            EXEC [core].[sp_get_dynamic_menus] @user_id_input = ?
        
2025-11-07 18:53:08,746 INFO sqlalchemy.engine.Engine [cached since 916.1s ago] (1,)
2025-11-07 18:53:08,754 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:59469 - "GET /api/v1/menus/dynamic HTTP/1.1" 200 OK
2025-11-07 18:53:11,293 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:53:11,294 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:53:11,294 INFO sqlalchemy.engine.Engine [cached since 919.2s ago] ('1',)
2025-11-07 18:53:11,296 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:53:11,303 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:53:11,304 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:53:11,304 INFO sqlalchemy.engine.Engine [cached since 918.9s ago] (1,)
2025-11-07 18:53:11,308 INFO sqlalchemy.engine.Engine 
        SELECT 
            ITILCategory,
            COUNT(*) AS TotalCards,
            AVG(CycleTimeSeconds) AS AvgCycleTime,
            SUM(MetSLA) * 100.0 / NULLIF(COUNT(*), 0) AS SLACompliance,
            SUM(CASE WHEN RiskLevel = 'High' THEN 1 ELSE 0 END) AS HighRiskCount,
            SUM(CASE WHEN HasWindow = 1 THEN 1 ELSE 0 END) AS WithWindow,
            SUM(CASE WHEN HasCAB = 1 THEN 1 ELSE 0 END) AS WithCAB,
            SUM(CASE WHEN HasBackout = 1 THEN 1 ELSE 0 END) AS WithBackout
        FROM analytics.vw_ITILReport
        WHERE CompletedDate BETWEEN ? AND ?
        AND CompanyID = ?
        GROUP BY ITILCategory
        ORDER BY TotalCards DESC
    
2025-11-07 18:53:11,308 INFO sqlalchemy.engine.Engine [cached since 909.2s ago] ('2025-10-08', '2025-11-07', 1)
2025-11-07 18:53:11,312 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:59469 - "GET /api/v1/kanban/analytics/itil-summary?start_date=2025-10-08&end_date=2025-11-07 HTTP/1.1" 200 OK
2025-11-07 18:53:55,129 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:53:55,129 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:53:55,130 INFO sqlalchemy.engine.Engine [cached since 963s ago] ('1',)
2025-11-07 18:53:55,131 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:53:55,132 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:53:55,132 INFO sqlalchemy.engine.Engine [cached since 963s ago] ('1',)
2025-11-07 18:53:55,133 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:53:55,135 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:53:55,135 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:53:55,137 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:53:55,137 INFO sqlalchemy.engine.Engine [cached since 963s ago] ('1',)
2025-11-07 18:53:55,146 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:53:55,149 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:53:55,150 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:53:55,151 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:53:55,151 INFO sqlalchemy.engine.Engine [cached since 962.8s ago] (1,)
2025-11-07 18:53:55,152 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:53:55,152 INFO sqlalchemy.engine.Engine [cached since 962.8s ago] (1,)
2025-11-07 18:53:55,158 INFO sqlalchemy.engine.Engine 
        SELECT 
            ITILCategory,
            COUNT(*) AS TotalCards,
            AVG(CycleTimeSeconds) AS AvgCycleTime,
            SUM(MetSLA) * 100.0 / NULLIF(COUNT(*), 0) AS SLACompliance,
            SUM(CASE WHEN RiskLevel = 'High' THEN 1 ELSE 0 END) AS HighRiskCount,
            SUM(CASE WHEN HasWindow = 1 THEN 1 ELSE 0 END) AS WithWindow,
            SUM(CASE WHEN HasCAB = 1 THEN 1 ELSE 0 END) AS WithCAB,
            SUM(CASE WHEN HasBackout = 1 THEN 1 ELSE 0 END) AS WithBackout
        FROM analytics.vw_ITILReport
        WHERE CompletedDate BETWEEN ? AND ?
        AND CompanyID = ?
        GROUP BY ITILCategory
        ORDER BY TotalCards DESC
    
2025-11-07 18:53:55,159 INFO sqlalchemy.engine.Engine [cached since 953.1s ago] ('2025-10-08', '2025-11-07', 1)
2025-11-07 18:53:55,163 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:53:55,164 INFO sqlalchemy.engine.Engine 
            SELECT COUNT(*) as total
            FROM analytics.vw_ITILReport
            WHERE CompletedDate BETWEEN ? AND ?
            AND CompanyID = ?
        
2025-11-07 18:53:55,165 INFO sqlalchemy.engine.Engine [cached since 889.7s ago] ('2025-10-08', '2025-11-07', 1)
2025-11-07 18:53:55,166 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:53:55,166 INFO sqlalchemy.engine.Engine [cached since 962.8s ago] (1,)
2025-11-07 18:53:55,169 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:56601 - "GET /api/v1/kanban/analytics/itil-summary?start_date=2025-10-08&end_date=2025-11-07 HTTP/1.1" 200 OK
2025-11-07 18:53:55,174 INFO sqlalchemy.engine.Engine 
            SELECT
                CardID, ExternalCardID, Title, ColumnName,
                ITILCategory, RiskLevel, HasWindow, HasCAB, HasBackout,
                CompletedDate, MetSLA, DaysLate
            FROM analytics.vw_ITILReport
            WHERE CompletedDate BETWEEN ? AND ?
            AND CompanyID = ?
            ORDER BY CompletedDate DESC
            OFFSET ? ROWS
            FETCH NEXT ? ROWS ONLY
        
2025-11-07 18:53:55,175 INFO sqlalchemy.engine.Engine [cached since 889.7s ago] ('2025-10-08', '2025-11-07', 1, 0, 50)
2025-11-07 18:53:55,178 INFO sqlalchemy.engine.Engine SELECT core.[CardColumns].[ColumnID], core.[CardColumns].[CompanyID], core.[CardColumns].[ColumnName], core.[CardColumns].[DisplayOrder], core.[CardColumns].[Color], core.[CardColumns].[IsActive], core.[CardColumns].[CreatedAt] 
FROM core.[CardColumns] 
WHERE core.[CardColumns].[CompanyID] = ? AND core.[CardColumns].[IsActive] = 1 ORDER BY core.[CardColumns].[DisplayOrder]
2025-11-07 18:53:55,178 INFO sqlalchemy.engine.Engine [cached since 962.8s ago] (1,)
2025-11-07 18:53:55,182 INFO sqlalchemy.engine.Engine ROLLBACK
2025-11-07 18:53:55,184 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:52015 - "GET /api/v1/kanban/analytics/itil-cards-paginated?skip=0&limit=50&start_date=2025-10-08&end_date=2025-11-07&sort_by=completedDate&sort_order=desc HTTP/1.1" 200 OK
INFO:     192.168.11.12:50944 - "GET /api/v1/kanban/columns HTTP/1.1" 200 OK
2025-11-07 18:53:58,987 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:53:58,988 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:53:58,989 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:53:58,989 INFO sqlalchemy.engine.Engine [cached since 966.9s ago] ('1',)
2025-11-07 18:53:58,989 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:53:58,990 INFO sqlalchemy.engine.Engine [cached since 966.9s ago] ('1',)
2025-11-07 18:53:58,990 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:53:58,991 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:53:58,991 INFO sqlalchemy.engine.Engine [cached since 966.9s ago] ('1',)
2025-11-07 18:53:58,993 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:53:58,994 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:53:58,996 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:53:59,008 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:53:59,010 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:53:59,011 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:53:59,011 INFO sqlalchemy.engine.Engine [cached since 966.6s ago] (1,)
2025-11-07 18:53:59,012 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:53:59,012 INFO sqlalchemy.engine.Engine [cached since 966.6s ago] (1,)
2025-11-07 18:53:59,012 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:53:59,013 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:53:59,013 INFO sqlalchemy.engine.Engine [cached since 966.6s ago] (1,)
2025-11-07 18:53:59,019 INFO sqlalchemy.engine.Engine 
        SELECT 
            ITILCategory,
            COUNT(*) AS TotalCards,
            AVG(CycleTimeSeconds) AS AvgCycleTime,
            SUM(MetSLA) * 100.0 / NULLIF(COUNT(*), 0) AS SLACompliance,
            SUM(CASE WHEN RiskLevel = 'High' THEN 1 ELSE 0 END) AS HighRiskCount,
            SUM(CASE WHEN HasWindow = 1 THEN 1 ELSE 0 END) AS WithWindow,
            SUM(CASE WHEN HasCAB = 1 THEN 1 ELSE 0 END) AS WithCAB,
            SUM(CASE WHEN HasBackout = 1 THEN 1 ELSE 0 END) AS WithBackout
        FROM analytics.vw_ITILReport
        WHERE CompletedDate BETWEEN ? AND ?
        AND CompanyID = ?
        GROUP BY ITILCategory
        ORDER BY TotalCards DESC
    
2025-11-07 18:53:59,019 INFO sqlalchemy.engine.Engine [cached since 956.9s ago] ('2025-10-08', '2025-11-07', 1)
2025-11-07 18:53:59,020 INFO sqlalchemy.engine.Engine SELECT core.[CardColumns].[ColumnID], core.[CardColumns].[CompanyID], core.[CardColumns].[ColumnName], core.[CardColumns].[DisplayOrder], core.[CardColumns].[Color], core.[CardColumns].[IsActive], core.[CardColumns].[CreatedAt] 
FROM core.[CardColumns] 
WHERE core.[CardColumns].[CompanyID] = ? AND core.[CardColumns].[IsActive] = 1 ORDER BY core.[CardColumns].[DisplayOrder]
2025-11-07 18:53:59,020 INFO sqlalchemy.engine.Engine [cached since 966.6s ago] (1,)
2025-11-07 18:53:59,023 INFO sqlalchemy.engine.Engine 
            SELECT COUNT(*) as total
            FROM analytics.vw_ITILReport
            WHERE CompletedDate BETWEEN ? AND ?
            AND CompanyID = ?
        
2025-11-07 18:53:59,023 INFO sqlalchemy.engine.Engine [cached since 893.6s ago] ('2025-10-08', '2025-11-07', 1)
2025-11-07 18:53:59,028 INFO sqlalchemy.engine.Engine ROLLBACK
2025-11-07 18:53:59,029 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:52015 - "GET /api/v1/kanban/columns HTTP/1.1" 200 OK
2025-11-07 18:53:59,033 INFO sqlalchemy.engine.Engine 
            SELECT
                CardID, ExternalCardID, Title, ColumnName,
                ITILCategory, RiskLevel, HasWindow, HasCAB, HasBackout,
                CompletedDate, MetSLA, DaysLate
            FROM analytics.vw_ITILReport
            WHERE CompletedDate BETWEEN ? AND ?
            AND CompanyID = ?
            ORDER BY CompletedDate DESC
            OFFSET ? ROWS
            FETCH NEXT ? ROWS ONLY
        
2025-11-07 18:53:59,034 INFO sqlalchemy.engine.Engine [cached since 893.6s ago] ('2025-10-08', '2025-11-07', 1, 0, 50)
INFO:     192.168.11.12:56601 - "GET /api/v1/kanban/analytics/itil-summary?start_date=2025-10-08&end_date=2025-11-07 HTTP/1.1" 200 OK
2025-11-07 18:53:59,042 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:50944 - "GET /api/v1/kanban/analytics/itil-cards-paginated?skip=0&limit=50&start_date=2025-10-08&end_date=2025-11-07&sort_by=completedDate&sort_order=desc HTTP/1.1" 200 OK
2025-11-07 18:54:02,520 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:54:02,521 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:54:02,523 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:54:02,523 INFO sqlalchemy.engine.Engine [cached since 970.4s ago] ('1',)
2025-11-07 18:54:02,524 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:54:02,524 INFO sqlalchemy.engine.Engine [cached since 970.4s ago] ('1',)
2025-11-07 18:54:02,525 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:54:02,526 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:54:02,526 INFO sqlalchemy.engine.Engine [cached since 970.4s ago] ('1',)
2025-11-07 18:54:02,527 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:54:02,529 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:54:02,531 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:54:02,552 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:54:02,554 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:54:02,556 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:54:02,556 INFO sqlalchemy.engine.Engine [cached since 970.2s ago] (1,)
2025-11-07 18:54:02,557 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:54:02,558 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:54:02,558 INFO sqlalchemy.engine.Engine [cached since 970.2s ago] (1,)
2025-11-07 18:54:02,559 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:54:02,560 INFO sqlalchemy.engine.Engine [cached since 970.2s ago] (1,)
2025-11-07 18:54:02,566 INFO sqlalchemy.engine.Engine SELECT core.[CardColumns].[ColumnID], core.[CardColumns].[CompanyID], core.[CardColumns].[ColumnName], core.[CardColumns].[DisplayOrder], core.[CardColumns].[Color], core.[CardColumns].[IsActive], core.[CardColumns].[CreatedAt] 
FROM core.[CardColumns] 
WHERE core.[CardColumns].[CompanyID] = ? AND core.[CardColumns].[IsActive] = 1 ORDER BY core.[CardColumns].[DisplayOrder]
2025-11-07 18:54:02,566 INFO sqlalchemy.engine.Engine [cached since 970.2s ago] (1,)
2025-11-07 18:54:02,571 INFO sqlalchemy.engine.Engine 
        SELECT 
            ITILCategory,
            COUNT(*) AS TotalCards,
            AVG(CycleTimeSeconds) AS AvgCycleTime,
            SUM(MetSLA) * 100.0 / NULLIF(COUNT(*), 0) AS SLACompliance,
            SUM(CASE WHEN RiskLevel = 'High' THEN 1 ELSE 0 END) AS HighRiskCount,
            SUM(CASE WHEN HasWindow = 1 THEN 1 ELSE 0 END) AS WithWindow,
            SUM(CASE WHEN HasCAB = 1 THEN 1 ELSE 0 END) AS WithCAB,
            SUM(CASE WHEN HasBackout = 1 THEN 1 ELSE 0 END) AS WithBackout
        FROM analytics.vw_ITILReport
        WHERE CompletedDate BETWEEN ? AND ?
        AND CompanyID = ?
        GROUP BY ITILCategory
        ORDER BY TotalCards DESC
    
2025-11-07 18:54:02,572 INFO sqlalchemy.engine.Engine [cached since 960.5s ago] ('2025-10-08', '2025-11-07', 1)
2025-11-07 18:54:02,573 INFO sqlalchemy.engine.Engine 
            SELECT COUNT(*) as total
            FROM analytics.vw_ITILReport
            WHERE CompletedDate BETWEEN ? AND ?
            AND CompanyID = ?
        
2025-11-07 18:54:02,573 INFO sqlalchemy.engine.Engine [cached since 897.1s ago] ('2025-10-08', '2025-11-07', 1)
2025-11-07 18:54:02,575 INFO sqlalchemy.engine.Engine ROLLBACK
2025-11-07 18:54:02,577 INFO sqlalchemy.engine.Engine ROLLBACK
2025-11-07 18:54:02,579 INFO sqlalchemy.engine.Engine 
            SELECT
                CardID, ExternalCardID, Title, ColumnName,
                ITILCategory, RiskLevel, HasWindow, HasCAB, HasBackout,
                CompletedDate, MetSLA, DaysLate
            FROM analytics.vw_ITILReport
            WHERE CompletedDate BETWEEN ? AND ?
            AND CompanyID = ?
            ORDER BY CompletedDate DESC
            OFFSET ? ROWS
            FETCH NEXT ? ROWS ONLY
        
2025-11-07 18:54:02,579 INFO sqlalchemy.engine.Engine [cached since 897.1s ago] ('2025-10-08', '2025-11-07', 1, 0, 50)
INFO:     192.168.11.12:56601 - "GET /api/v1/kanban/columns HTTP/1.1" 200 OK
INFO:     192.168.11.12:52015 - "GET /api/v1/kanban/analytics/itil-summary?start_date=2025-10-08&end_date=2025-11-07 HTTP/1.1" 200 OK
2025-11-07 18:54:02,587 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:50944 - "GET /api/v1/kanban/analytics/itil-cards-paginated?skip=0&limit=50&start_date=2025-10-08&end_date=2025-11-07&sort_by=completedDate&sort_order=desc HTTP/1.1" 200 OK
2025-11-07 18:54:06,484 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:54:06,485 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:54:06,486 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:54:06,486 INFO sqlalchemy.engine.Engine [cached since 974.4s ago] ('1',)
2025-11-07 18:54:06,487 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:54:06,487 INFO sqlalchemy.engine.Engine [cached since 974.4s ago] ('1',)
2025-11-07 18:54:06,487 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:54:06,488 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:54:06,488 INFO sqlalchemy.engine.Engine [cached since 974.4s ago] ('1',)
2025-11-07 18:54:06,489 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:54:06,491 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:54:06,493 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:54:06,508 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:54:06,509 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:54:06,510 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:54:06,510 INFO sqlalchemy.engine.Engine [cached since 974.1s ago] (1,)
2025-11-07 18:54:06,511 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:54:06,511 INFO sqlalchemy.engine.Engine [cached since 974.1s ago] (1,)
2025-11-07 18:54:06,512 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:54:06,514 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:54:06,514 INFO sqlalchemy.engine.Engine [cached since 974.1s ago] (1,)
2025-11-07 18:54:06,518 INFO sqlalchemy.engine.Engine SELECT core.[CardColumns].[ColumnID], core.[CardColumns].[CompanyID], core.[CardColumns].[ColumnName], core.[CardColumns].[DisplayOrder], core.[CardColumns].[Color], core.[CardColumns].[IsActive], core.[CardColumns].[CreatedAt] 
FROM core.[CardColumns] 
WHERE core.[CardColumns].[CompanyID] = ? AND core.[CardColumns].[IsActive] = 1 ORDER BY core.[CardColumns].[DisplayOrder]
2025-11-07 18:54:06,519 INFO sqlalchemy.engine.Engine [cached since 974.1s ago] (1,)
2025-11-07 18:54:06,522 INFO sqlalchemy.engine.Engine 
            SELECT COUNT(*) as total
            FROM analytics.vw_ITILReport
            WHERE CompletedDate BETWEEN ? AND ?
            AND CompanyID = ?
        
2025-11-07 18:54:06,523 INFO sqlalchemy.engine.Engine [cached since 901.1s ago] ('2025-10-08', '2025-11-07', 1)
2025-11-07 18:54:06,527 INFO sqlalchemy.engine.Engine ROLLBACK
2025-11-07 18:54:06,528 INFO sqlalchemy.engine.Engine 
        SELECT 
            ITILCategory,
            COUNT(*) AS TotalCards,
            AVG(CycleTimeSeconds) AS AvgCycleTime,
            SUM(MetSLA) * 100.0 / NULLIF(COUNT(*), 0) AS SLACompliance,
            SUM(CASE WHEN RiskLevel = 'High' THEN 1 ELSE 0 END) AS HighRiskCount,
            SUM(CASE WHEN HasWindow = 1 THEN 1 ELSE 0 END) AS WithWindow,
            SUM(CASE WHEN HasCAB = 1 THEN 1 ELSE 0 END) AS WithCAB,
            SUM(CASE WHEN HasBackout = 1 THEN 1 ELSE 0 END) AS WithBackout
        FROM analytics.vw_ITILReport
        WHERE CompletedDate BETWEEN ? AND ?
        AND CompanyID = ?
        GROUP BY ITILCategory
        ORDER BY TotalCards DESC
    
2025-11-07 18:54:06,528 INFO sqlalchemy.engine.Engine [cached since 964.4s ago] ('2025-10-08', '2025-11-07', 1)
2025-11-07 18:54:06,530 INFO sqlalchemy.engine.Engine 
            SELECT
                CardID, ExternalCardID, Title, ColumnName,
                ITILCategory, RiskLevel, HasWindow, HasCAB, HasBackout,
                CompletedDate, MetSLA, DaysLate
            FROM analytics.vw_ITILReport
            WHERE CompletedDate BETWEEN ? AND ?
            AND CompanyID = ?
            ORDER BY CompletedDate DESC
            OFFSET ? ROWS
            FETCH NEXT ? ROWS ONLY
        
2025-11-07 18:54:06,530 INFO sqlalchemy.engine.Engine [cached since 901.1s ago] ('2025-10-08', '2025-11-07', 1, 0, 50)
INFO:     192.168.11.12:52015 - "GET /api/v1/kanban/columns HTTP/1.1" 200 OK
2025-11-07 18:54:06,537 INFO sqlalchemy.engine.Engine ROLLBACK
2025-11-07 18:54:06,541 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:56601 - "GET /api/v1/kanban/analytics/itil-summary?start_date=2025-10-08&end_date=2025-11-07 HTTP/1.1" 200 OK
INFO:     192.168.11.12:50944 - "GET /api/v1/kanban/analytics/itil-cards-paginated?skip=0&limit=50&start_date=2025-10-08&end_date=2025-11-07&sort_by=completedDate&sort_order=desc HTTP/1.1" 200 OK
INFO:     192.168.11.12:50562 - "OPTIONS /api/v1/kanban/analytics/itil-cards-paginated?skip=0&limit=50&start_date=2025-10-08&end_date=2025-11-07&sort_by=completedDate&sort_order=desc HTTP/1.1" 200 OK
INFO:     192.168.11.12:63965 - "OPTIONS /api/v1/kanban/analytics?start_date=2025-10-08&end_date=2025-11-07 HTTP/1.1" 200 OK
INFO:     192.168.11.12:62797 - "OPTIONS /api/v1/kanban/columns HTTP/1.1" 200 OK
INFO:     192.168.11.12:53397 - "OPTIONS /api/v1/kanban/columns HTTP/1.1" 200 OK
INFO:     192.168.11.12:60275 - "OPTIONS /api/v1/kanban/analytics/itil-cards-paginated?skip=0&limit=50&start_date=2025-10-08&end_date=2025-11-07&sort_by=completedDate&sort_order=desc HTTP/1.1" 200 OK
INFO:     192.168.11.12:57053 - "OPTIONS /api/v1/kanban/analytics?start_date=2025-10-08&end_date=2025-11-07 HTTP/1.1" 200 OK
2025-11-07 18:55:14,982 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:55:14,982 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:55:14,983 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:55:14,983 INFO sqlalchemy.engine.Engine [cached since 1043s ago] ('1',)
2025-11-07 18:55:14,984 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:55:14,984 INFO sqlalchemy.engine.Engine [cached since 1043s ago] ('1',)
2025-11-07 18:55:14,985 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:55:14,986 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:55:14,987 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:55:14,987 INFO sqlalchemy.engine.Engine [cached since 1043s ago] ('1',)
2025-11-07 18:55:14,988 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:55:14,990 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:55:15,000 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:55:15,001 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:55:15,001 INFO sqlalchemy.engine.Engine [cached since 1043s ago] (1,)
2025-11-07 18:55:15,002 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:55:15,003 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:55:15,004 INFO sqlalchemy.engine.Engine [cached since 1043s ago] (1,)
2025-11-07 18:55:15,005 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:55:15,006 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:55:15,006 INFO sqlalchemy.engine.Engine [cached since 1043s ago] (1,)
2025-11-07 18:55:15,010 INFO sqlalchemy.engine.Engine SELECT core.[CardColumns].[ColumnID], core.[CardColumns].[CompanyID], core.[CardColumns].[ColumnName], core.[CardColumns].[DisplayOrder], core.[CardColumns].[Color], core.[CardColumns].[IsActive], core.[CardColumns].[CreatedAt] 
FROM core.[CardColumns] 
WHERE core.[CardColumns].[CompanyID] = ? AND core.[CardColumns].[IsActive] = 1 ORDER BY core.[CardColumns].[DisplayOrder]
2025-11-07 18:55:15,010 INFO sqlalchemy.engine.Engine [cached since 1043s ago] (1,)
2025-11-07 18:55:15,011 INFO sqlalchemy.engine.Engine 
            SELECT COUNT(*) as total
            FROM analytics.vw_ITILReport
            WHERE CompletedDate BETWEEN ? AND ?
            AND CompanyID = ?
        
2025-11-07 18:55:15,011 INFO sqlalchemy.engine.Engine [cached since 969.6s ago] ('2025-10-08', '2025-11-07', 1)
2025-11-07 18:55:15,014 INFO sqlalchemy.engine.Engine 
        SELECT
            CardID,
            CardCreatedAt,
            OldColumnName,
            NewColumnName,
            MovementDate,
            TimeInStageSeconds,
            DueDate
        FROM [analytics].[vw_CardFullHistory]
        WHERE CompanyID = ?
          AND MovementDate BETWEEN ? AND ?
        
2025-11-07 18:55:15,015 INFO sqlalchemy.engine.Engine [cached since 1043s ago] (1, '2025-10-08', '2025-11-07')
2025-11-07 18:55:15,016 INFO sqlalchemy.engine.Engine ROLLBACK
2025-11-07 18:55:15,017 INFO sqlalchemy.engine.Engine 
            SELECT
                CardID, ExternalCardID, Title, ColumnName,
                ITILCategory, RiskLevel, HasWindow, HasCAB, HasBackout,
                CompletedDate, MetSLA, DaysLate
            FROM analytics.vw_ITILReport
            WHERE CompletedDate BETWEEN ? AND ?
            AND CompanyID = ?
            ORDER BY CompletedDate DESC
            OFFSET ? ROWS
            FETCH NEXT ? ROWS ONLY
        
2025-11-07 18:55:15,018 INFO sqlalchemy.engine.Engine [cached since 969.6s ago] ('2025-10-08', '2025-11-07', 1, 0, 50)
INFO:     192.168.11.12:62797 - "GET /api/v1/kanban/columns HTTP/1.1" 200 OK
2025-11-07 18:55:15,028 INFO sqlalchemy.engine.Engine ROLLBACK
2025-11-07 18:55:15,030 INFO sqlalchemy.engine.Engine 
        SELECT COUNT(DISTINCT c.CardID) AS WIPCount
        FROM [core].[Cards] c
        WHERE c.CompanyID = ?
          AND c.IsDeleted = 0
          AND c.CompletedDate IS NULL
          AND c.ColumnID IN (
              SELECT cc.ColumnID
              FROM core.CardColumns cc
              WHERE cc.CompanyID = ?
                AND cc.ColumnName NOT IN ('Backlog', 'ConcluÃ­do')
          )
        
2025-11-07 18:55:15,030 INFO sqlalchemy.engine.Engine [cached since 1043s ago] (1, 1)
2025-11-07 18:55:15,030 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:55:15,031 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:55:15,032 INFO sqlalchemy.engine.Engine [cached since 1043s ago] ('1',)
INFO:     192.168.11.12:50562 - "GET /api/v1/kanban/analytics/itil-cards-paginated?skip=0&limit=50&start_date=2025-10-08&end_date=2025-11-07&sort_by=completedDate&sort_order=desc HTTP/1.1" 200 OK
2025-11-07 18:55:15,036 INFO sqlalchemy.engine.Engine ROLLBACK
2025-11-07 18:55:15,038 INFO sqlalchemy.engine.Engine COMMIT
INFO:     192.168.11.12:63965 - "GET /api/v1/kanban/analytics?start_date=2025-10-08&end_date=2025-11-07 HTTP/1.1" 200 OK
2025-11-07 18:55:15,045 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:55:15,046 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:55:15,046 INFO sqlalchemy.engine.Engine [cached since 1043s ago] ('1',)
2025-11-07 18:55:15,048 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:55:15,050 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:55:15,051 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:55:15,051 INFO sqlalchemy.engine.Engine [cached since 1043s ago] ('1',)
2025-11-07 18:55:15,051 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:55:15,053 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:55:15,053 INFO sqlalchemy.engine.Engine [cached since 1043s ago] (1,)
2025-11-07 18:55:15,060 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:55:15,061 INFO sqlalchemy.engine.Engine SELECT core.[CardColumns].[ColumnID], core.[CardColumns].[CompanyID], core.[CardColumns].[ColumnName], core.[CardColumns].[DisplayOrder], core.[CardColumns].[Color], core.[CardColumns].[IsActive], core.[CardColumns].[CreatedAt] 
FROM core.[CardColumns] 
WHERE core.[CardColumns].[CompanyID] = ? AND core.[CardColumns].[IsActive] = 1 ORDER BY core.[CardColumns].[DisplayOrder]
2025-11-07 18:55:15,061 INFO sqlalchemy.engine.Engine [cached since 1043s ago] (1,)
2025-11-07 18:55:15,062 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:55:15,063 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:55:15,063 INFO sqlalchemy.engine.Engine [cached since 1043s ago] (1,)
2025-11-07 18:55:15,069 INFO sqlalchemy.engine.Engine ROLLBACK
2025-11-07 18:55:15,073 INFO sqlalchemy.engine.Engine 
            SELECT COUNT(*) as total
            FROM analytics.vw_ITILReport
            WHERE CompletedDate BETWEEN ? AND ?
            AND CompanyID = ?
        
2025-11-07 18:55:15,073 INFO sqlalchemy.engine.Engine [cached since 969.6s ago] ('2025-10-08', '2025-11-07', 1)
2025-11-07 18:55:15,073 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:55:15,075 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:55:15,075 INFO sqlalchemy.engine.Engine [cached since 1043s ago] (1,)
INFO:     192.168.11.12:62797 - "GET /api/v1/kanban/columns HTTP/1.1" 200 OK
2025-11-07 18:55:15,083 INFO sqlalchemy.engine.Engine 
            SELECT
                CardID, ExternalCardID, Title, ColumnName,
                ITILCategory, RiskLevel, HasWindow, HasCAB, HasBackout,
                CompletedDate, MetSLA, DaysLate
            FROM analytics.vw_ITILReport
            WHERE CompletedDate BETWEEN ? AND ?
            AND CompanyID = ?
            ORDER BY CompletedDate DESC
            OFFSET ? ROWS
            FETCH NEXT ? ROWS ONLY
        
2025-11-07 18:55:15,083 INFO sqlalchemy.engine.Engine [cached since 969.6s ago] ('2025-10-08', '2025-11-07', 1, 0, 50)
2025-11-07 18:55:15,090 INFO sqlalchemy.engine.Engine 
        SELECT
            CardID,
            CardCreatedAt,
            OldColumnName,
            NewColumnName,
            MovementDate,
            TimeInStageSeconds,
            DueDate
        FROM [analytics].[vw_CardFullHistory]
        WHERE CompanyID = ?
          AND MovementDate BETWEEN ? AND ?
        
2025-11-07 18:55:15,090 INFO sqlalchemy.engine.Engine [cached since 1043s ago] (1, '2025-10-08', '2025-11-07')
2025-11-07 18:55:15,104 INFO sqlalchemy.engine.Engine ROLLBACK
2025-11-07 18:55:15,105 INFO sqlalchemy.engine.Engine 
        SELECT COUNT(DISTINCT c.CardID) AS WIPCount
        FROM [core].[Cards] c
        WHERE c.CompanyID = ?
          AND c.IsDeleted = 0
          AND c.CompletedDate IS NULL
          AND c.ColumnID IN (
              SELECT cc.ColumnID
              FROM core.CardColumns cc
              WHERE cc.CompanyID = ?
                AND cc.ColumnName NOT IN ('Backlog', 'ConcluÃ­do')
          )
        
2025-11-07 18:55:15,105 INFO sqlalchemy.engine.Engine [cached since 1043s ago] (1, 1)
INFO:     192.168.11.12:50562 - "GET /api/v1/kanban/analytics/itil-cards-paginated?skip=0&limit=50&start_date=2025-10-08&end_date=2025-11-07&sort_by=completedDate&sort_order=desc HTTP/1.1" 200 OK
2025-11-07 18:55:15,112 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:63965 - "GET /api/v1/kanban/analytics?start_date=2025-10-08&end_date=2025-11-07 HTTP/1.1" 200 OK
INFO:     192.168.11.12:63965 - "OPTIONS /api/v1/kanban/analytics/cards-in-period?start_date=2025-10-08&end_date=2025-11-07&column_ids=1,2,3,4,5 HTTP/1.1" 200 OK
INFO:     192.168.11.12:50562 - "OPTIONS /api/v1/kanban/analytics/cards-in-period?start_date=2025-10-08&end_date=2025-11-07&column_ids=1,2,3,4,5 HTTP/1.1" 200 OK
INFO:     192.168.11.12:62797 - "OPTIONS /api/v1/kanban/analytics/cards-in-period?start_date=2025-10-08&end_date=2025-11-07&column_ids=1,2,3,4,5 HTTP/1.1" 200 OK
2025-11-07 18:55:15,257 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:55:15,258 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:55:15,258 INFO sqlalchemy.engine.Engine [cached since 1043s ago] ('1',)
2025-11-07 18:55:15,260 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:55:15,267 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:55:15,268 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:55:15,268 INFO sqlalchemy.engine.Engine [cached since 1043s ago] (1,)
2025-11-07 18:55:15,272 INFO sqlalchemy.engine.Engine EXEC [core].[sp_GetAnalyticsCardsDetails] @StartDate = ?, @EndDate = ?, @CompanyID = ?, @UserID = ?
2025-11-07 18:55:15,272 INFO sqlalchemy.engine.Engine [cached since 1043s ago] ('2025-10-08', '2025-11-07', 1, 1)
2025-11-07 18:55:15,287 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:63965 - "GET /api/v1/kanban/analytics/cards-in-period?start_date=2025-10-08&end_date=2025-11-07&column_ids=1,2,3,4,5 HTTP/1.1" 200 OK
2025-11-07 18:55:15,295 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:55:15,296 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:55:15,296 INFO sqlalchemy.engine.Engine [cached since 1043s ago] ('1',)
2025-11-07 18:55:15,298 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:55:15,305 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:55:15,306 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:55:15,306 INFO sqlalchemy.engine.Engine [cached since 1043s ago] (1,)
2025-11-07 18:55:15,310 INFO sqlalchemy.engine.Engine EXEC [core].[sp_GetAnalyticsCardsDetails] @StartDate = ?, @EndDate = ?, @CompanyID = ?, @UserID = ?
2025-11-07 18:55:15,310 INFO sqlalchemy.engine.Engine [cached since 1043s ago] ('2025-10-08', '2025-11-07', 1, 1)
2025-11-07 18:55:15,324 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:62797 - "GET /api/v1/kanban/analytics/cards-in-period?start_date=2025-10-08&end_date=2025-11-07&column_ids=1,2,3,4,5 HTTP/1.1" 200 OK
2025-11-07 18:55:15,331 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:55:15,332 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:55:15,332 INFO sqlalchemy.engine.Engine [cached since 1043s ago] ('1',)
2025-11-07 18:55:15,334 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:55:15,342 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:55:15,342 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:55:15,342 INFO sqlalchemy.engine.Engine [cached since 1043s ago] (1,)
2025-11-07 18:55:15,346 INFO sqlalchemy.engine.Engine EXEC [core].[sp_GetAnalyticsCardsDetails] @StartDate = ?, @EndDate = ?, @CompanyID = ?, @UserID = ?
2025-11-07 18:55:15,346 INFO sqlalchemy.engine.Engine [cached since 1043s ago] ('2025-10-08', '2025-11-07', 1, 1)
2025-11-07 18:55:15,360 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:63965 - "GET /api/v1/kanban/analytics/cards-in-period?start_date=2025-10-08&end_date=2025-11-07&column_ids=1,2,3,4,5 HTTP/1.1" 200 OK
INFO:     192.168.11.12:63965 - "OPTIONS /api/v1/menus/dynamic HTTP/1.1" 200 OK
2025-11-07 18:55:15,775 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:55:15,775 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:55:15,775 INFO sqlalchemy.engine.Engine [cached since 1044s ago] ('1',)
2025-11-07 18:55:15,778 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:55:15,785 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:55:15,786 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:55:15,786 INFO sqlalchemy.engine.Engine [cached since 1043s ago] (1,)
2025-11-07 18:55:15,789 INFO sqlalchemy.engine.Engine 
            EXEC [core].[sp_get_dynamic_menus] @user_id_input = ?
        
2025-11-07 18:55:15,789 INFO sqlalchemy.engine.Engine [cached since 1043s ago] (1,)
2025-11-07 18:55:15,799 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:63965 - "GET /api/v1/menus/dynamic HTTP/1.1" 200 OK
INFO:     192.168.11.12:63965 - "OPTIONS /api/v1/kanban/analytics/itil-summary?start_date=2025-10-08&end_date=2025-11-07 HTTP/1.1" 200 OK
2025-11-07 18:55:18,664 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:55:18,665 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:55:18,665 INFO sqlalchemy.engine.Engine [cached since 1047s ago] ('1',)
2025-11-07 18:55:18,667 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:55:18,675 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:55:18,676 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:55:18,676 INFO sqlalchemy.engine.Engine [cached since 1046s ago] (1,)
2025-11-07 18:55:18,679 INFO sqlalchemy.engine.Engine 
        SELECT 
            ITILCategory,
            COUNT(*) AS TotalCards,
            AVG(CycleTimeSeconds) AS AvgCycleTime,
            SUM(MetSLA) * 100.0 / NULLIF(COUNT(*), 0) AS SLACompliance,
            SUM(CASE WHEN RiskLevel = 'High' THEN 1 ELSE 0 END) AS HighRiskCount,
            SUM(CASE WHEN HasWindow = 1 THEN 1 ELSE 0 END) AS WithWindow,
            SUM(CASE WHEN HasCAB = 1 THEN 1 ELSE 0 END) AS WithCAB,
            SUM(CASE WHEN HasBackout = 1 THEN 1 ELSE 0 END) AS WithBackout
        FROM analytics.vw_ITILReport
        WHERE CompletedDate BETWEEN ? AND ?
        AND CompanyID = ?
        GROUP BY ITILCategory
        ORDER BY TotalCards DESC
    
2025-11-07 18:55:18,680 INFO sqlalchemy.engine.Engine [cached since 1037s ago] ('2025-10-08', '2025-11-07', 1)
2025-11-07 18:55:18,684 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:63965 - "GET /api/v1/kanban/analytics/itil-summary?start_date=2025-10-08&end_date=2025-11-07 HTTP/1.1" 200 OK
2025-11-07 18:57:00,933 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:57:00,934 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:57:00,935 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:57:00,936 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:57:00,936 INFO sqlalchemy.engine.Engine [cached since 1149s ago] ('1',)
2025-11-07 18:57:00,936 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:57:00,937 INFO sqlalchemy.engine.Engine [cached since 1149s ago] ('1',)
2025-11-07 18:57:00,937 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:57:00,937 INFO sqlalchemy.engine.Engine [cached since 1149s ago] ('1',)
2025-11-07 18:57:00,940 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:57:00,941 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:57:00,942 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:57:00,953 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:57:00,954 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:57:00,954 INFO sqlalchemy.engine.Engine [cached since 1149s ago] (1,)
2025-11-07 18:57:00,955 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:57:00,956 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:57:00,956 INFO sqlalchemy.engine.Engine [cached since 1149s ago] (1,)
2025-11-07 18:57:00,957 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:57:00,958 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:57:00,959 INFO sqlalchemy.engine.Engine [cached since 1149s ago] (1,)
2025-11-07 18:57:00,963 INFO sqlalchemy.engine.Engine 
        SELECT 
            ITILCategory,
            COUNT(*) AS TotalCards,
            AVG(CycleTimeSeconds) AS AvgCycleTime,
            SUM(MetSLA) * 100.0 / NULLIF(COUNT(*), 0) AS SLACompliance,
            SUM(CASE WHEN RiskLevel = 'High' THEN 1 ELSE 0 END) AS HighRiskCount,
            SUM(CASE WHEN HasWindow = 1 THEN 1 ELSE 0 END) AS WithWindow,
            SUM(CASE WHEN HasCAB = 1 THEN 1 ELSE 0 END) AS WithCAB,
            SUM(CASE WHEN HasBackout = 1 THEN 1 ELSE 0 END) AS WithBackout
        FROM analytics.vw_ITILReport
        WHERE CompletedDate BETWEEN ? AND ?
        AND CompanyID = ?
        GROUP BY ITILCategory
        ORDER BY TotalCards DESC
    
2025-11-07 18:57:00,963 INFO sqlalchemy.engine.Engine [cached since 1139s ago] ('2025-10-08', '2025-11-07', 1)
2025-11-07 18:57:00,963 INFO sqlalchemy.engine.Engine 
            SELECT COUNT(*) as total
            FROM analytics.vw_ITILReport
            WHERE CompletedDate BETWEEN ? AND ?
            AND CompanyID = ?
        
2025-11-07 18:57:00,963 INFO sqlalchemy.engine.Engine [cached since 1076s ago] ('2025-10-08', '2025-11-07', 1)
2025-11-07 18:57:00,968 INFO sqlalchemy.engine.Engine SELECT core.[CardColumns].[ColumnID], core.[CardColumns].[CompanyID], core.[CardColumns].[ColumnName], core.[CardColumns].[DisplayOrder], core.[CardColumns].[Color], core.[CardColumns].[IsActive], core.[CardColumns].[CreatedAt] 
FROM core.[CardColumns] 
WHERE core.[CardColumns].[CompanyID] = ? AND core.[CardColumns].[IsActive] = 1 ORDER BY core.[CardColumns].[DisplayOrder]
2025-11-07 18:57:00,968 INFO sqlalchemy.engine.Engine [cached since 1149s ago] (1,)
2025-11-07 18:57:00,969 INFO sqlalchemy.engine.Engine 
            SELECT
                CardID, ExternalCardID, Title, ColumnName,
                ITILCategory, RiskLevel, HasWindow, HasCAB, HasBackout,
                CompletedDate, MetSLA, DaysLate
            FROM analytics.vw_ITILReport
            WHERE CompletedDate BETWEEN ? AND ?
            AND CompanyID = ?
            ORDER BY CompletedDate DESC
            OFFSET ? ROWS
            FETCH NEXT ? ROWS ONLY
        
2025-11-07 18:57:00,969 INFO sqlalchemy.engine.Engine [cached since 1076s ago] ('2025-10-08', '2025-11-07', 1, 0, 50)
2025-11-07 18:57:00,971 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:65021 - "GET /api/v1/kanban/analytics/itil-summary?start_date=2025-10-08&end_date=2025-11-07 HTTP/1.1" 200 OK
2025-11-07 18:57:00,977 INFO sqlalchemy.engine.Engine ROLLBACK
2025-11-07 18:57:00,979 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:54217 - "GET /api/v1/kanban/columns HTTP/1.1" 200 OK
INFO:     192.168.11.12:62586 - "GET /api/v1/kanban/analytics/itil-cards-paginated?skip=0&limit=50&start_date=2025-10-08&end_date=2025-11-07&sort_by=completedDate&sort_order=desc HTTP/1.1" 200 OK
2025-11-07 18:57:30,009 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:57:30,010 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:57:30,010 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:57:30,011 INFO sqlalchemy.engine.Engine [cached since 1178s ago] ('1',)
2025-11-07 18:57:30,011 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:57:30,012 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:57:30,012 INFO sqlalchemy.engine.Engine [cached since 1178s ago] ('1',)
2025-11-07 18:57:30,013 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:57:30,013 INFO sqlalchemy.engine.Engine [cached since 1178s ago] ('1',)
2025-11-07 18:57:30,014 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:57:30,015 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:57:30,017 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:57:30,028 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:57:30,029 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:57:30,030 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:57:30,030 INFO sqlalchemy.engine.Engine [cached since 1178s ago] (1,)
2025-11-07 18:57:30,031 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:57:30,031 INFO sqlalchemy.engine.Engine [cached since 1178s ago] (1,)
2025-11-07 18:57:30,031 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:57:30,032 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:57:30,033 INFO sqlalchemy.engine.Engine [cached since 1178s ago] (1,)
2025-11-07 18:57:30,039 INFO sqlalchemy.engine.Engine SELECT core.[CardColumns].[ColumnID], core.[CardColumns].[CompanyID], core.[CardColumns].[ColumnName], core.[CardColumns].[DisplayOrder], core.[CardColumns].[Color], core.[CardColumns].[IsActive], core.[CardColumns].[CreatedAt] 
FROM core.[CardColumns] 
WHERE core.[CardColumns].[CompanyID] = ? AND core.[CardColumns].[IsActive] = 1 ORDER BY core.[CardColumns].[DisplayOrder]
2025-11-07 18:57:30,039 INFO sqlalchemy.engine.Engine [cached since 1178s ago] (1,)
2025-11-07 18:57:30,041 INFO sqlalchemy.engine.Engine 
            SELECT COUNT(*) as total
            FROM analytics.vw_ITILReport
            WHERE CompletedDate BETWEEN ? AND ?
            AND CompanyID = ?
        
2025-11-07 18:57:30,042 INFO sqlalchemy.engine.Engine [cached since 1105s ago] ('2025-10-08', '2025-11-07', 1)
2025-11-07 18:57:30,042 INFO sqlalchemy.engine.Engine 
        SELECT 
            ITILCategory,
            COUNT(*) AS TotalCards,
            AVG(CycleTimeSeconds) AS AvgCycleTime,
            SUM(MetSLA) * 100.0 / NULLIF(COUNT(*), 0) AS SLACompliance,
            SUM(CASE WHEN RiskLevel = 'High' THEN 1 ELSE 0 END) AS HighRiskCount,
            SUM(CASE WHEN HasWindow = 1 THEN 1 ELSE 0 END) AS WithWindow,
            SUM(CASE WHEN HasCAB = 1 THEN 1 ELSE 0 END) AS WithCAB,
            SUM(CASE WHEN HasBackout = 1 THEN 1 ELSE 0 END) AS WithBackout
        FROM analytics.vw_ITILReport
        WHERE CompletedDate BETWEEN ? AND ?
        AND CompanyID = ?
        GROUP BY ITILCategory
        ORDER BY TotalCards DESC
    
2025-11-07 18:57:30,042 INFO sqlalchemy.engine.Engine [cached since 1168s ago] ('2025-10-08', '2025-11-07', 1)
2025-11-07 18:57:30,045 INFO sqlalchemy.engine.Engine 
            SELECT
                CardID, ExternalCardID, Title, ColumnName,
                ITILCategory, RiskLevel, HasWindow, HasCAB, HasBackout,
                CompletedDate, MetSLA, DaysLate
            FROM analytics.vw_ITILReport
            WHERE CompletedDate BETWEEN ? AND ?
            AND CompanyID = ?
            ORDER BY CompletedDate DESC
            OFFSET ? ROWS
            FETCH NEXT ? ROWS ONLY
        
2025-11-07 18:57:30,045 INFO sqlalchemy.engine.Engine [cached since 1105s ago] ('2025-10-08', '2025-11-07', 1, 0, 50)
2025-11-07 18:57:30,047 INFO sqlalchemy.engine.Engine ROLLBACK
2025-11-07 18:57:30,049 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:58776 - "GET /api/v1/kanban/columns HTTP/1.1" 200 OK
INFO:     192.168.11.12:52554 - "GET /api/v1/kanban/analytics/itil-summary?start_date=2025-10-08&end_date=2025-11-07 HTTP/1.1" 200 OK
2025-11-07 18:57:30,056 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:62287 - "GET /api/v1/kanban/analytics/itil-cards-paginated?skip=0&limit=50&start_date=2025-10-08&end_date=2025-11-07&sort_by=completedDate&sort_order=desc HTTP/1.1" 200 OK
2025-11-07 18:57:45,974 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:57:45,976 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:57:45,976 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:57:45,976 INFO sqlalchemy.engine.Engine [cached since 1194s ago] ('1',)
2025-11-07 18:57:45,977 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:57:45,977 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:57:45,977 INFO sqlalchemy.engine.Engine [cached since 1194s ago] ('1',)
2025-11-07 18:57:45,978 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:57:45,978 INFO sqlalchemy.engine.Engine [cached since 1194s ago] ('1',)
2025-11-07 18:57:45,979 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:57:45,981 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:57:45,982 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:57:45,993 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:57:45,994 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:57:45,994 INFO sqlalchemy.engine.Engine [cached since 1194s ago] (1,)
2025-11-07 18:57:45,995 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:57:45,996 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:57:45,996 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:57:45,997 INFO sqlalchemy.engine.Engine [cached since 1194s ago] (1,)
2025-11-07 18:57:45,997 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:57:45,997 INFO sqlalchemy.engine.Engine [cached since 1194s ago] (1,)
2025-11-07 18:57:46,000 INFO sqlalchemy.engine.Engine SELECT core.[CardColumns].[ColumnID], core.[CardColumns].[CompanyID], core.[CardColumns].[ColumnName], core.[CardColumns].[DisplayOrder], core.[CardColumns].[Color], core.[CardColumns].[IsActive], core.[CardColumns].[CreatedAt] 
FROM core.[CardColumns] 
WHERE core.[CardColumns].[CompanyID] = ? AND core.[CardColumns].[IsActive] = 1 ORDER BY core.[CardColumns].[DisplayOrder]
2025-11-07 18:57:46,001 INFO sqlalchemy.engine.Engine [cached since 1194s ago] (1,)
2025-11-07 18:57:46,004 INFO sqlalchemy.engine.Engine 
        SELECT 
            ITILCategory,
            COUNT(*) AS TotalCards,
            AVG(CycleTimeSeconds) AS AvgCycleTime,
            SUM(MetSLA) * 100.0 / NULLIF(COUNT(*), 0) AS SLACompliance,
            SUM(CASE WHEN RiskLevel = 'High' THEN 1 ELSE 0 END) AS HighRiskCount,
            SUM(CASE WHEN HasWindow = 1 THEN 1 ELSE 0 END) AS WithWindow,
            SUM(CASE WHEN HasCAB = 1 THEN 1 ELSE 0 END) AS WithCAB,
            SUM(CASE WHEN HasBackout = 1 THEN 1 ELSE 0 END) AS WithBackout
        FROM analytics.vw_ITILReport
        WHERE CompletedDate BETWEEN ? AND ?
        AND CompanyID = ?
        GROUP BY ITILCategory
        ORDER BY TotalCards DESC
    
2025-11-07 18:57:46,005 INFO sqlalchemy.engine.Engine [cached since 1184s ago] ('2025-10-08', '2025-11-07', 1)
2025-11-07 18:57:46,005 INFO sqlalchemy.engine.Engine 
            SELECT COUNT(*) as total
            FROM analytics.vw_ITILReport
            WHERE CompletedDate BETWEEN ? AND ?
            AND CompanyID = ?
        
2025-11-07 18:57:46,005 INFO sqlalchemy.engine.Engine [cached since 1121s ago] ('2025-10-08', '2025-11-07', 1)
2025-11-07 18:57:46,008 INFO sqlalchemy.engine.Engine ROLLBACK
2025-11-07 18:57:46,010 INFO sqlalchemy.engine.Engine 
            SELECT
                CardID, ExternalCardID, Title, ColumnName,
                ITILCategory, RiskLevel, HasWindow, HasCAB, HasBackout,
                CompletedDate, MetSLA, DaysLate
            FROM analytics.vw_ITILReport
            WHERE CompletedDate BETWEEN ? AND ?
            AND CompanyID = ?
            ORDER BY CompletedDate DESC
            OFFSET ? ROWS
            FETCH NEXT ? ROWS ONLY
        
2025-11-07 18:57:46,011 INFO sqlalchemy.engine.Engine [cached since 1121s ago] ('2025-10-08', '2025-11-07', 1, 0, 50)
INFO:     192.168.11.12:52703 - "GET /api/v1/kanban/columns HTTP/1.1" 200 OK
2025-11-07 18:57:46,014 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:55137 - "GET /api/v1/kanban/analytics/itil-summary?start_date=2025-10-08&end_date=2025-11-07 HTTP/1.1" 200 OK
2025-11-07 18:57:46,020 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:54326 - "GET /api/v1/kanban/analytics/itil-cards-paginated?skip=0&limit=50&start_date=2025-10-08&end_date=2025-11-07&sort_by=completedDate&sort_order=desc HTTP/1.1" 200 OK
2025-11-07 18:58:27,997 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:58:27,998 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:58:27,999 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:58:27,999 INFO sqlalchemy.engine.Engine [cached since 1236s ago] ('1',)
2025-11-07 18:58:28,000 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:58:28,001 INFO sqlalchemy.engine.Engine [cached since 1236s ago] ('1',)
2025-11-07 18:58:28,001 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:58:28,002 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:58:28,004 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:58:28,005 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:58:28,005 INFO sqlalchemy.engine.Engine [cached since 1236s ago] ('1',)
2025-11-07 18:58:28,010 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:58:28,016 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:58:28,019 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:58:28,019 INFO sqlalchemy.engine.Engine [cached since 1236s ago] (1,)
2025-11-07 18:58:28,021 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:58:28,022 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:58:28,022 INFO sqlalchemy.engine.Engine [cached since 1236s ago] (1,)
2025-11-07 18:58:28,024 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:58:28,024 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:58:28,025 INFO sqlalchemy.engine.Engine [cached since 1236s ago] (1,)
2025-11-07 18:58:28,028 INFO sqlalchemy.engine.Engine SELECT core.[CardColumns].[ColumnID], core.[CardColumns].[CompanyID], core.[CardColumns].[ColumnName], core.[CardColumns].[DisplayOrder], core.[CardColumns].[Color], core.[CardColumns].[IsActive], core.[CardColumns].[CreatedAt] 
FROM core.[CardColumns] 
WHERE core.[CardColumns].[CompanyID] = ? AND core.[CardColumns].[IsActive] = 1 ORDER BY core.[CardColumns].[DisplayOrder]
2025-11-07 18:58:28,028 INFO sqlalchemy.engine.Engine [cached since 1236s ago] (1,)
2025-11-07 18:58:28,030 INFO sqlalchemy.engine.Engine 
            SELECT COUNT(*) as total
            FROM analytics.vw_ITILReport
            WHERE CompletedDate BETWEEN ? AND ?
            AND CompanyID = ?
        
2025-11-07 18:58:28,030 INFO sqlalchemy.engine.Engine [cached since 1163s ago] ('2025-10-08', '2025-11-07', 1)
2025-11-07 18:58:28,035 INFO sqlalchemy.engine.Engine ROLLBACK
2025-11-07 18:58:28,036 INFO sqlalchemy.engine.Engine 
        SELECT 
            ITILCategory,
            COUNT(*) AS TotalCards,
            AVG(CycleTimeSeconds) AS AvgCycleTime,
            SUM(MetSLA) * 100.0 / NULLIF(COUNT(*), 0) AS SLACompliance,
            SUM(CASE WHEN RiskLevel = 'High' THEN 1 ELSE 0 END) AS HighRiskCount,
            SUM(CASE WHEN HasWindow = 1 THEN 1 ELSE 0 END) AS WithWindow,
            SUM(CASE WHEN HasCAB = 1 THEN 1 ELSE 0 END) AS WithCAB,
            SUM(CASE WHEN HasBackout = 1 THEN 1 ELSE 0 END) AS WithBackout
        FROM analytics.vw_ITILReport
        WHERE CompletedDate BETWEEN ? AND ?
        AND CompanyID = ?
        GROUP BY ITILCategory
        ORDER BY TotalCards DESC
    
2025-11-07 18:58:28,036 INFO sqlalchemy.engine.Engine [cached since 1226s ago] ('2025-10-08', '2025-11-07', 1)
2025-11-07 18:58:28,038 INFO sqlalchemy.engine.Engine 
            SELECT
                CardID, ExternalCardID, Title, ColumnName,
                ITILCategory, RiskLevel, HasWindow, HasCAB, HasBackout,
                CompletedDate, MetSLA, DaysLate
            FROM analytics.vw_ITILReport
            WHERE CompletedDate BETWEEN ? AND ?
            AND CompanyID = ?
            ORDER BY CompletedDate DESC
            OFFSET ? ROWS
            FETCH NEXT ? ROWS ONLY
        
2025-11-07 18:58:28,038 INFO sqlalchemy.engine.Engine [cached since 1163s ago] ('2025-10-08', '2025-11-07', 1, 0, 50)
INFO:     192.168.11.12:50695 - "GET /api/v1/kanban/columns HTTP/1.1" 200 OK
2025-11-07 18:58:28,044 INFO sqlalchemy.engine.Engine ROLLBACK
2025-11-07 18:58:28,047 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:60225 - "GET /api/v1/kanban/analytics/itil-summary?start_date=2025-10-08&end_date=2025-11-07 HTTP/1.1" 200 OK
INFO:     192.168.11.12:63969 - "GET /api/v1/kanban/analytics/itil-cards-paginated?skip=0&limit=50&start_date=2025-10-08&end_date=2025-11-07&sort_by=completedDate&sort_order=desc HTTP/1.1" 200 OK
2025-11-07 18:58:41,989 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:58:41,990 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:58:41,990 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:58:41,991 INFO sqlalchemy.engine.Engine [cached since 1250s ago] ('1',)
2025-11-07 18:58:41,991 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:58:41,992 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:58:41,992 INFO sqlalchemy.engine.Engine [cached since 1250s ago] ('1',)
2025-11-07 18:58:41,993 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:58:41,993 INFO sqlalchemy.engine.Engine [cached since 1250s ago] ('1',)
2025-11-07 18:58:41,994 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:58:41,995 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:58:41,996 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:58:42,006 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:58:42,007 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:58:42,007 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:58:42,008 INFO sqlalchemy.engine.Engine [cached since 1250s ago] (1,)
2025-11-07 18:58:42,008 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:58:42,009 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:58:42,009 INFO sqlalchemy.engine.Engine [cached since 1250s ago] (1,)
2025-11-07 18:58:42,010 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:58:42,010 INFO sqlalchemy.engine.Engine [cached since 1250s ago] (1,)
2025-11-07 18:58:42,018 INFO sqlalchemy.engine.Engine SELECT core.[CardColumns].[ColumnID], core.[CardColumns].[CompanyID], core.[CardColumns].[ColumnName], core.[CardColumns].[DisplayOrder], core.[CardColumns].[Color], core.[CardColumns].[IsActive], core.[CardColumns].[CreatedAt] 
FROM core.[CardColumns] 
WHERE core.[CardColumns].[CompanyID] = ? AND core.[CardColumns].[IsActive] = 1 ORDER BY core.[CardColumns].[DisplayOrder]
2025-11-07 18:58:42,018 INFO sqlalchemy.engine.Engine [cached since 1250s ago] (1,)
2025-11-07 18:58:42,018 INFO sqlalchemy.engine.Engine 
        SELECT 
            ITILCategory,
            COUNT(*) AS TotalCards,
            AVG(CycleTimeSeconds) AS AvgCycleTime,
            SUM(MetSLA) * 100.0 / NULLIF(COUNT(*), 0) AS SLACompliance,
            SUM(CASE WHEN RiskLevel = 'High' THEN 1 ELSE 0 END) AS HighRiskCount,
            SUM(CASE WHEN HasWindow = 1 THEN 1 ELSE 0 END) AS WithWindow,
            SUM(CASE WHEN HasCAB = 1 THEN 1 ELSE 0 END) AS WithCAB,
            SUM(CASE WHEN HasBackout = 1 THEN 1 ELSE 0 END) AS WithBackout
        FROM analytics.vw_ITILReport
        WHERE CompletedDate BETWEEN ? AND ?
        AND CompanyID = ?
        GROUP BY ITILCategory
        ORDER BY TotalCards DESC
    
2025-11-07 18:58:42,019 INFO sqlalchemy.engine.Engine [cached since 1240s ago] ('2025-10-08', '2025-11-07', 1)
2025-11-07 18:58:42,019 INFO sqlalchemy.engine.Engine 
            SELECT COUNT(*) as total
            FROM analytics.vw_ITILReport
            WHERE CompletedDate BETWEEN ? AND ?
            AND CompanyID = ?
        
2025-11-07 18:58:42,019 INFO sqlalchemy.engine.Engine [cached since 1177s ago] ('2025-10-08', '2025-11-07', 1)
2025-11-07 18:58:42,023 INFO sqlalchemy.engine.Engine ROLLBACK
2025-11-07 18:58:42,025 INFO sqlalchemy.engine.Engine 
            SELECT
                CardID, ExternalCardID, Title, ColumnName,
                ITILCategory, RiskLevel, HasWindow, HasCAB, HasBackout,
                CompletedDate, MetSLA, DaysLate
            FROM analytics.vw_ITILReport
            WHERE CompletedDate BETWEEN ? AND ?
            AND CompanyID = ?
            ORDER BY CompletedDate DESC
            OFFSET ? ROWS
            FETCH NEXT ? ROWS ONLY
        
2025-11-07 18:58:42,025 INFO sqlalchemy.engine.Engine [cached since 1177s ago] ('2025-10-08', '2025-11-07', 1, 0, 50)
INFO:     192.168.11.12:64261 - "GET /api/v1/kanban/columns HTTP/1.1" 200 OK
2025-11-07 18:58:42,028 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:56292 - "GET /api/v1/kanban/analytics/itil-summary?start_date=2025-10-08&end_date=2025-11-07 HTTP/1.1" 200 OK
2025-11-07 18:58:42,034 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:57368 - "GET /api/v1/kanban/analytics/itil-cards-paginated?skip=0&limit=50&start_date=2025-10-08&end_date=2025-11-07&sort_by=completedDate&sort_order=desc HTTP/1.1" 200 OK
2025-11-07 18:58:50,995 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:58:50,996 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:58:50,997 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:58:50,997 INFO sqlalchemy.engine.Engine [cached since 1259s ago] ('1',)
2025-11-07 18:58:50,998 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:58:50,998 INFO sqlalchemy.engine.Engine [cached since 1259s ago] ('1',)
2025-11-07 18:58:50,999 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:58:51,000 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 18:58:51,000 INFO sqlalchemy.engine.Engine [cached since 1259s ago] ('1',)
2025-11-07 18:58:51,000 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:58:51,003 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:58:51,004 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 18:58:51,015 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:58:51,016 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:58:51,017 INFO sqlalchemy.engine.Engine [cached since 1259s ago] (1,)
2025-11-07 18:58:51,018 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:58:51,019 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:58:51,019 INFO sqlalchemy.engine.Engine [cached since 1259s ago] (1,)
2025-11-07 18:58:51,020 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 18:58:51,020 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 18:58:51,021 INFO sqlalchemy.engine.Engine [cached since 1259s ago] (1,)
2025-11-07 18:58:51,024 INFO sqlalchemy.engine.Engine 
        SELECT 
            ITILCategory,
            COUNT(*) AS TotalCards,
            AVG(CycleTimeSeconds) AS AvgCycleTime,
            SUM(MetSLA) * 100.0 / NULLIF(COUNT(*), 0) AS SLACompliance,
            SUM(CASE WHEN RiskLevel = 'High' THEN 1 ELSE 0 END) AS HighRiskCount,
            SUM(CASE WHEN HasWindow = 1 THEN 1 ELSE 0 END) AS WithWindow,
            SUM(CASE WHEN HasCAB = 1 THEN 1 ELSE 0 END) AS WithCAB,
            SUM(CASE WHEN HasBackout = 1 THEN 1 ELSE 0 END) AS WithBackout
        FROM analytics.vw_ITILReport
        WHERE CompletedDate BETWEEN ? AND ?
        AND CompanyID = ?
        GROUP BY ITILCategory
        ORDER BY TotalCards DESC
    
2025-11-07 18:58:51,024 INFO sqlalchemy.engine.Engine [cached since 1249s ago] ('2025-10-08', '2025-11-07', 1)
2025-11-07 18:58:51,030 INFO sqlalchemy.engine.Engine SELECT core.[CardColumns].[ColumnID], core.[CardColumns].[CompanyID], core.[CardColumns].[ColumnName], core.[CardColumns].[DisplayOrder], core.[CardColumns].[Color], core.[CardColumns].[IsActive], core.[CardColumns].[CreatedAt] 
FROM core.[CardColumns] 
WHERE core.[CardColumns].[CompanyID] = ? AND core.[CardColumns].[IsActive] = 1 ORDER BY core.[CardColumns].[DisplayOrder]
2025-11-07 18:58:51,030 INFO sqlalchemy.engine.Engine [cached since 1259s ago] (1,)
2025-11-07 18:58:51,031 INFO sqlalchemy.engine.Engine 
            SELECT COUNT(*) as total
            FROM analytics.vw_ITILReport
            WHERE CompletedDate BETWEEN ? AND ?
            AND CompanyID = ?
        
2025-11-07 18:58:51,031 INFO sqlalchemy.engine.Engine [cached since 1186s ago] ('2025-10-08', '2025-11-07', 1)
2025-11-07 18:58:51,033 INFO sqlalchemy.engine.Engine ROLLBACK
2025-11-07 18:58:51,035 INFO sqlalchemy.engine.Engine 
            SELECT
                CardID, ExternalCardID, Title, ColumnName,
                ITILCategory, RiskLevel, HasWindow, HasCAB, HasBackout,
                CompletedDate, MetSLA, DaysLate
            FROM analytics.vw_ITILReport
            WHERE CompletedDate BETWEEN ? AND ?
            AND CompanyID = ?
            ORDER BY CompletedDate DESC
            OFFSET ? ROWS
            FETCH NEXT ? ROWS ONLY
        
2025-11-07 18:58:51,035 INFO sqlalchemy.engine.Engine [cached since 1186s ago] ('2025-10-08', '2025-11-07', 1, 0, 50)
INFO:     192.168.11.12:57262 - "GET /api/v1/kanban/analytics/itil-summary?start_date=2025-10-08&end_date=2025-11-07 HTTP/1.1" 200 OK
2025-11-07 18:58:51,041 INFO sqlalchemy.engine.Engine ROLLBACK
2025-11-07 18:58:51,044 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:57252 - "GET /api/v1/kanban/columns HTTP/1.1" 200 OK
INFO:     192.168.11.12:49644 - "GET /api/v1/kanban/analytics/itil-cards-paginated?skip=0&limit=50&start_date=2025-10-08&end_date=2025-11-07&sort_by=completedDate&sort_order=desc HTTP/1.1" 200 OK
2025-11-07 19:00:28,588 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 19:00:28,588 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 19:00:28,589 INFO sqlalchemy.engine.Engine [cached since 1356s ago] ('1',)
2025-11-07 19:00:28,591 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 19:00:28,599 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 19:00:28,601 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 19:00:28,601 INFO sqlalchemy.engine.Engine [cached since 1356s ago] (1,)
2025-11-07 19:00:28,610 INFO sqlalchemy.engine.Engine 
            EXEC [core].[sp_get_dynamic_menus] @user_id_input = ?
        
2025-11-07 19:00:28,610 INFO sqlalchemy.engine.Engine [cached since 1356s ago] (1,)
2025-11-07 19:00:28,621 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:56880 - "GET /api/v1/menus/dynamic HTTP/1.1" 200 OK
INFO:     192.168.11.12:57412 - "OPTIONS /api/v1/kanban/analytics/itil-cards-paginated?skip=0&limit=50&start_date=2025-10-08&end_date=2025-11-07&sort_by=completedDate&sort_order=desc HTTP/1.1" 200 OK
INFO:     192.168.11.12:53811 - "OPTIONS /api/v1/kanban/columns HTTP/1.1" 200 OK
INFO:     192.168.11.12:55112 - "OPTIONS /api/v1/kanban/analytics?start_date=2025-10-08&end_date=2025-11-07 HTTP/1.1" 200 OK
INFO:     192.168.11.12:51271 - "OPTIONS /api/v1/kanban/analytics/itil-cards-paginated?skip=0&limit=50&start_date=2025-10-08&end_date=2025-11-07&sort_by=completedDate&sort_order=desc HTTP/1.1" 200 OK
INFO:     192.168.11.12:57412 - "OPTIONS /api/v1/kanban/columns HTTP/1.1" 200 OK
INFO:     192.168.11.12:52494 - "OPTIONS /api/v1/kanban/analytics?start_date=2025-10-08&end_date=2025-11-07 HTTP/1.1" 200 OK
2025-11-07 19:00:34,731 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 19:00:34,732 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 19:00:34,732 INFO sqlalchemy.engine.Engine [cached since 1363s ago] ('1',)
2025-11-07 19:00:34,733 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 19:00:34,734 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 19:00:34,734 INFO sqlalchemy.engine.Engine [cached since 1363s ago] ('1',)
2025-11-07 19:00:34,735 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 19:00:34,735 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 19:00:34,735 INFO sqlalchemy.engine.Engine [cached since 1363s ago] ('1',)
2025-11-07 19:00:34,736 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 19:00:34,737 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 19:00:34,739 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 19:00:34,749 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 19:00:34,750 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 19:00:34,750 INFO sqlalchemy.engine.Engine [cached since 1362s ago] (1,)
2025-11-07 19:00:34,751 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 19:00:34,752 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 19:00:34,753 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 19:00:34,754 INFO sqlalchemy.engine.Engine [cached since 1362s ago] (1,)
2025-11-07 19:00:34,756 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 19:00:34,756 INFO sqlalchemy.engine.Engine [cached since 1362s ago] (1,)
2025-11-07 19:00:34,757 INFO sqlalchemy.engine.Engine SELECT core.[CardColumns].[ColumnID], core.[CardColumns].[CompanyID], core.[CardColumns].[ColumnName], core.[CardColumns].[DisplayOrder], core.[CardColumns].[Color], core.[CardColumns].[IsActive], core.[CardColumns].[CreatedAt] 
FROM core.[CardColumns] 
WHERE core.[CardColumns].[CompanyID] = ? AND core.[CardColumns].[IsActive] = 1 ORDER BY core.[CardColumns].[DisplayOrder]
2025-11-07 19:00:34,757 INFO sqlalchemy.engine.Engine [cached since 1362s ago] (1,)
2025-11-07 19:00:34,760 INFO sqlalchemy.engine.Engine 
        SELECT
            CardID,
            CardCreatedAt,
            OldColumnName,
            NewColumnName,
            MovementDate,
            TimeInStageSeconds,
            DueDate
        FROM [analytics].[vw_CardFullHistory]
        WHERE CompanyID = ?
          AND MovementDate BETWEEN ? AND ?
        
2025-11-07 19:00:34,761 INFO sqlalchemy.engine.Engine [cached since 1362s ago] (1, '2025-10-08', '2025-11-07')
2025-11-07 19:00:34,763 INFO sqlalchemy.engine.Engine ROLLBACK
2025-11-07 19:00:34,767 INFO sqlalchemy.engine.Engine 
            SELECT COUNT(*) as total
            FROM analytics.vw_ITILReport
            WHERE CompletedDate BETWEEN ? AND ?
            AND CompanyID = ?
        
2025-11-07 19:00:34,767 INFO sqlalchemy.engine.Engine [cached since 1289s ago] ('2025-10-08', '2025-11-07', 1)
INFO:     192.168.11.12:53811 - "GET /api/v1/kanban/columns HTTP/1.1" 200 OK
2025-11-07 19:00:34,773 INFO sqlalchemy.engine.Engine 
            SELECT
                CardID, ExternalCardID, Title, ColumnName,
                ITILCategory, RiskLevel, HasWindow, HasCAB, HasBackout,
                CompletedDate, MetSLA, DaysLate
            FROM analytics.vw_ITILReport
            WHERE CompletedDate BETWEEN ? AND ?
            AND CompanyID = ?
            ORDER BY CompletedDate DESC
            OFFSET ? ROWS
            FETCH NEXT ? ROWS ONLY
        
2025-11-07 19:00:34,773 INFO sqlalchemy.engine.Engine [cached since 1289s ago] ('2025-10-08', '2025-11-07', 1, 0, 50)
2025-11-07 19:00:34,775 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 19:00:34,776 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 19:00:34,776 INFO sqlalchemy.engine.Engine [cached since 1363s ago] ('1',)
2025-11-07 19:00:34,779 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 19:00:34,781 INFO sqlalchemy.engine.Engine 
        SELECT COUNT(DISTINCT c.CardID) AS WIPCount
        FROM [core].[Cards] c
        WHERE c.CompanyID = ?
          AND c.IsDeleted = 0
          AND c.CompletedDate IS NULL
          AND c.ColumnID IN (
              SELECT cc.ColumnID
              FROM core.CardColumns cc
              WHERE cc.CompanyID = ?
                AND cc.ColumnName NOT IN ('Backlog', 'ConcluÃ­do')
          )
        
2025-11-07 19:00:34,781 INFO sqlalchemy.engine.Engine [cached since 1362s ago] (1, 1)
2025-11-07 19:00:34,784 INFO sqlalchemy.engine.Engine ROLLBACK
2025-11-07 19:00:34,788 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:51107 - "GET /api/v1/kanban/analytics/itil-cards-paginated?skip=0&limit=50&start_date=2025-10-08&end_date=2025-11-07&sort_by=completedDate&sort_order=desc HTTP/1.1" 200 OK
INFO:     192.168.11.12:51271 - "GET /api/v1/kanban/analytics?start_date=2025-10-08&end_date=2025-11-07 HTTP/1.1" 200 OK
2025-11-07 19:00:34,794 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 19:00:34,795 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 19:00:34,795 INFO sqlalchemy.engine.Engine [cached since 1362s ago] (1,)
2025-11-07 19:00:34,799 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 19:00:34,802 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 19:00:34,802 INFO sqlalchemy.engine.Engine [cached since 1363s ago] ('1',)
2025-11-07 19:00:34,803 INFO sqlalchemy.engine.Engine SELECT core.[CardColumns].[ColumnID], core.[CardColumns].[CompanyID], core.[CardColumns].[ColumnName], core.[CardColumns].[DisplayOrder], core.[CardColumns].[Color], core.[CardColumns].[IsActive], core.[CardColumns].[CreatedAt] 
FROM core.[CardColumns] 
WHERE core.[CardColumns].[CompanyID] = ? AND core.[CardColumns].[IsActive] = 1 ORDER BY core.[CardColumns].[DisplayOrder]
2025-11-07 19:00:34,803 INFO sqlalchemy.engine.Engine [cached since 1362s ago] (1,)
2025-11-07 19:00:34,803 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 19:00:34,804 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 19:00:34,804 INFO sqlalchemy.engine.Engine [cached since 1363s ago] ('1',)
2025-11-07 19:00:34,805 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 19:00:34,807 INFO sqlalchemy.engine.Engine ROLLBACK
2025-11-07 19:00:34,808 INFO sqlalchemy.engine.Engine COMMIT
INFO:     192.168.11.12:53811 - "GET /api/v1/kanban/columns HTTP/1.1" 200 OK
2025-11-07 19:00:34,817 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 19:00:34,817 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 19:00:34,818 INFO sqlalchemy.engine.Engine [cached since 1362s ago] (1,)
2025-11-07 19:00:34,818 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 19:00:34,819 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 19:00:34,819 INFO sqlalchemy.engine.Engine [cached since 1362s ago] (1,)
2025-11-07 19:00:34,822 INFO sqlalchemy.engine.Engine 
        SELECT
            CardID,
            CardCreatedAt,
            OldColumnName,
            NewColumnName,
            MovementDate,
            TimeInStageSeconds,
            DueDate
        FROM [analytics].[vw_CardFullHistory]
        WHERE CompanyID = ?
          AND MovementDate BETWEEN ? AND ?
        
2025-11-07 19:00:34,822 INFO sqlalchemy.engine.Engine [cached since 1362s ago] (1, '2025-10-08', '2025-11-07')
2025-11-07 19:00:34,824 INFO sqlalchemy.engine.Engine 
            SELECT COUNT(*) as total
            FROM analytics.vw_ITILReport
            WHERE CompletedDate BETWEEN ? AND ?
            AND CompanyID = ?
        
2025-11-07 19:00:34,825 INFO sqlalchemy.engine.Engine [cached since 1289s ago] ('2025-10-08', '2025-11-07', 1)
2025-11-07 19:00:34,828 INFO sqlalchemy.engine.Engine 
            SELECT
                CardID, ExternalCardID, Title, ColumnName,
                ITILCategory, RiskLevel, HasWindow, HasCAB, HasBackout,
                CompletedDate, MetSLA, DaysLate
            FROM analytics.vw_ITILReport
            WHERE CompletedDate BETWEEN ? AND ?
            AND CompanyID = ?
            ORDER BY CompletedDate DESC
            OFFSET ? ROWS
            FETCH NEXT ? ROWS ONLY
        
2025-11-07 19:00:34,828 INFO sqlalchemy.engine.Engine [cached since 1289s ago] ('2025-10-08', '2025-11-07', 1, 0, 50)
2025-11-07 19:00:34,830 INFO sqlalchemy.engine.Engine 
        SELECT COUNT(DISTINCT c.CardID) AS WIPCount
        FROM [core].[Cards] c
        WHERE c.CompanyID = ?
          AND c.IsDeleted = 0
          AND c.CompletedDate IS NULL
          AND c.ColumnID IN (
              SELECT cc.ColumnID
              FROM core.CardColumns cc
              WHERE cc.CompanyID = ?
                AND cc.ColumnName NOT IN ('Backlog', 'ConcluÃ­do')
          )
        
2025-11-07 19:00:34,831 INFO sqlalchemy.engine.Engine [cached since 1362s ago] (1, 1)
2025-11-07 19:00:34,834 INFO sqlalchemy.engine.Engine ROLLBACK
2025-11-07 19:00:34,836 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:52494 - "GET /api/v1/kanban/analytics/itil-cards-paginated?skip=0&limit=50&start_date=2025-10-08&end_date=2025-11-07&sort_by=completedDate&sort_order=desc HTTP/1.1" 200 OK
INFO:     192.168.11.12:51271 - "GET /api/v1/kanban/analytics?start_date=2025-10-08&end_date=2025-11-07 HTTP/1.1" 200 OK
INFO:     192.168.11.12:52494 - "OPTIONS /api/v1/kanban/analytics/cards-in-period?start_date=2025-10-08&end_date=2025-11-07&column_ids=1,2,3,4,5 HTTP/1.1" 200 OK
INFO:     192.168.11.12:51271 - "OPTIONS /api/v1/kanban/analytics/cards-in-period?start_date=2025-10-08&end_date=2025-11-07&column_ids=1,2,3,4,5 HTTP/1.1" 200 OK
INFO:     192.168.11.12:53811 - "OPTIONS /api/v1/kanban/analytics/cards-in-period?start_date=2025-10-08&end_date=2025-11-07&column_ids=1,2,3,4,5 HTTP/1.1" 200 OK
2025-11-07 19:00:35,031 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 19:00:35,032 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 19:00:35,032 INFO sqlalchemy.engine.Engine [cached since 1363s ago] ('1',)
2025-11-07 19:00:35,034 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 19:00:35,041 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 19:00:35,042 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 19:00:35,042 INFO sqlalchemy.engine.Engine [cached since 1363s ago] (1,)
2025-11-07 19:00:35,046 INFO sqlalchemy.engine.Engine EXEC [core].[sp_GetAnalyticsCardsDetails] @StartDate = ?, @EndDate = ?, @CompanyID = ?, @UserID = ?
2025-11-07 19:00:35,046 INFO sqlalchemy.engine.Engine [cached since 1362s ago] ('2025-10-08', '2025-11-07', 1, 1)
2025-11-07 19:00:35,060 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:53811 - "GET /api/v1/kanban/analytics/cards-in-period?start_date=2025-10-08&end_date=2025-11-07&column_ids=1,2,3,4,5 HTTP/1.1" 200 OK
2025-11-07 19:00:35,067 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 19:00:35,067 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 19:00:35,067 INFO sqlalchemy.engine.Engine [cached since 1363s ago] ('1',)
2025-11-07 19:00:35,069 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 19:00:35,076 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 19:00:35,077 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 19:00:35,077 INFO sqlalchemy.engine.Engine [cached since 1363s ago] (1,)
2025-11-07 19:00:35,080 INFO sqlalchemy.engine.Engine EXEC [core].[sp_GetAnalyticsCardsDetails] @StartDate = ?, @EndDate = ?, @CompanyID = ?, @UserID = ?
2025-11-07 19:00:35,081 INFO sqlalchemy.engine.Engine [cached since 1362s ago] ('2025-10-08', '2025-11-07', 1, 1)
2025-11-07 19:00:35,094 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:51271 - "GET /api/v1/kanban/analytics/cards-in-period?start_date=2025-10-08&end_date=2025-11-07&column_ids=1,2,3,4,5 HTTP/1.1" 200 OK
2025-11-07 19:00:35,103 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 19:00:35,103 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 19:00:35,103 INFO sqlalchemy.engine.Engine [cached since 1363s ago] ('1',)
2025-11-07 19:00:35,105 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 19:00:35,112 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 19:00:35,113 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 19:00:35,113 INFO sqlalchemy.engine.Engine [cached since 1363s ago] (1,)
2025-11-07 19:00:35,117 INFO sqlalchemy.engine.Engine EXEC [core].[sp_GetAnalyticsCardsDetails] @StartDate = ?, @EndDate = ?, @CompanyID = ?, @UserID = ?
2025-11-07 19:00:35,117 INFO sqlalchemy.engine.Engine [cached since 1363s ago] ('2025-10-08', '2025-11-07', 1, 1)
2025-11-07 19:00:35,131 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:53811 - "GET /api/v1/kanban/analytics/cards-in-period?start_date=2025-10-08&end_date=2025-11-07&column_ids=1,2,3,4,5 HTTP/1.1" 200 OK
INFO:     192.168.11.12:53811 - "OPTIONS /api/v1/menus/dynamic HTTP/1.1" 200 OK
2025-11-07 19:00:35,513 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 19:00:35,514 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 19:00:35,514 INFO sqlalchemy.engine.Engine [cached since 1363s ago] ('1',)
2025-11-07 19:00:35,516 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 19:00:35,523 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 19:00:35,524 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 19:00:35,524 INFO sqlalchemy.engine.Engine [cached since 1363s ago] (1,)
2025-11-07 19:00:35,527 INFO sqlalchemy.engine.Engine 
            EXEC [core].[sp_get_dynamic_menus] @user_id_input = ?
        
2025-11-07 19:00:35,528 INFO sqlalchemy.engine.Engine [cached since 1363s ago] (1,)
2025-11-07 19:00:35,536 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:53811 - "GET /api/v1/menus/dynamic HTTP/1.1" 200 OK
INFO:     192.168.11.12:53811 - "OPTIONS /api/v1/kanban/analytics/itil-summary?start_date=2025-10-08&end_date=2025-11-07 HTTP/1.1" 200 OK
2025-11-07 19:00:37,493 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 19:00:37,494 INFO sqlalchemy.engine.Engine EXEC sp_set_session_context @key = N'user_id', @value = ?
2025-11-07 19:00:37,494 INFO sqlalchemy.engine.Engine [cached since 1365s ago] ('1',)
2025-11-07 19:00:37,496 INFO sqlalchemy.engine.Engine COMMIT
2025-11-07 19:00:37,504 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-11-07 19:00:37,505 INFO sqlalchemy.engine.Engine SELECT core.users.person_id, core.users.company_id, core.users.establishment_id, core.users.invited_by_user_id, core.users.email_address, core.users.password, core.users.is_active, core.users.is_system_admin, core.users.context_type, core.users.notification_settings, core.users.two_factor_secret, core.users.two_factor_recovery_codes, core.users.last_login_at, core.users.password_changed_at, core.users.deleted_at, core.users.id, core.users.created_at, core.users.updated_at 
FROM core.users 
WHERE core.users.id = ?
2025-11-07 19:00:37,505 INFO sqlalchemy.engine.Engine [cached since 1365s ago] (1,)
2025-11-07 19:00:37,509 INFO sqlalchemy.engine.Engine 
        SELECT 
            ITILCategory,
            COUNT(*) AS TotalCards,
            AVG(CycleTimeSeconds) AS AvgCycleTime,
            SUM(MetSLA) * 100.0 / NULLIF(COUNT(*), 0) AS SLACompliance,
            SUM(CASE WHEN RiskLevel = 'High' THEN 1 ELSE 0 END) AS HighRiskCount,
            SUM(CASE WHEN HasWindow = 1 THEN 1 ELSE 0 END) AS WithWindow,
            SUM(CASE WHEN HasCAB = 1 THEN 1 ELSE 0 END) AS WithCAB,
            SUM(CASE WHEN HasBackout = 1 THEN 1 ELSE 0 END) AS WithBackout
        FROM analytics.vw_ITILReport
        WHERE CompletedDate BETWEEN ? AND ?
        AND CompanyID = ?
        GROUP BY ITILCategory
        ORDER BY TotalCards DESC
    
2025-11-07 19:00:37,509 INFO sqlalchemy.engine.Engine [cached since 1355s ago] ('2025-10-08', '2025-11-07', 1)
2025-11-07 19:00:37,514 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.11.12:53811 - "GET /api/v1/kanban/analytics/itil-summary?start_date=2025-10-08&end_date=2025-11-07 HTTP/1.1" 200 OK
